"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[5765],{55765:(F,v,r)=>{r.r(v),r.d(v,{TaxModule:()=>st});var e=r(60177),m=r(89417),P=r(21626),S=r(74054),C=r(91785),b=r(80493),_=r(15979),h=r(41780),x=r(37886),c=r(40568),g=r(51188);const s={title:{label:"Settings.Local.Tax.TaxName",name:"title",aliasName:"Settings.Local.Tax.TaxName",validatiors:[m.k0.required,m.k0.maxLength(150),m.k0.pattern(/^[a-zA-Z\s]*$/)],type:"text",mandatory:!0,optionalErrorMessage:{pattern:"ValidationsErrorMessage.Allowonlyalphabetsspaces"},placeholder:"Settings.Local.Tax.Title"},value:{label:"Settings.Local.Tax.Value",name:"value",aliasName:"Settings.Local.Tax.Value",validatiors:[m.k0.required,m.k0.maxLength(8)],type:"number",mandatory:!0,placeholder:"Settings.Local.Tax.Number"},status:{label:"Settings.Local.Tax.Status",name:"status",aliasName:"Settings.Local.Tax.Status",mandatory:!0,validatiors:[m.k0.required],type:"ngSelect",placeholder:"placeholder.Choose Role",customData:{data:[{name:"Active",id:"1"},{name:"In-Active",id:"0"}],key:"name",value:"id"}}};var l=r(98852),t=r(54438),u=r(345),y=r(18186);function j(i,p){if(1&i&&(t.qex(0),t.j41(1,"div",9),t.nrm(2,"app-common-form",10),t.k0s(),t.bVm()),2&i){const n=p.$implicit,a=t.XpG();t.R7$(2),t.Y8G("type",null==a.dynamicObjControls[n]?null:a.dynamicObjControls[n].type)("control",null==a.dynamicObjControls[n]?null:a.dynamicObjControls[n].control)("label",null==a.dynamicObjControls[n]?null:a.dynamicObjControls[n].label)("inputId",null==a.dynamicObjControls[n]?null:a.dynamicObjControls[n].inputId)("aliasName",null==a.dynamicObjControls[n]?null:a.dynamicObjControls[n].aliasName)("placeholder",null==a.dynamicObjControls[n]?null:a.dynamicObjControls[n].placeholder)("submitted",a.submitted)("customData",null==a.dynamicObjControls[n]?null:a.dynamicObjControls[n].customData)("optionalErrorMessage",null==a.dynamicObjControls[n]?null:a.dynamicObjControls[n].optionalErrorMessage)("mandatory",null==a.dynamicObjControls[n]?null:a.dynamicObjControls[n].mandatory)}}let T=(()=>{class i{constructor(n,a,o,d,f,O,I){this.modalService=n,this.fb=a,this.sandbox=o,this.route=d,this.taxService=f,this.router=O,this.titleService=I,this.params={},this.editedValueTax={},this.submitted=!1,this.rupeeError=[],this._Object=Object,this.dynamicObjControls={},this.titleService.setTitle("Settings | Localization")}ngOnInit(){this.buildForm()}buildForm(){const n=s,a=(0,l.b0)(n);this.formObjFormGroup=this.fb.group(a),Object.keys(n).forEach(o=>{this.dynamicObjControls[o]=(0,l.yE)(n[o],this.formObjFormGroup)}),this.intializeFunction()}onSubmit(){if(this.submitted=!0,!this.formObjFormGroup.valid)return;const n={};n.title=this.formObjFormGroup.value.title,n.code=this.formObjFormGroup.value.code,n.symbolLeft=this.formObjFormGroup.value.symbolLeft,n.symbolRight=this.formObjFormGroup.value.symbolRight,n.value=this.formObjFormGroup.value.value,n.status=this.formObjFormGroup.value.status,this.editedValueTax?(n.taxId=this.editedValueTax.taxId,this.sandbox.updateTax(n),this.updateTaxSubscription=this.sandbox.taxUpdate$.subscribe(a=>{a&&1===a.status&&this.modalService.close("clear")})):(this.sandbox.addtax(n),this.updateTaxSubscription=this.sandbox.taxNew$.subscribe(a=>{1==a?.status&&this.modalService.close("clear")}))}close(){this.modalService.close("close")}cancel(){this.taxService.setEditedValue(""),this.router.navigate(["/settings/local/tax"])}numberOnly(n){if(n.target.value+n.key>100)return!1;const o=n.which?n.which:n.keyCode;return!(o>31&&(o<48||o>57))}intializeFunction(){this.editTaxId=this.route.snapshot.paramMap.get("id"),this.editTaxForm()}editTaxForm(){this.editedValueTax=this.taxService.getEditedValue(),this.editedValueTax&&(this.taxId=this.editedValueTax.taxId,this.formObjFormGroup.controls.title.setValue(this.editedValueTax.title),this.formObjFormGroup.controls.value.setValue(this.editedValueTax.value),this.formObjFormGroup.controls.status.setValue(String(this.editedValueTax.isActive)))}ngOnDestroy(){this.updateTaxSubscription&&this.updateTaxSubscription.unsubscribe()}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(x.Lw),t.rXU(m.ze),t.rXU(b.R),t.rXU(g.nX),t.rXU(_.n),t.rXU(g.Ix),t.rXU(u.hE))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-spurt-taxadd"]],decls:14,vars:8,consts:[[1,"flex","setting2-inner-header"],[1,"modal-header__title"],[1,"close-modal",3,"click"],["src","assets/img/modal-close.svg"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"action-button-container","flex"],[1,"button-reg","btn-md","tertiary",3,"click"],["type","button",1,"button-reg","btn-md","primary",3,"click"],[1,"form-group"],[3,"type","control","label","inputId","aliasName","placeholder","submitted","customData","optionalErrorMessage","mandatory"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2),t.k0s(),t.j41(3,"button",2),t.bIt("click",function(){return o.close()}),t.nrm(4,"img",3),t.k0s()(),t.j41(5,"div",4),t.DNE(6,j,3,10,"ng-container",5),t.k0s(),t.j41(7,"div",6)(8,"button",7),t.bIt("click",function(){return o.close()}),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"button",8),t.bIt("click",function(){return o.onSubmit()}),t.EFF(12),t.nI1(13,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.SpI(" ",o.taxId?"Update Tax":"Add Tax"," "),t.R7$(4),t.Y8G("ngForOf",o._Object.keys(o.dynamicObjControls)),t.R7$(3),t.JRh(t.bMT(10,4,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(13,6,"Settings.Local.Save")))},dependencies:[e.Sq,y.V,h.D9],styles:["sup[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{color:red}"]})}}return i})();var k=r(55735),R=r(64363);function M(i){for(const p in i)i.hasOwnProperty(p)&&(null==i[p]||""===i[p])&&delete i[p];return i}const G={search:{name:"search",aliasName:"",validatiors:[],type:"text",placeholder:"marketplace.common.Search"}},D={1:{text:"common.Active",class:"active"},0:{text:"common.In-Active",class:"inactive"}};var $=r(18359),L=r(34501),V=r(74937),N=r(42612),A=r(87277),X=r(35697);const U=["myDropdown"],w=["myInput"],Y=i=>({productStatus:i});function z(i,p){if(1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"date"),t.bVm()),2&i){const n=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,n.value,"dd/MM/YYYY")," ")}}function B(i,p){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const n=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",1==n.value?"Active":"In-active"," ")}}function K(i,p){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const n=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",n.value," ")}}function Q(i,p){if(1&i){const n=t.RV6();t.j41(0,"div",21)(1,"span"),t.EFF(2),t.k0s(),t.qex(3,22),t.DNE(4,z,3,4,"ng-container",23)(5,B,2,1,"ng-container",23)(6,K,2,1,"ng-container",24),t.bVm(),t.j41(7,"button",25),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,d=t.XpG();return t.Njj(d.removeFilter(o))}),t.nrm(8,"img",26),t.k0s()()}if(2&i){const n=t.XpG().$implicit;t.R7$(2),t.SpI("",n.key," : "),t.R7$(),t.Y8G("ngSwitch",n.key),t.R7$(),t.Y8G("ngSwitchCase","Date"),t.R7$(),t.Y8G("ngSwitchCase","Status")}}function W(i,p){if(1&i&&(t.j41(0,"div",19),t.DNE(1,Q,9,4,"div",20),t.k0s()),2&i){const n=p.$implicit,a=t.XpG();t.R7$(),t.Y8G("ngIf",!a.empty.includes(n.value))}}function J(i,p){if(1&i){const n=t.RV6();t.j41(0,"app-common-table",27),t.nI1(1,"async"),t.bIt("buttonChangeEvent",function(o){t.eBV(n);const d=t.XpG();return t.Njj(d.buttonAction(o))}),t.k0s()}if(2&i){const n=t.XpG(),a=t.sdS(31);t.Y8G("HeadArray",n.dynamicColumnFields)("GridArray",t.bMT(1,3,n.sandbox.taxList$))("customTemplate",t.eq3(5,Y,a))}}function H(i,p){if(1&i&&t.nrm(0,"app-common-badge",28),2&i){const n=p.$implicit,a=t.XpG();t.Y8G("badge",a.badgeStatusMappings.hasOwnProperty(n.isActive)?a.badgeStatusMappings[n.isActive]:"")}}function Z(i,p){1&i&&(t.j41(0,"div",29)(1,"span"),t.nrm(2,"img",30),t.k0s(),t.j41(3,"h5"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&i&&(t.R7$(4),t.JRh(t.bMT(5,1,"Dashboard.NoDatafound")))}function q(i,p){if(1&i){const n=t.RV6();t.j41(0,"div",31)(1,"app-reusable-pagination",32),t.bIt("pageChange",function(o){t.eBV(n);const d=t.XpG();return t.Njj(d.onPageChange(o))}),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(),t.Y8G("type","numbers")("currentPage",n.currentPage)("totalItems",n.taxCount)("pageSize",n.limit)}}const nt=[{path:"",component:(()=>{class i{constructor(n,a,o,d,f,O,I){this.modal=n,this.sandbox=a,this.taxService=o,this.router=d,this.titleService=f,this.fb=O,this.route=I,this.dynamicColumnFields=structuredClone((()=>{const i=(0,R.ZQ)();return[{displayName:"Settings.Local.Tax.TaxName",id:"title",type:"default",checked:!0,filterColName:"uniformListColumName.orderId"},{displayName:"Settings.Local.Tax.Value",id:"value",type:"default",checked:!0,filterColName:"uniformListColumName.customerName"},{displayName:"Settings.Local.Tax.Status",id:"productStatus",type:"template",checked:!0,filterColName:"Settings.Local.Tax.Status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"Settings.Local.Country.Action",type:"threeDotMenu",checked:!0,isDisable:!i["edit-tax"]&&!i["delete-tax"],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}},menuData:[{name:"Edit",img:"assets/img/edit.svg",displayName:"marketplace.common.Edit",isDisable:!i["edit-tax"]},{name:"Delete",img:"assets/img/delete-new.svg",displayName:"marketplace.common.Delete",isDisable:!i["delete-tax"]}]}]})()),this.badgeStatusMappings=D,this.type="edit",this.filterSearch={},this.limit=sessionStorage.getItem("itemsPerPage")?Number(sessionStorage.getItem("itemsPerPage")):10,this.offset=0,this.currentPage=1,this.keyword="",this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this._Object=Object,this.empty=[null,"",void 0],this.subscriptions=new $.yU,this.titleService.setTitle("Settings | Localization")}ngOnInit(){this.buildForm(),this.routeSubscribe()}buttonAction(n){"threeDotMenu"===n.key&&("Delete"==n.actionType?this.deleteTax(n?.taxId):"Edit"==n.actionType&&this.editTax(n))}addTax(n,a){const o=this.modal.open(T,{windowClass:"add-local",keyboard:!1,backdrop:"static",animation:!1});this.taxService.setEditedValue(""),o.result.then(d=>{"clear"==d&&this.routeSubscribe()})}editTax(n){const a=this.modal.open(T,{windowClass:"add-local",keyboard:!1,backdrop:"static",animation:!1});this.taxService.setEditedValue(n),a.componentInstance.edit=this.type,a.componentInstance.id=n.countryId,a.result.then(o=>{"clear"==o&&this.routeSubscribe()})}deleteTax(n){const a=this.modal.open(k.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});a.componentInstance.key="",a.componentInstance.id="",a.componentInstance.deleteMessage="Tax",a.result.then(o=>{"deleted"===o&&(this.sandbox.deleteTax({taxId:n}),this.regSubscribeEvents())})}removeFilter(n){this.formObjFormGroup.controls[n.key].reset(),this.filterValueUpdate(),this.resetAll()}onPageChange(n){this.limit=n.limit,this.currentPage=Math.floor(n.offset/n.limit)+1,this.taxList()}applyFilter(){this.filterValueUpdate(),this.resetAll()}regSubscribeEvents(){this.sandbox.getTaxDelete$.subscribe(n=>{n&&1===n.status&&(this.taxList(this.pageoffset),this.countPaginationApi())})}taxList(n=0){this.offset=(this.currentPage-1)*this.limit;const a=M(this.getQueryParam());a.count=0,this.sandbox.getTaxList(a),this.updateQueryParam()}countPaginationApi(){this.offset=(this.currentPage-1)*this.limit;const n=M(this.getQueryParam());n.count=1,this.sandbox.getTaxListCount(n),this.sandbox.taxListCount$.subscribe(a=>{a&&(this.taxCount=a.data)})}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}getQueryParam(){return{limit:this.limit,offset:this.offset,keyword:this.backupFormValue.search??""}}resetAll(){this.onPageChange({limit:this.limit,offset:0}),this.countPaginationApi(),this.dropDownClose("myDropdown")}buildForm(){const n=G,a=(0,l.gQ)(n);this.formObjFormGroup=this.fb.group(a),Object.keys(n).forEach(o=>{this.dynamicObjControls[o]=(0,l.yE)(n[o],this.formObjFormGroup)}),this.filterValueUpdate()}dropDownClose(n){this.hasOwnProperty(n)&&this[n]?.close()}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(this.backupFormValue).some(n=>!this.empty.includes(n))}routeSubscribe(){let n={};this.subscriptions.add(this.route.queryParams.subscribe(a=>{n=a,this.limit=n.limit?Number(n.limit):this.limit,this.offset=n.offset?Number(n.offset):0,this.currentPage=n.offset&&n.limit?Math.floor(n.offset/n.limit)+1:1,this.formObjFormGroup.patchValue({search:n.keyword??""}),this.filterValueUpdate()})),this.taxList(),this.countPaginationApi()}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(x.Bq),t.rXU(b.R),t.rXU(_.n),t.rXU(g.Ix),t.rXU(u.hE),t.rXU(m.ze),t.rXU(g.nX))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-spurt-taxlist"]],viewQuery:function(a,o){if(1&a&&(t.GBs(U,5),t.GBs(w,5)),2&a){let d;t.mGM(d=t.lsd())&&(o.myDropdown=d.first),t.mGM(d=t.lsd())&&(o.myInput=d.first)}},decls:36,vars:33,consts:[["itemTemplateRef",""],[1,"local-content"],[1,"set-lay-notes","flex"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-rht","flex"],["class","added-filter flex",4,"ngFor","ngForOf"],[1,"filter-search"],[1,"",3,"keyup.enter"],[3,"type","control","inputId","placeholder"],["appShowHide","",1,"button-reg","primary","btn-sm",3,"click","hideUnAuthorized"],[1,"flex","product-wrap","example-full-width"],[1,"product-table"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,""],[3,"HeadArray","GridArray","customTemplate","buttonChangeEvent",4,"ngIf"],["class","nodata-found",4,"ngIf"],["class","pagination flex",4,"ngIf"],[1,"added-filter","flex"],["class","added-filter-col flex",4,"ngIf"],[1,"added-filter-col","flex"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"click"],["src","assets/img/close.svg","alt",""],[3,"buttonChangeEvent","HeadArray","GridArray","customTemplate"],[3,"badge"],[1,"nodata-found"],["src","assets/imgs/nodatafound.svg","alt",""],[1,"pagination","flex"],[3,"pageChange","type","currentPage","totalItems","pageSize"]],template:function(a,o){if(1&a){const d=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",3)(9,"div",4)(10,"h2"),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"div",5),t.DNE(14,W,2,1,"div",6),t.nI1(15,"keyvalue"),t.j41(16,"div",7)(17,"form",8),t.bIt("keyup.enter",function(){return t.eBV(d),t.Njj(o.applyFilter())}),t.nrm(18,"app-common-form",9),t.k0s()(),t.j41(19,"button",10),t.bIt("click",function(){return t.eBV(d),t.Njj(o.addTax("","add"))}),t.EFF(20),t.nI1(21,"translate"),t.k0s()()(),t.j41(22,"div",11)(23,"div",12)(24,"div",13),t.nrm(25,"app-global-loader",14),t.nI1(26,"async"),t.k0s(),t.j41(27,"div",15),t.DNE(28,J,2,7,"app-common-table",16),t.nI1(29,"async"),t.DNE(30,H,1,1,"ng-template",null,0,t.C5r)(32,Z,6,3,"div",17),t.nI1(33,"async"),t.nI1(34,"async"),t.DNE(35,q,2,4,"div",18),t.k0s()()()()}if(2&a){let d,f;t.R7$(3),t.JRh(t.bMT(4,15,"Settings.nav.Note:")),t.R7$(3),t.SpI("",t.bMT(7,17,"Settings.paragraph.admincanaddvarioustaxes")," "),t.R7$(5),t.Lme(" ",t.bMT(12,19,"Settings.Common.TotalTax")," ( ",o.taxCount," )"),t.R7$(3),t.Y8G("ngForOf",t.bMT(15,21,o.backupFormValue)),t.R7$(4),t.Y8G("type",null==o.dynamicObjControls||null==o.dynamicObjControls.search?null:o.dynamicObjControls.search.type)("control",null==o.dynamicObjControls||null==o.dynamicObjControls.search?null:o.dynamicObjControls.search.control)("inputId",null==o.dynamicObjControls||null==o.dynamicObjControls.search?null:o.dynamicObjControls.search.inputId)("placeholder",null==o.dynamicObjControls||null==o.dynamicObjControls.search?null:o.dynamicObjControls.search.placeholder),t.R7$(),t.Y8G("hideUnAuthorized","create-tax"),t.R7$(),t.SpI(" + ",t.bMT(21,23,"Settings.Local.Tax.AddTax")," "),t.R7$(5),t.Y8G("isShow",t.bMT(26,25,o.sandbox.taxListLoading$)),t.R7$(3),t.Y8G("ngIf",(null==(d=t.bMT(29,27,o.sandbox.taxList$))?null:d.length)>0),t.R7$(4),t.Y8G("ngIf",t.bMT(34,31,0===(null==(f=t.bMT(33,29,o.sandbox.taxList$))?null:f.length)&&o.sandbox.taxListLoaded$)),t.R7$(3),t.Y8G("ngIf",o.taxCount>o.limit)}},dependencies:[e.Sq,e.bT,e.ux,e.e1,e.fG,m.qT,m.cb,m.cV,L.$,V.q,N.V,y.V,A.C,X.D,e.Jj,e.vh,e.lG,h.D9],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}.filterKeyword[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:none!important}.filterKeyword[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}"]})}}return i})(),canActivate:[r(79176).q],data:{permission:"list-tax"}}];let at=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild(nt),g.iI]})}}return i})();var it=r(31984),ot=r(48256);let st=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({providers:[b.R,_.n],imports:[at,S.Vm,ot._B,e.MD,m.YN,m.X1,C.G,it.h,h.h.forChild({loader:{provide:h.Wr,useFactory:c.M,deps:[P.Qq]}}),x.UN]})}}return i})()},34501:(F,v,r)=>{r.d(v,{$:()=>x});var e=r(54438),m=r(60177),P=r(41780);const S=(c,g)=>({active:c,inactive:g});function C(c,g){if(1&c){const s=e.RV6();e.qex(0,3),e.j41(1,"button",10),e.bIt("click",function(){const t=e.eBV(s).$implicit,u=e.XpG(2);return e.Njj(u.goToPage(t))}),e.EFF(2),e.k0s(),e.bVm()}if(2&c){const s=g.$implicit,l=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.l_i(2,S,l.currentPage===s,l.currentPage!==s)),e.R7$(),e.SpI(" ",s," ")}}function b(c,g){if(1&c){const s=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(s);const t=e.XpG();return e.Njj(t.goToPreviousPage())}),e.nrm(2,"img",5),e.k0s(),e.DNE(3,C,3,5,"ng-container",6),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(s);const t=e.XpG();return e.Njj(t.goToNextPage())}),e.nrm(5,"img",7),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"input",8),e.bIt("input",function(t){e.eBV(s);const u=e.XpG();return e.Njj(u.Gotogivenpage(t.target.value))}),e.k0s(),e.j41(10,"div",9),e.EFF(11),e.k0s()()}if(2&c){const s=e.XpG();e.R7$(),e.Y8G("disabled",1===s.currentPage),e.R7$(2),e.Y8G("ngForOf",s.pages),e.R7$(),e.Y8G("disabled",s.currentPage===s.totalPages),e.R7$(3),e.JRh(e.bMT(8,6,"marketplace.common.Page")),e.R7$(2),e.Y8G("value",s.currentPage),e.R7$(2),e.SpI("of ",s.totalPages,"")}}function _(c,g){if(1&c){const s=e.RV6();e.qex(0),e.j41(1,"button",12),e.bIt("click",function(){const t=e.eBV(s).$implicit,u=e.XpG(2);return e.Njj(u.goToPage(t))}),e.EFF(2),e.k0s(),e.bVm()}if(2&c){const s=g.$implicit,l=e.XpG(2);e.R7$(),e.Y8G("disabled",l.currentPage===s),e.R7$(),e.SpI(" ",s," ")}}function h(c,g){if(1&c&&(e.j41(0,"div"),e.DNE(1,_,3,2,"ng-container",11),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.totalPageItems)}}let x=(()=>{class c{constructor(){this.type="default",this.pageChange=new e.bkB,this.pageSizeOptions=[5,10,25,50]}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get totalPageItems(){const s=Math.ceil(this.totalItems/this.pageSize);return[...Array(s).keys()].map(l=>l+1)}get currentPageStart(){return(this.currentPage-1)*this.pageSize+1}get currentPageEnd(){const s=this.currentPage*this.pageSize;return s>this.totalItems?this.totalItems:s}get pages(){const s=this.totalPages,t=[];let y=Math.max(1,this.currentPage-Math.floor(2.5)),j=Math.min(s,y+5-1);j-y+1<5&&(y=Math.max(1,j-5+1));for(let T=y;T<=j;T++)t.push(T);return t}pageChanged(s){this.pageChange.emit({offset:(s.pageIndex+1-1)*this.pageSize,limit:this.pageSize})}goToPage(s){s!==this.currentPage&&this.pageChange.emit({offset:(s-1)*this.pageSize,limit:this.pageSize})}goToFirstPage(){1!==this.currentPage&&this.goToPage(1)}Gotogivenpage(s){!["null","",void 0,0,String(this.currentPage)].includes(s)&&this.totalPages>=s&&this.goToPage(s)}goToLastPage(){this.currentPage!==this.totalPages&&this.goToPage(this.totalPages)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}onPageSizeChange(s){this.pageSize=s.target.value,this.pageChange.emit({offset:0,limit:this.pageSize})}static{this.\u0275fac=function(l){return new(l||c)}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-reusable-pagination"]],inputs:{type:"type",currentPage:"currentPage",pageSize:"pageSize",totalItems:"totalItems"},outputs:{pageChange:"pageChange"},decls:3,vars:3,consts:[[1,"pagination","flex",3,"ngSwitch"],["class","page-count flex",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"page-count","flex"],[1,"icon-button",3,"click","disabled"],["src","assets/img/arrow-left.svg","alt",""],["class","page-count flex",4,"ngFor","ngForOf"],["src","assets/img/arrow-right.svg","alt",""],["readonly","true",3,"input","value"],[1,"page-info"],[3,"click","ngClass"],[4,"ngFor","ngForOf"],[1,"number-button",3,"click","disabled"]],template:function(l,t){1&l&&(e.j41(0,"div",0),e.DNE(1,b,12,8,"div",1)(2,h,2,1,"div",2),e.k0s()),2&l&&(e.Y8G("ngSwitch",t.type),e.R7$(),e.Y8G("ngSwitchCase","numbers"),e.R7$(),e.Y8G("ngSwitchCase","fullnumbers"))},dependencies:[m.YU,m.Sq,m.ux,m.e1,P.D9],styles:[".pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:16px;margin:0 5px}.page-size-selector[_ngcontent-%COMP%]{margin-left:10px}.number-button[_ngcontent-%COMP%]{padding:5px;border:1px solid grey;margin:2px}"]})}}return c})()},55735:(F,v,r)=>{r.d(v,{i:()=>x});var e=r(54438),m=r(37886),P=r(73857),S=r(52619),C=r(41780),b=r(60177);function _(c,g){if(1&c&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.SpI(" Cannot recover a deleted ",s.variantMessage,". Are you sure you want to proceed with deletion ?")}}function h(c,g){if(1&c&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Lme("",e.bMT(2,2,"common.Are you sure want to delete this")," ",s.deleteMessage,"?")}}let x=(()=>{class c{constructor(s,l,t,u){this.activeModal=s,this.sellerSandbox=l,this.productSandbox=t,this.translate=u}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(s=>{!0===s&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(s=>{!0===s&&this.activeModal.close("deleted")})):this.activeModal.close("deleted"),this.deleteMessage=""}static{this.\u0275fac=function(l){return new(l||c)(e.rXU(m.Lw),e.rXU(P.f),e.rXU(S.F),e.rXU(C.c$))}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-delete-confirmation-dialog"]],inputs:{deleteMessage:"deleteMessage",variantMessage:"variantMessage"},decls:17,vars:11,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],[4,"ngIf"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(l,t){1&l&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return t.close()}),e.j41(2,"span",2),e.EFF(3,"\xd7"),e.k0s()(),e.j41(4,"h3"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,_,2,1,"p",3)(8,h,3,4,"p",3),e.nrm(9,"h4"),e.j41(10,"div",4)(11,"button",5),e.bIt("click",function(){return t.close()}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",6),e.bIt("click",function(){return t.deleteContent()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&l&&(e.R7$(5),e.JRh(e.bMT(6,5,"common.Delete Confirmation")),e.R7$(2),e.Y8G("ngIf",t.variantMessage),e.R7$(),e.Y8G("ngIf",!t.variantMessage),e.R7$(4),e.SpI("",e.bMT(13,7,"common.Cancel")," "),e.R7$(3),e.SpI("",e.bMT(16,9,"common.Delete")," "))},dependencies:[b.bT,C.D9],styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]})}}return c})()}}]);