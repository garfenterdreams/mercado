"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[3464],{3464:(T,_,l)=>{l.r(_),l.d(_,{RoleModule:()=>at});var e=l(60177),f=l(40528),g=l(89417),R=l(74054),b=l(27802),C=l(63597),P=l(49705),h=l(51188);const S={roleName:{label:"Settings.Role.RoleName",name:"roleName",validatiors:[g.k0.required,g.k0.pattern(/^[a-zA-Z\s]*$/)],type:"text",placeholder:"Settings.Role.RoleName",mandatory:!0,optionalErrorMessage:{pattern:"ValidationsErrorMessage.Allowonlyalphabetsspaces"}},isActive:{label:"Settings.Role.Status",name:"isActive",type:"toggle",placeholder:"Settings.Role.Status",mandatory:!1,customData:{toggleName:"roleStatus"}}};var r=l(98852),t=l(54438),a=l(37886),c=l(18186),d=l(41780);function u(s,p){if(1&s&&(t.qex(0),t.j41(1,"div",9)(2,"div",10),t.nrm(3,"app-common-form",11),t.k0s()(),t.bVm()),2&s){const o=p.$implicit,n=t.XpG();t.R7$(3),t.Y8G("type",null==n.dynamicObjControls[o]?null:n.dynamicObjControls[o].type)("control",null==n.dynamicObjControls[o]?null:n.dynamicObjControls[o].control)("label",null==n.dynamicObjControls[o]?null:n.dynamicObjControls[o].label)("inputId",null==n.dynamicObjControls[o]?null:n.dynamicObjControls[o].inputId)("aliasName",null==n.dynamicObjControls[o]?null:n.dynamicObjControls[o].aliasName)("placeholder",null==n.dynamicObjControls[o]?null:n.dynamicObjControls[o].placeholder)("submitted",n.submitted)("customData",null==n.dynamicObjControls[o]?null:n.dynamicObjControls[o].customData)("optionalErrorMessage",null==n.dynamicObjControls[o]?null:n.dynamicObjControls[o].optionalErrorMessage)("mandatory",null==n.dynamicObjControls[o]?null:n.dynamicObjControls[o].mandatory)}}let y=(()=>{class s{constructor(o,n,i,m,v,k,F){this.fb=o,this.appSandbox=n,this.route=i,this.router=m,this.ref=v,this.service=k,this.modalService=F,this._Object=Object,this.dynamicObjControls={},this.roleInfo=[],this.submitted=!1,this.pageSize="10",this.keyword="",this.currentPage=1,this.trackByIndex=M=>M,this.limit=sessionStorage.getItem("itemsPerPage")?Number(sessionStorage.getItem("itemsPerPage")):10}ngOnInit(){this.buildForm(),this.intializeFunction()}getRolelist(){this.offset=(this.currentPage-1)*this.limit;const o={};o.limit=this.limit,o.offset=this.offset,o.keyword=this.keyword,this.appSandbox.getRoleList(o)}getRoleListCount(o=0,n){const i={};i.limit=n,i.offset=o,i.keyword=this.keyword,i.count=!0,this.appSandbox.getpagination(i)}cancel(){this.roleInfo=null,this.roleInfo=" ",this.modalService.close("close")}onChangestatus(o){this.isChecked=o.target.checked,1==this.isChecked?this.value=1:0==this.isChecked&&(this.value=0)}onSubmit(){if(this.submitted=!0,!this.formObjFormGroup.invalid&&""!==this.formObjFormGroup.value.name){const o={};o.name=this.formObjFormGroup.value.roleName,o.status=this.formObjFormGroup.value.isActive??0,this.roleInfo&&this.roleInfo[0]&&this.roleInfo[0].groupId?(o.groupId=this.roleInfo[0].groupId,o.status=this.formObjFormGroup.value.isActive??0,this.appSandbox.updateRole(o),this.modalService.close("close")):(this.appSandbox.addRole(o),this.modalService.close("close"))}}close(){this.modalService.close("close")}editRoleList(){this.roleInfo.push(this.service.rolegetdata()),null!==this.roleInfo[0]?this.roleInfo[0]&&this.roleInfo[0].name&&"edit"===this.edit&&setTimeout(()=>{this.formObjFormGroup.controls.roleName.setValue(this.roleInfo[0].name),this.formObjFormGroup.controls.isActive.setValue(this.roleInfo[0].isActive)},100):(this.formObjFormGroup.patchValue({roleName:null,isActive:null}),this.roleInfo=null)}buildForm(){const o=S,n=(0,r.b0)(o);this.formObjFormGroup=this.fb.group(n),Object.keys(o).forEach(i=>{this.dynamicObjControls[i]=(0,r.yE)(o[i],this.formObjFormGroup)})}intializeFunction(){this.roleName=null,this.isActive=null,this.editRoleId=this.route.snapshot.paramMap.get("id"),this.getRolelist(),this.editRoleList()}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(g.ze),t.rXU(b.k),t.rXU(h.nX),t.rXU(h.Ix),t.rXU(t.gRc),t.rXU(C.H),t.rXU(a.Lw))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-spurt-settings-role-add"]],inputs:{edit:"edit",id:"id"},decls:13,vars:7,consts:[[1,"flex","setting2-inner-header"],[1,"modal-header__title"],[1,"close-modal",3,"click"],["src","assets/img/modal-close.svg"],[1,"modal-body"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"action-button-container","flex"],[1,"button-reg","btn-md","tertiary",3,"click"],[1,"button-reg","btn-md","primary",3,"click"],[1,"ap-body-col"],[1,"form-group"],[3,"type","control","label","inputId","aliasName","placeholder","submitted","customData","optionalErrorMessage","mandatory"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2),t.k0s(),t.j41(3,"button",2),t.bIt("click",function(){return i.close()}),t.nrm(4,"img",3),t.k0s()(),t.j41(5,"div",4),t.DNE(6,u,4,10,"ng-container",5),t.k0s(),t.j41(7,"div",6)(8,"button",7),t.bIt("click",function(){return i.close()}),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"button",8),t.bIt("click",function(){return i.onSubmit()}),t.EFF(12),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",i.roleInfo?"Update Role":" Add Role"," "),t.R7$(4),t.Y8G("ngForOf",i._Object.keys(i.dynamicObjControls))("ngForTrackBy",i.trackByIndex),t.R7$(3),t.SpI(" ",t.bMT(10,5,"Settings.User.Cancle")," "),t.R7$(3),t.SpI(" ",i.roleInfo?"Update Role":"Save"," "))},dependencies:[e.Sq,c.V,d.D9],encapsulation:2})}}return s})();var I=l(18359),j=l(55735),D=l(64363);function E(s){for(const p in s)s.hasOwnProperty(p)&&(null==s[p]||""===s[p])&&delete s[p];return s}const G={Search:{label:"marketplace.common.Search",name:"search",aliasName:"",validators:[],type:"text",placeholder:"marketplace.common.Search"}},$={1:{text:"common.Active",class:"active"},0:{text:"common.In-Active",class:"inactive"}};var N=l(345),L=l(34501),A=l(74937),V=l(42612),U=l(87277),X=l(35697);const w=["myDropdown"],B=["myInput"],z=s=>({productStatus:s}),Y=s=>[s];function K(s,p){if(1&s){const o=t.RV6();t.j41(0,"div",24)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"button",25),t.bIt("click",function(){t.eBV(o);const i=t.XpG().$implicit,m=t.XpG();return t.Njj(m.removeFilter(i))}),t.nrm(4,"img",26),t.k0s()()}if(2&s){const o=t.XpG().$implicit;t.R7$(2),t.Lme("",o.key," :",o.value," ")}}function Q(s,p){if(1&s&&(t.j41(0,"div",22),t.DNE(1,K,5,2,"div",23),t.k0s()),2&s){const o=p.$implicit,n=t.XpG();t.R7$(),t.Y8G("ngIf",!n.empty.includes(o.value))}}function W(s,p){if(1&s){const o=t.RV6();t.j41(0,"app-common-table",27),t.bIt("buttonChangeEvent",function(i){t.eBV(o);const m=t.XpG();return t.Njj(m.buttonAction(i))}),t.k0s()}if(2&s){const o=t.XpG(),n=t.sdS(32);t.Y8G("HeadArray",o.dynamicColumnFields)("GridArray",o.roleList)("customTemplate",t.eq3(3,z,n))}}function H(s,p){if(1&s&&t.nrm(0,"app-common-badge",28),2&s){const o=p.$implicit,n=t.XpG();t.Y8G("badge",n.badgeStatusMappings.hasOwnProperty(o.isActive)?n.badgeStatusMappings[o.isActive]:"")}}function J(s,p){1&s&&(t.j41(0,"div",29)(1,"span"),t.nrm(2,"img",30),t.k0s(),t.j41(3,"h5"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&s&&(t.R7$(4),t.JRh(t.bMT(5,1,"Dashboard.NoDatafound")))}function Z(s,p){if(1&s){const o=t.RV6();t.j41(0,"div",31)(1,"app-reusable-pagination",32),t.bIt("pageChange",function(i){t.eBV(o);const m=t.XpG();return t.Njj(m.onPageChange(i))}),t.k0s()()}if(2&s){const o=t.XpG();t.R7$(),t.Y8G("type","numbers")("currentPage",o.currentPage)("totalItems",o.roleCount)("pageSize",t.eq3(4,Y,o.limit))}}let q=(()=>{class s{constructor(o,n,i,m,v,k,F,M){this.router=o,this.route=n,this.fb=i,this.ref=m,this.appSandbox=v,this.service=k,this.modalService=F,this.titleService=M,this._Object=Object,this.empty=[null,"",void 0],this.dynamicColumnFields=structuredClone((()=>{const s=(0,D.ZQ)();return[{displayName:"Settings.Role.Name",id:"name",type:"default",checked:!0,filterColName:"uniformListColumName.orderId"},{displayName:"Settings.Role.Status",id:"productStatus",type:"template",checked:!0,filterColName:"uniformListColumName.status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"Settings.Local.Country.Action",type:"threeDotMenu",checked:!0,isDisable:!s["edit-role"]&&!s["delete-role"]&&!s["edit-role-permission"],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}},menuData:[{name:"Edit",img:"assets/img/edit.svg",displayName:"marketplace.common.Edit",isDisable:!s["edit-role"]},{name:"Delete",img:"assets/img/delete-new.svg",displayName:"marketplace.common.Delete",isDisable:!s["delete-role"]},{name:"role",img:"assets/img/elliptical-h.svg",displayName:"Settings.nav.Permission",isDisable:!s["edit-role-permission"]}]}]})()),this.subscriptions=new I.yU,this.badgeStatusMappings=$,this.roledetails={},this.pageSize="10",this.keyword="",this.currentPage=1,this.filterSearch={},this.type="edit",this.roleList=[],this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this.limit=sessionStorage.getItem("itemsPerPage")?Number(sessionStorage.getItem("itemsPerPage")):10,this.spinner=!1,this.trackByIndex=lt=>lt,this.titleService.setTitle("Settings | Access and permission"),this.regSubscribeEvents()}ngOnInit(){this.buildForm(),this.routeSubscribe()}buttonAction(o){"threeDotMenu"===o.key&&("Delete"==o.actionType?this.deleteRole(o?.groupId):"Edit"==o.actionType?this.addNewRole(o,"Edit"):"role"==o.actionType&&this.goToPermission(o))}addNewRole(o,n){this.roledetails=null,this.service.rolesetdata(this.roledetails);const i=this.modalService.open(y,{windowClass:"add-local",backdrop:"static",centered:!1,animation:!1});"Edit"===n&&(this.roledetails=o,this.service.rolesetdata(this.roledetails),i.componentInstance.edit=this.type,i.componentInstance.id=o),i.result.then(m=>{})}getRolelist(){this.updateSpinner("spinner",!0),this.offset=(this.currentPage-1)*this.limit;let o=E(this.getQueryParam());o.count=!1,this.subscriptions.add(this.service.roleList(o).subscribe(n=>{this.updateSpinner("spinner"),this.roleList=n?.data,this.ref.markForCheck()},n=>{this.updateSpinner("spinner")})),this.updateQueryParam()}updateSpinner(o,n=!1){this.hasOwnProperty(o)&&(this.spinner=n)}onPageChange(o){this.limit=o.limit,this.currentPage=Math.floor(o.offset/o.limit)+1,this.getRolelist()}goToPermission(o){JSON.parse(sessionStorage.getItem("adminUserdetail")),this.router.navigate(["/settings/access-and-permission/permission"],{queryParams:{user:JSON.stringify({id:o.groupId,type:"role",role:o.name}),name:"role"}})}deleteRole(o){const n=this.modalService.open(j.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});n.componentInstance.key="",n.componentInstance.id="",n.componentInstance.deleteMessage="Role",n.result.then(i=>{if("deleted"===i){const m={};m.groupId=o,this.appSandbox.deleteRole(m),this.appSandbox.roleDelete$.subscribe(v=>{v&&1===v.status&&(this.getRolelist(),this.getRoleListCount())})}})}searchList(){this.keyword?(this.filterSearch.keyword=this.keyword,this.getRolelist(),this.getRoleListCount()):(this.getRolelist(),this.getRoleListCount())}keywordchange(o){this.filterSearch.keyword=o}getRoleListCount(){this.offset=(this.currentPage-1)*this.limit;let o=E(this.getQueryParam());o.count=!0,this.subscriptions.add(this.service.roleList(o).subscribe(n=>{this.roleCount=n?.data,this.ref.markForCheck()}))}dropDownClose(o){this.hasOwnProperty(o)&&this[o]?.close()}resetAll(){this.onPageChange({limit:this.limit,offset:0}),this.getRoleListCount(),this.dropDownClose("myDropdown")}applyFilter(){this.filterValueUpdate(),this.resetAll()}removeFilter(o){this.formObjFormGroup.controls[o.key].reset(),this.filterValueUpdate(),this.resetAll()}buildForm(){const o=G,n=(0,r.b0)(o);this.formObjFormGroup=this.fb.group(n),Object.keys(o).forEach(i=>{this.dynamicObjControls[i]=(0,r.yE)(o[i],this.formObjFormGroup)}),this.filterValueUpdate()}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(this.backupFormValue).some(o=>!this.empty.includes(o))}regSubscribeEvents(){this.subscriptions.add(this.appSandbox.roleDelete$.subscribe(o=>{o&&1===o.status&&this.getRolelist()}))}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}getQueryParam(){return{limit:this.limit,offset:this.offset,keyword:this.backupFormValue.search??""}}routeSubscribe(){let o={};this.subscriptions.add(this.route.queryParams.subscribe(n=>{o=n,this.limit=o.limit?Number(o.limit):this.limit,this.offset=o.offset?Number(o.offset):0,this.currentPage=o.offset&&o.limit?Math.floor(o.offset/o.limit)+1:1,this.formObjFormGroup.patchValue({search:o.keyword??""}),this.filterValueUpdate()})),this.getRolelist(),this.getRoleListCount(),this.appSandbox.roleUpdateLoaded$.subscribe(n=>{!0===n&&(this.getRolelist(),this.getRoleListCount())}),this.appSandbox.roleAddLoaded$.subscribe(n=>{!0===n&&(this.getRolelist(),this.getRoleListCount())})}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(h.Ix),t.rXU(h.nX),t.rXU(g.ze),t.rXU(t.gRc),t.rXU(b.k),t.rXU(C.H),t.rXU(a.Bq),t.rXU(N.hE))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-settings-role-list"]],viewQuery:function(n,i){if(1&n&&(t.GBs(w,5),t.GBs(B,5)),2&n){let m;t.mGM(m=t.lsd())&&(i.myDropdown=m.first),t.mGM(m=t.lsd())&&(i.myInput=m.first)}},decls:35,vars:28,consts:[["itemTemplateRef",""],[1,"local-content"],[1,"set-lay-notes","flex"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-rht","flex"],["class","added-filter flex",4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-search"],[1,"",3,"keyup.enter"],[1,"input-group"],[1,"ig-row"],[3,"type","control","label","inputId","aliasName","placeholder"],["appShowHide","",1,"button-reg","primary","btn-sm",3,"click","hideUnAuthorized"],[1,"flex","product-wrap","example-full-width"],[1,"product-table"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,""],[3,"HeadArray","GridArray","customTemplate","buttonChangeEvent",4,"ngIf"],["class","nodata-found",4,"ngIf"],["class","pagination flex",4,"ngIf"],[1,"added-filter","flex"],["class","added-filter-col flex filter-detail",4,"ngIf"],[1,"added-filter-col","flex","filter-detail"],[3,"click"],["src","assets/img/close.svg","alt",""],[3,"buttonChangeEvent","HeadArray","GridArray","customTemplate"],[3,"badge"],[1,"nodata-found"],["src","assets/imgs/nodatafound.svg","alt",""],[1,"pagination","flex"],[3,"pageChange","type","currentPage","totalItems","pageSize"]],template:function(n,i){if(1&n){const m=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",3)(9,"div",4)(10,"h2"),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"div",5),t.DNE(14,Q,2,1,"div",6),t.nI1(15,"keyvalue"),t.j41(16,"div",7)(17,"form",8),t.bIt("keyup.enter",function(){return t.eBV(m),t.Njj(i.applyFilter())}),t.j41(18,"div",9)(19,"div",10),t.nrm(20,"app-common-form",11),t.k0s()()()(),t.j41(21,"button",12),t.bIt("click",function(){return t.eBV(m),t.Njj(i.addNewRole("","add"))}),t.EFF(22),t.nI1(23,"translate"),t.k0s()()(),t.j41(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16),t.nrm(28,"app-global-loader",17),t.k0s(),t.j41(29,"div",18),t.DNE(30,W,1,5,"app-common-table",19)(31,H,1,1,"ng-template",null,0,t.C5r)(33,J,6,3,"div",20)(34,Z,2,6,"div",21),t.k0s()()()()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,18,"Settings.nav.Note:")),t.R7$(3),t.JRh(t.bMT(7,20,"Settings.Role.roleBasedContent")),t.R7$(5),t.Lme("",t.bMT(12,22,"Settings.Role.totalRoles")," ( ",i.roleCount," )"),t.R7$(3),t.Y8G("ngForOf",t.bMT(15,24,i.backupFormValue))("ngForTrackBy",i.trackByIndex),t.R7$(6),t.Y8G("type",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.type)("control",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.control)("label",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.label)("inputId",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.inputId)("aliasName",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.aliasName)("placeholder",null==i.dynamicObjControls||null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.placeholder),t.R7$(),t.Y8G("hideUnAuthorized","create-role"),t.R7$(),t.SpI(" + ",t.bMT(23,26,"Settings.Role.AddNewRole")," "),t.R7$(6),t.Y8G("isShow",i.spinner),t.R7$(2),t.Y8G("ngIf",(null==i.roleList?null:i.roleList.length)>0),t.R7$(3),t.Y8G("ngIf",0===(null==i.roleList?null:i.roleList.length)&&!i.spinner),t.R7$(),t.Y8G("ngIf",i.roleCount>i.limit))},dependencies:[e.Sq,e.bT,g.qT,g.cb,g.cV,L.$,A.q,V.V,c.V,U.C,X.D,e.lG,d.D9],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.setting1-inner-header[_ngcontent-%COMP%]{margin-top:40px!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]})}}return s})();var O=l(79176);const tt=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:q,canActivate:[O.q],data:{permission:"list-role"}},{path:"add",component:y,canActivate:[O.q],data:{permission:"create-role"}},{path:"edit/:id",component:y,canActivate:[O.q],data:{permission:"edit-role"}}];let et=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(tt),h.iI]})}}return s})();var ot=l(91785),nt=l(40568),it=l(21626),st=l(31984);let at=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({providers:[C.H,b.k],imports:[e.MD,f.D,g.YN,g.X1,ot.G,st.h,et,R.Vm.forFeature([P.F]),d.h.forChild({loader:{provide:d.Wr,useFactory:nt.M,deps:[it.Qq]}})]})}}return s})()},34501:(T,_,l)=>{l.d(_,{$:()=>S});var e=l(54438),f=l(60177),g=l(41780);const R=(r,t)=>({active:r,inactive:t});function b(r,t){if(1&r){const a=e.RV6();e.qex(0,3),e.j41(1,"button",10),e.bIt("click",function(){const d=e.eBV(a).$implicit,u=e.XpG(2);return e.Njj(u.goToPage(d))}),e.EFF(2),e.k0s(),e.bVm()}if(2&r){const a=t.$implicit,c=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.l_i(2,R,c.currentPage===a,c.currentPage!==a)),e.R7$(),e.SpI(" ",a," ")}}function C(r,t){if(1&r){const a=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.goToPreviousPage())}),e.nrm(2,"img",5),e.k0s(),e.DNE(3,b,3,5,"ng-container",6),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.goToNextPage())}),e.nrm(5,"img",7),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"input",8),e.bIt("input",function(d){e.eBV(a);const u=e.XpG();return e.Njj(u.Gotogivenpage(d.target.value))}),e.k0s(),e.j41(10,"div",9),e.EFF(11),e.k0s()()}if(2&r){const a=e.XpG();e.R7$(),e.Y8G("disabled",1===a.currentPage),e.R7$(2),e.Y8G("ngForOf",a.pages),e.R7$(),e.Y8G("disabled",a.currentPage===a.totalPages),e.R7$(3),e.JRh(e.bMT(8,6,"marketplace.common.Page")),e.R7$(2),e.Y8G("value",a.currentPage),e.R7$(2),e.SpI("of ",a.totalPages,"")}}function P(r,t){if(1&r){const a=e.RV6();e.qex(0),e.j41(1,"button",12),e.bIt("click",function(){const d=e.eBV(a).$implicit,u=e.XpG(2);return e.Njj(u.goToPage(d))}),e.EFF(2),e.k0s(),e.bVm()}if(2&r){const a=t.$implicit,c=e.XpG(2);e.R7$(),e.Y8G("disabled",c.currentPage===a),e.R7$(),e.SpI(" ",a," ")}}function h(r,t){if(1&r&&(e.j41(0,"div"),e.DNE(1,P,3,2,"ng-container",11),e.k0s()),2&r){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.totalPageItems)}}let S=(()=>{class r{constructor(){this.type="default",this.pageChange=new e.bkB,this.pageSizeOptions=[5,10,25,50]}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get totalPageItems(){const a=Math.ceil(this.totalItems/this.pageSize);return[...Array(a).keys()].map(c=>c+1)}get currentPageStart(){return(this.currentPage-1)*this.pageSize+1}get currentPageEnd(){const a=this.currentPage*this.pageSize;return a>this.totalItems?this.totalItems:a}get pages(){const a=this.totalPages,d=[];let y=Math.max(1,this.currentPage-Math.floor(2.5)),I=Math.min(a,y+5-1);I-y+1<5&&(y=Math.max(1,I-5+1));for(let j=y;j<=I;j++)d.push(j);return d}pageChanged(a){this.pageChange.emit({offset:(a.pageIndex+1-1)*this.pageSize,limit:this.pageSize})}goToPage(a){a!==this.currentPage&&this.pageChange.emit({offset:(a-1)*this.pageSize,limit:this.pageSize})}goToFirstPage(){1!==this.currentPage&&this.goToPage(1)}Gotogivenpage(a){!["null","",void 0,0,String(this.currentPage)].includes(a)&&this.totalPages>=a&&this.goToPage(a)}goToLastPage(){this.currentPage!==this.totalPages&&this.goToPage(this.totalPages)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}onPageSizeChange(a){this.pageSize=a.target.value,this.pageChange.emit({offset:0,limit:this.pageSize})}static{this.\u0275fac=function(c){return new(c||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-reusable-pagination"]],inputs:{type:"type",currentPage:"currentPage",pageSize:"pageSize",totalItems:"totalItems"},outputs:{pageChange:"pageChange"},decls:3,vars:3,consts:[[1,"pagination","flex",3,"ngSwitch"],["class","page-count flex",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"page-count","flex"],[1,"icon-button",3,"click","disabled"],["src","assets/img/arrow-left.svg","alt",""],["class","page-count flex",4,"ngFor","ngForOf"],["src","assets/img/arrow-right.svg","alt",""],["readonly","true",3,"input","value"],[1,"page-info"],[3,"click","ngClass"],[4,"ngFor","ngForOf"],[1,"number-button",3,"click","disabled"]],template:function(c,d){1&c&&(e.j41(0,"div",0),e.DNE(1,C,12,8,"div",1)(2,h,2,1,"div",2),e.k0s()),2&c&&(e.Y8G("ngSwitch",d.type),e.R7$(),e.Y8G("ngSwitchCase","numbers"),e.R7$(),e.Y8G("ngSwitchCase","fullnumbers"))},dependencies:[f.YU,f.Sq,f.ux,f.e1,g.D9],styles:[".pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:16px;margin:0 5px}.page-size-selector[_ngcontent-%COMP%]{margin-left:10px}.number-button[_ngcontent-%COMP%]{padding:5px;border:1px solid grey;margin:2px}"]})}}return r})()},55735:(T,_,l)=>{l.d(_,{i:()=>S});var e=l(54438),f=l(37886),g=l(73857),R=l(52619),b=l(41780),C=l(60177);function P(r,t){if(1&r&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&r){const a=e.XpG();e.R7$(),e.SpI(" Cannot recover a deleted ",a.variantMessage,". Are you sure you want to proceed with deletion ?")}}function h(r,t){if(1&r&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const a=e.XpG();e.R7$(),e.Lme("",e.bMT(2,2,"common.Are you sure want to delete this")," ",a.deleteMessage,"?")}}let S=(()=>{class r{constructor(a,c,d,u){this.activeModal=a,this.sellerSandbox=c,this.productSandbox=d,this.translate=u}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(a=>{!0===a&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(a=>{!0===a&&this.activeModal.close("deleted")})):this.activeModal.close("deleted"),this.deleteMessage=""}static{this.\u0275fac=function(c){return new(c||r)(e.rXU(f.Lw),e.rXU(g.f),e.rXU(R.F),e.rXU(b.c$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-delete-confirmation-dialog"]],inputs:{deleteMessage:"deleteMessage",variantMessage:"variantMessage"},decls:17,vars:11,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],[4,"ngIf"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return d.close()}),e.j41(2,"span",2),e.EFF(3,"\xd7"),e.k0s()(),e.j41(4,"h3"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,P,2,1,"p",3)(8,h,3,4,"p",3),e.nrm(9,"h4"),e.j41(10,"div",4)(11,"button",5),e.bIt("click",function(){return d.close()}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",6),e.bIt("click",function(){return d.deleteContent()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&c&&(e.R7$(5),e.JRh(e.bMT(6,5,"common.Delete Confirmation")),e.R7$(2),e.Y8G("ngIf",d.variantMessage),e.R7$(),e.Y8G("ngIf",!d.variantMessage),e.R7$(4),e.SpI("",e.bMT(13,7,"common.Cancel")," "),e.R7$(3),e.SpI("",e.bMT(16,9,"common.Delete")," "))},dependencies:[C.bT,b.D9],styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]})}}return r})()}}]);