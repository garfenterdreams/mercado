"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[8698],{98698:(Z,S,r)=>{r.r(S),r.d(S,{ZoneModule:()=>lt});var e=r(60177),b=r(40528),p=r(89417),f=r(51188),P=r(18359),j=r(55735),y=r(98852);const I={zoneName:{label:"Settings.Local.Zone.ZoneName",name:"zoneName",aliasName:"Settings.Local.Zone.ZoneName",validatiors:[p.k0.required,p.k0.maxLength(128),p.k0.pattern(/^[a-zA-Z\s]*$/)],type:"text",mandatory:!0,placeholder:"Settings.Local.Zone.ZoneName",optionalErrorMessage:{pattern:"ValidationsErrorMessage.Allowonlyalphabetsspaces"}},zoneCode:{label:"Settings.Local.Zone.ZoneCode",name:"zoneCode",aliasName:"Settings.Local.Zone.ZoneCode",validatiors:[p.k0.required,p.k0.maxLength(30)],type:"text",mandatory:!0,placeholder:"Settings.Local.Zone.ZoneCode"},status:{label:"Settings.Local.Zone.Status",name:"status",aliasName:"Settings.Local.Zone.Status",mandatory:!0,validatiors:[p.k0.required],type:"ngSelect",placeholder:"Settings.Local.Language.SelectStatus",customData:{data:[{name:"Active",id:"1"},{name:"In-Active",id:"0"}],key:"name",value:"id"}},country:{label:"Settings.Local.Zone.Country",name:"country",aliasName:"Settings.Local.Zone.Country",validatiors:[p.k0.required],type:"ngSelect",placeholder:"Settings.Local.Zone.SelectCountry",mandatory:!0,customData:{data:[{}],key:"name",value:"countryId"}}};var t=r(54438),l=r(37886),h=r(47904),a=r(55151),c=r(92033),d=r(68195),g=r(345),C=r(18186),_=r(41780);function O(i,u){if(1&i&&(t.qex(0),t.j41(1,"div",9),t.nrm(2,"app-common-form",10),t.k0s(),t.bVm()),2&i){const n=u.$implicit,o=t.XpG();t.R7$(2),t.Y8G("type",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].type)("control",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].control)("label",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].label)("inputId",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].inputId)("aliasName",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].aliasName)("placeholder",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].placeholder)("submitted",o.submitted)("customData",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].customData)("optionalErrorMessage",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].optionalErrorMessage)("mandatory",null==o.dynamicObjControls[n]?null:o.dynamicObjControls[n].mandatory)}}let x=(()=>{class i{constructor(n,o,s,m,v,F,M,ct,dt){this.modalService=n,this.fb=o,this.route=s,this.sandbox=m,this.countrySandbox=v,this.router=F,this.service=M,this.countryService=ct,this.titleService=dt,this.submitted=!1,this.pageSize=5,this.keyword="",this.pagenationCount=1,this.editZoneInfo=[],this.countryList=[],this.config={displayKey:"name",value:"countryId",search:!0},this.dynamicObjControls={},this._Object=Object,this.titleService.setTitle("Settings | Localization")}ngOnInit(){this.buildForm(),this.intializeFunction()}onSubmit(){if(this.submitted=!0,this.formObjFormGroup.invalid)return;const n={};n.zonename=this.formObjFormGroup.value.zoneName,n.zonecode=this.formObjFormGroup.value.zoneCode,n.country=this.formObjFormGroup.value.country,n.status=this.formObjFormGroup.value.status.toString(),this.editZoneInfo&&this.editZoneInfo[0].zoneId?(n.zoneId=this.editZoneInfo[0].zoneId,this.sandbox.updateZone(n),this.updateZoneSubscription=this.sandbox.updateZone$.subscribe(o=>{1==o?.status&&this.modalService.close("clear")})):(this.sandbox.addNewZone(n),this.updateZoneSubscription=this.sandbox.newZone$.subscribe(o=>{1==o?.status&&this.modalService.close("clear")}))}close(){this.modalService.close("close")}cancel(){this.router.navigate(["/settings/local/zone"])}subscribe(){this.countrySandbox.countryList$.subscribe(n=>{this.countryList=n})}getCountryList(){this.countryService.countrylist({keyword:""}).subscribe(o=>{null!=o&&(I.country.customData.data=o.data)})}editZoneList(){this.editZoneInfo.push(this.service.getzonelistdata()),null!==this.editZoneInfo[0]?this.editZoneInfo[0]&&this.editZoneInfo[0].name&&(this.updateTitle=1,this.formObjFormGroup.controls.zoneName.setValue(this.editZoneInfo[0].name),this.formObjFormGroup.controls.zoneCode.setValue(this.editZoneInfo[0].code),this.formObjFormGroup.controls.country.setValue(this.editZoneInfo[0].country.countryId),this.formObjFormGroup.controls.status.setValue(String(this.editZoneInfo[0].isActive))):this.formObjFormGroup=null}intializeFunction(){this.country=null,this.getCountryList(),this.editZoneId=this.route.snapshot.paramMap.get("id"),this.editZoneList(),this.subscribe()}buildForm(){const n=I,o=(0,y.b0)(n);this.formObjFormGroup=this.fb.group(o),Object.keys(n).forEach(s=>{this.dynamicObjControls[s]=(0,y.yE)(n[s],this.formObjFormGroup)})}ngOnDestroy(){this.updateZoneSubscription&&this.updateZoneSubscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(l.Lw),t.rXU(p.ze),t.rXU(f.nX),t.rXU(h.Y),t.rXU(a.k),t.rXU(f.Ix),t.rXU(c.U),t.rXU(d.o),t.rXU(g.hE))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-settings-zone-add"]],decls:15,vars:10,consts:[[1,"flex","setting2-inner-header"],[1,"modal-header__title"],[1,"close-modal",3,"click"],["src","assets/img/modal-close.svg"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"action-button-container","flex"],[1,"button-reg","btn-md","tertiary",3,"click"],["type","button",1,"button-reg","btn-md","primary",3,"click"],[1,"form-group"],[3,"type","control","label","inputId","aliasName","placeholder","submitted","customData","optionalErrorMessage","mandatory"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return s.close()}),t.nrm(5,"img",3),t.k0s()(),t.j41(6,"div",4),t.DNE(7,O,3,10,"ng-container",5),t.k0s(),t.j41(8,"div",6)(9,"button",7),t.bIt("click",function(){return s.close()}),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"button",8),t.bIt("click",function(){return s.onSubmit()}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()),2&o&&(t.R7$(2),t.JRh(s.updateTitle?"Update Zone":t.bMT(3,4,"Add Zone")),t.R7$(5),t.Y8G("ngForOf",s._Object.keys(s.dynamicObjControls)),t.R7$(3),t.JRh(t.bMT(11,6,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(14,8,"Settings.Local.Save")))},dependencies:[e.Sq,C.V,_.D9],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}"]})}}return i})();var k=r(64363);const E={search:{name:"search",aliasName:"",validatiors:[],type:"text",placeholder:"marketplace.common.Search"}};function T(i){for(const u in i)i.hasOwnProperty(u)&&(null==i[u]||""===i[u])&&delete i[u];return i}const L={1:{text:"common.Active",class:"active"},0:{text:"common.In-Active",class:"inactive"}};var G=r(34501),z=r(74937),D=r(42612),$=r(87277),N=r(35697);const V=["myDropdown"],A=["myInput"],U=(i,u)=>({productStatus:i,countryName:u});function X(i,u){if(1&i&&(t.qex(0),t.EFF(1),t.nI1(2,"date"),t.bVm()),2&i){const n=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,n.value,"dd/MM/YYYY")," ")}}function w(i,u){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const n=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",1==n.value?"Active":"In-active"," ")}}function Y(i,u){if(1&i&&(t.qex(0),t.EFF(1),t.bVm()),2&i){const n=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",n.value," ")}}function B(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",22)(1,"span"),t.EFF(2),t.k0s(),t.qex(3,23),t.DNE(4,X,3,4,"ng-container",24)(5,w,2,1,"ng-container",24)(6,Y,2,1,"ng-container",25),t.bVm(),t.j41(7,"button",26),t.bIt("click",function(){t.eBV(n);const s=t.XpG().$implicit,m=t.XpG();return t.Njj(m.removeFilter(s))}),t.nrm(8,"img",27),t.k0s()()}if(2&i){const n=t.XpG().$implicit;t.R7$(2),t.SpI("",n.key," : "),t.R7$(),t.Y8G("ngSwitch",n.key),t.R7$(),t.Y8G("ngSwitchCase","Date"),t.R7$(),t.Y8G("ngSwitchCase","Status")}}function K(i,u){if(1&i&&(t.j41(0,"div",20),t.DNE(1,B,9,4,"div",21),t.k0s()),2&i){const n=u.$implicit,o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.empty.includes(n.value))}}function Q(i,u){if(1&i){const n=t.RV6();t.j41(0,"app-common-table",28),t.nI1(1,"async"),t.bIt("buttonChangeEvent",function(s){t.eBV(n);const m=t.XpG();return t.Njj(m.buttonAction(s))}),t.k0s()}if(2&i){const n=t.XpG(),o=t.sdS(31),s=t.sdS(33);t.Y8G("HeadArray",n.dynamicColumnFields)("GridArray",t.bMT(1,3,n.zoneSandbox.zoneList$))("customTemplate",t.l_i(5,U,o,s))}}function W(i,u){if(1&i&&t.nrm(0,"app-common-badge",29),2&i){const n=u.$implicit,o=t.XpG();t.Y8G("badge",o.badgeStatusMappings.hasOwnProperty(n.isActive)?o.badgeStatusMappings[n.isActive]:"")}}function J(i,u){if(1&i&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&i){const n=u.$implicit;t.R7$(),t.SpI(" ",n.country.name," ")}}function H(i,u){1&i&&(t.j41(0,"div",31)(1,"span"),t.nrm(2,"img",32),t.k0s(),t.j41(3,"h5"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&i&&(t.R7$(4),t.JRh(t.bMT(5,1,"Dashboard.NoDatafound")))}function q(i,u){if(1&i){const n=t.RV6();t.j41(0,"div",33)(1,"app-reusable-pagination",34),t.nI1(2,"async"),t.bIt("pageChange",function(s){t.eBV(n);const m=t.XpG();return t.Njj(m.onPageChange(s))}),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(),t.Y8G("type","numbers")("currentPage",n.currentPage)("totalItems",t.bMT(2,4,n.zoneSandbox.zonePagination$))("pageSize",n.limit)}}const nt=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class i{constructor(n,o,s,m,v,F,M){this.modal=n,this.router=o,this.zoneSandbox=s,this.service=m,this.titleService=v,this.fb=F,this.route=M,this.dynamicColumnFields=structuredClone((()=>{const i=(0,k.ZQ)();return[{displayName:"Settings.Local.Zone.Country",id:"countryName",type:"template",checked:!0,filterColName:"Settings.Local.Zone.Country"},{displayName:"Settings.Local.Zone.ZoneName",id:"name",type:"default",checked:!0,filterColName:"Settings.Local.Zone.ZoneName"},{displayName:"Settings.Local.Zone.ZoneCode",id:"code",type:"default",checked:!0,filterColName:"Settings.Local.Zone.ZoneCode"},{displayName:"Settings.Local.Emailtemplate.Status",id:"productStatus",type:"template",checked:!0,filterColName:"Settings.Local.Emailtemplate.Status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"Settings.Local.Zone.Action",type:"threeDotMenu",checked:!0,isDisable:!i["edit-zone"]&&!i["delete-zone"],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}},menuData:[{name:"Edit",img:"assets/img/edit.svg",displayName:"marketplace.common.Edit",isDisable:!i["edit-zone"]},{name:"Delete",img:"assets/img/delete-new.svg",displayName:"marketplace.common.Delete",isDisable:!i["delete-zone"]}]}]})()),this.badgeStatusMappings=L,this.type="edit",this.pageSize="5",this.keyword="",this.currentPage=1,this.filterSearch={},this.offset=0,this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this._Object=Object,this.empty=[null,"",void 0],this.limit=sessionStorage.getItem("itemsPerPage")?Number(sessionStorage.getItem("itemsPerPage")):10,this.subscriptions=new P.yU,this.titleService.setTitle("Settings | Localization")}ngOnInit(){this.buildForm(),this.routeSubscribe()}buttonAction(n){"threeDotMenu"===n.key&&("Delete"==n.actionType?this.deleteZone(n?.zoneId):"Edit"==n.actionType&&this.editZone(n))}editZone(n){const o=this.modal.open(x,{windowClass:"add-local",keyboard:!1,backdrop:"static",animation:!1});this.service.setzonelistdata(n),o.componentInstance.edit=this.type,o.componentInstance.id=n.countryId,o.result.then(s=>{"clear"==s&&this.routeSubscribe()})}addeNewZone(n,o){const s=this.modal.open(x,{windowClass:"add-local",keyboard:!1,backdrop:"static",animation:!1});this.service.setzonelistdata(""),s.result.then(m=>{"clear"==m&&this.routeSubscribe()})}deleteZone(n){const o=this.modal.open(j.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});o.componentInstance.key="",o.componentInstance.id="",o.componentInstance.deleteMessage="Zone",o.result.then(s=>{"deleted"===s&&(this.zoneSandbox.zoneDelete({zoneId:n}),this.regSubscribeEvents())})}getZonesList(n=0){this.offset=(this.currentPage-1)*this.limit;const o=T(this.getQueryParam());o.count=!1,this.zoneSandbox.getZoneList(o),this.updateQueryParam()}getZonesListCount(n=0){this.offset=(this.currentPage-1)*this.limit;const o=T(this.getQueryParam());o.count=!0,this.zoneSandbox.getZonePagination(o)}regSubscribeEvents(){this.zoneSandbox.deleteZone$.subscribe(n=>{n&&1===n.status&&this.getZonesList(this.offset)})}dropDownClose(n){this.hasOwnProperty(n)&&this[n]?.close()}onPageChange(n){this.limit=n.limit,this.currentPage=Math.floor(n.offset/n.limit)+1,this.getZonesList()}resetAll(){this.onPageChange({limit:this.limit,offset:0}),this.getZonesListCount(),this.dropDownClose("myDropdown")}applyFilter(){this.filterValueUpdate(),this.resetAll()}buildForm(){const n=E,o=(0,y.gQ)(n);this.formObjFormGroup=this.fb.group(o),Object.keys(n).forEach(s=>{this.dynamicObjControls[s]=(0,y.yE)(n[s],this.formObjFormGroup)}),this.filterValueUpdate()}removeFilter(n){this.formObjFormGroup.controls[n.key].reset(),this.filterValueUpdate(),this.resetAll()}filterReset(n){"clearAll"==n?this.formObjFormGroup.reset():this.formObjFormGroup.patchValue({search:""}),this.filterValueUpdate(),this.resetAll()}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}getQueryParam(){return{limit:this.limit,offset:this.offset,keyword:this.backupFormValue.search??""}}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(this.backupFormValue).some(n=>!this.empty.includes(n))}routeSubscribe(){let n={};this.subscriptions.add(this.route.queryParams.subscribe(o=>{n=o,this.limit=n.limit?Number(n.limit):this.limit,this.offset=n.offset?Number(n.offset):0,this.currentPage=n.offset&&n.limit?Math.floor(n.offset/n.limit)+1:1,this.formObjFormGroup.patchValue({search:n.keyword??""}),this.filterValueUpdate()})),this.zoneSandbox.zoneUpdateLoaded$.subscribe(o=>{1==o?.status&&(this.getZonesList(),this.getZonesListCount())}),this.getZonesList(),this.getZonesListCount()}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(l.Bq),t.rXU(f.Ix),t.rXU(h.Y),t.rXU(c.U),t.rXU(g.hE),t.rXU(p.ze),t.rXU(f.nX))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-settings-zone-list"]],viewQuery:function(o,s){if(1&o&&(t.GBs(V,5),t.GBs(A,5)),2&o){let m;t.mGM(m=t.lsd())&&(s.myDropdown=m.first),t.mGM(m=t.lsd())&&(s.myInput=m.first)}},decls:39,vars:34,consts:[["itemTemplateRef",""],["itemTemplateRefCountry",""],[1,"local-content"],[1,"set-lay-notes","flex"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-rht","flex"],["class","added-filter flex",4,"ngFor","ngForOf"],[1,"filter-search"],[1,"",3,"keyup.enter"],[3,"type","control","inputId","placeholder"],["appShowHide","",1,"button-reg","primary","btn-sm",3,"click","hideUnAuthorized"],[1,"flex","product-wrap","example-full-width"],[1,"product-table"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,""],[3,"HeadArray","GridArray","customTemplate","buttonChangeEvent",4,"ngIf"],["class","nodata-found",4,"ngIf"],["class","pagination flex",4,"ngIf"],[1,"added-filter","flex"],["class","added-filter-col flex",4,"ngIf"],[1,"added-filter-col","flex"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"click"],["src","assets/img/close.svg","alt",""],[3,"buttonChangeEvent","HeadArray","GridArray","customTemplate"],[3,"badge"],[1,"text-center"],[1,"nodata-found"],["src","assets/imgs/nodatafound.svg","alt",""],[1,"pagination","flex"],[3,"pageChange","type","currentPage","totalItems","pageSize"]],template:function(o,s){if(1&o){const m=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h4"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",4)(9,"div",5)(10,"h2"),t.EFF(11),t.nI1(12,"async"),t.k0s()(),t.j41(13,"div",6),t.DNE(14,K,2,1,"div",7),t.nI1(15,"keyvalue"),t.j41(16,"div",8)(17,"form",9),t.bIt("keyup.enter",function(){return t.eBV(m),t.Njj(s.applyFilter())}),t.nrm(18,"app-common-form",10),t.k0s()(),t.j41(19,"button",11),t.bIt("click",function(){return t.eBV(m),t.Njj(s.addeNewZone("","add"))}),t.EFF(20),t.nI1(21,"translate"),t.k0s()()()(),t.j41(22,"div",12)(23,"div",13)(24,"div",14),t.nrm(25,"app-global-loader",15),t.nI1(26,"async"),t.k0s(),t.j41(27,"div",16),t.DNE(28,Q,2,8,"app-common-table",17),t.nI1(29,"async"),t.DNE(30,W,1,1,"ng-template",null,0,t.C5r)(32,J,2,1,"ng-template",null,1,t.C5r)(34,H,6,3,"div",18),t.nI1(35,"async"),t.nI1(36,"async"),t.DNE(37,q,3,6,"div",19),t.nI1(38,"async"),t.k0s()()()}if(2&o){let m,v;t.R7$(3),t.JRh(t.bMT(4,14,"Settings.nav.Note:")),t.R7$(3),t.SpI("",t.bMT(7,16,"Settings.paragraph.Masterlistofcountries")," "),t.R7$(5),t.SpI(" Total Zone ( ",t.bMT(12,18,s.zoneSandbox.zonePagination$)," )"),t.R7$(3),t.Y8G("ngForOf",t.bMT(15,20,s.backupFormValue)),t.R7$(4),t.Y8G("type",null==s.dynamicObjControls||null==s.dynamicObjControls.search?null:s.dynamicObjControls.search.type)("control",null==s.dynamicObjControls||null==s.dynamicObjControls.search?null:s.dynamicObjControls.search.control)("inputId",null==s.dynamicObjControls||null==s.dynamicObjControls.search?null:s.dynamicObjControls.search.inputId)("placeholder",null==s.dynamicObjControls||null==s.dynamicObjControls.search?null:s.dynamicObjControls.search.placeholder),t.R7$(),t.Y8G("hideUnAuthorized","create-zone"),t.R7$(),t.SpI("+ ",t.bMT(21,22,"Settings.Local.Zone.AddNewZone")," "),t.R7$(5),t.Y8G("isShow",t.bMT(26,24,s.zoneSandbox.zoneListLoading$)),t.R7$(3),t.Y8G("ngIf",(null==(m=t.bMT(29,26,s.zoneSandbox.zoneList$))?null:m.length)>0),t.R7$(6),t.Y8G("ngIf",t.bMT(36,30,0===(null==(v=t.bMT(35,28,s.zoneSandbox.zoneList$))?null:v.length)&&s.zoneSandbox.zoneListLoaded$)),t.R7$(3),t.Y8G("ngIf",t.bMT(38,32,s.zoneSandbox.zonePagination$)>10)}},dependencies:[e.Sq,e.bT,e.ux,e.e1,e.fG,p.qT,p.cb,p.cV,G.$,z.q,D.V,C.V,$.C,N.D,e.Jj,e.vh,e.lG,_.D9],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]})}}return i})(),canActivate:[r(79176).q],data:{permission:"list-zone"}}];let ot=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[f.iI.forChild(nt),f.iI]})}}return i})();var it=r(91785),at=r(40568),st=r(21626),rt=r(31984);let lt=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[e.MD,b.D,p.YN,p.X1,it.G,ot,rt.h,_.h.forChild({loader:{provide:_.Wr,useFactory:at.M,deps:[st.Qq]}})]})}}return i})()},34501:(Z,S,r)=>{r.d(S,{$:()=>t});var e=r(54438),b=r(60177),p=r(41780);const f=(l,h)=>({active:l,inactive:h});function P(l,h){if(1&l){const a=e.RV6();e.qex(0,3),e.j41(1,"button",10),e.bIt("click",function(){const d=e.eBV(a).$implicit,g=e.XpG(2);return e.Njj(g.goToPage(d))}),e.EFF(2),e.k0s(),e.bVm()}if(2&l){const a=h.$implicit,c=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.l_i(2,f,c.currentPage===a,c.currentPage!==a)),e.R7$(),e.SpI(" ",a," ")}}function j(l,h){if(1&l){const a=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.goToPreviousPage())}),e.nrm(2,"img",5),e.k0s(),e.DNE(3,P,3,5,"ng-container",6),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(a);const d=e.XpG();return e.Njj(d.goToNextPage())}),e.nrm(5,"img",7),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"input",8),e.bIt("input",function(d){e.eBV(a);const g=e.XpG();return e.Njj(g.Gotogivenpage(d.target.value))}),e.k0s(),e.j41(10,"div",9),e.EFF(11),e.k0s()()}if(2&l){const a=e.XpG();e.R7$(),e.Y8G("disabled",1===a.currentPage),e.R7$(2),e.Y8G("ngForOf",a.pages),e.R7$(),e.Y8G("disabled",a.currentPage===a.totalPages),e.R7$(3),e.JRh(e.bMT(8,6,"marketplace.common.Page")),e.R7$(2),e.Y8G("value",a.currentPage),e.R7$(2),e.SpI("of ",a.totalPages,"")}}function y(l,h){if(1&l){const a=e.RV6();e.qex(0),e.j41(1,"button",12),e.bIt("click",function(){const d=e.eBV(a).$implicit,g=e.XpG(2);return e.Njj(g.goToPage(d))}),e.EFF(2),e.k0s(),e.bVm()}if(2&l){const a=h.$implicit,c=e.XpG(2);e.R7$(),e.Y8G("disabled",c.currentPage===a),e.R7$(),e.SpI(" ",a," ")}}function I(l,h){if(1&l&&(e.j41(0,"div"),e.DNE(1,y,3,2,"ng-container",11),e.k0s()),2&l){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.totalPageItems)}}let t=(()=>{class l{constructor(){this.type="default",this.pageChange=new e.bkB,this.pageSizeOptions=[5,10,25,50]}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get totalPageItems(){const a=Math.ceil(this.totalItems/this.pageSize);return[...Array(a).keys()].map(c=>c+1)}get currentPageStart(){return(this.currentPage-1)*this.pageSize+1}get currentPageEnd(){const a=this.currentPage*this.pageSize;return a>this.totalItems?this.totalItems:a}get pages(){const a=this.totalPages,d=[];let C=Math.max(1,this.currentPage-Math.floor(2.5)),_=Math.min(a,C+5-1);_-C+1<5&&(C=Math.max(1,_-5+1));for(let O=C;O<=_;O++)d.push(O);return d}pageChanged(a){this.pageChange.emit({offset:(a.pageIndex+1-1)*this.pageSize,limit:this.pageSize})}goToPage(a){a!==this.currentPage&&this.pageChange.emit({offset:(a-1)*this.pageSize,limit:this.pageSize})}goToFirstPage(){1!==this.currentPage&&this.goToPage(1)}Gotogivenpage(a){!["null","",void 0,0,String(this.currentPage)].includes(a)&&this.totalPages>=a&&this.goToPage(a)}goToLastPage(){this.currentPage!==this.totalPages&&this.goToPage(this.totalPages)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}onPageSizeChange(a){this.pageSize=a.target.value,this.pageChange.emit({offset:0,limit:this.pageSize})}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-reusable-pagination"]],inputs:{type:"type",currentPage:"currentPage",pageSize:"pageSize",totalItems:"totalItems"},outputs:{pageChange:"pageChange"},decls:3,vars:3,consts:[[1,"pagination","flex",3,"ngSwitch"],["class","page-count flex",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"page-count","flex"],[1,"icon-button",3,"click","disabled"],["src","assets/img/arrow-left.svg","alt",""],["class","page-count flex",4,"ngFor","ngForOf"],["src","assets/img/arrow-right.svg","alt",""],["readonly","true",3,"input","value"],[1,"page-info"],[3,"click","ngClass"],[4,"ngFor","ngForOf"],[1,"number-button",3,"click","disabled"]],template:function(c,d){1&c&&(e.j41(0,"div",0),e.DNE(1,j,12,8,"div",1)(2,I,2,1,"div",2),e.k0s()),2&c&&(e.Y8G("ngSwitch",d.type),e.R7$(),e.Y8G("ngSwitchCase","numbers"),e.R7$(),e.Y8G("ngSwitchCase","fullnumbers"))},dependencies:[b.YU,b.Sq,b.ux,b.e1,p.D9],styles:[".pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:16px;margin:0 5px}.page-size-selector[_ngcontent-%COMP%]{margin-left:10px}.number-button[_ngcontent-%COMP%]{padding:5px;border:1px solid grey;margin:2px}"]})}}return l})()},55735:(Z,S,r)=>{r.d(S,{i:()=>t});var e=r(54438),b=r(37886),p=r(73857),f=r(52619),P=r(41780),j=r(60177);function y(l,h){if(1&l&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&l){const a=e.XpG();e.R7$(),e.SpI(" Cannot recover a deleted ",a.variantMessage,". Are you sure you want to proceed with deletion ?")}}function I(l,h){if(1&l&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l){const a=e.XpG();e.R7$(),e.Lme("",e.bMT(2,2,"common.Are you sure want to delete this")," ",a.deleteMessage,"?")}}let t=(()=>{class l{constructor(a,c,d,g){this.activeModal=a,this.sellerSandbox=c,this.productSandbox=d,this.translate=g}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(a=>{!0===a&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(a=>{!0===a&&this.activeModal.close("deleted")})):this.activeModal.close("deleted"),this.deleteMessage=""}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(b.Lw),e.rXU(p.f),e.rXU(f.F),e.rXU(P.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-delete-confirmation-dialog"]],inputs:{deleteMessage:"deleteMessage",variantMessage:"variantMessage"},decls:17,vars:11,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],[4,"ngIf"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return d.close()}),e.j41(2,"span",2),e.EFF(3,"\xd7"),e.k0s()(),e.j41(4,"h3"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,y,2,1,"p",3)(8,I,3,4,"p",3),e.nrm(9,"h4"),e.j41(10,"div",4)(11,"button",5),e.bIt("click",function(){return d.close()}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",6),e.bIt("click",function(){return d.deleteContent()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&c&&(e.R7$(5),e.JRh(e.bMT(6,5,"common.Delete Confirmation")),e.R7$(2),e.Y8G("ngIf",d.variantMessage),e.R7$(),e.Y8G("ngIf",!d.variantMessage),e.R7$(4),e.SpI("",e.bMT(13,7,"common.Cancel")," "),e.R7$(3),e.SpI("",e.bMT(16,9,"common.Delete")," "))},dependencies:[j.bT,P.D9],styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]})}}return l})()}}]);