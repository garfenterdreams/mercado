"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[1214],{91214:(F,S,r)=>{r.r(S),r.d(S,{UserModule:()=>ce});var t=r(60177),b=r(40528),u=r(89417),j=r(74054),P=r(7152),C=r(26078),_=r(77083),y=r(51188),v=r(48526);const c=/^[a-zA-Z\s]*$/,h="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$",o={FirstName:{label:"Settings.User.FirstName",name:"firstName",validatiors:[u.k0.required,u.k0.pattern(c),u.k0.minLength(3),u.k0.maxLength(32)],type:"text",placeholder:"Settings.User.FirstName",mandatory:!0,optionalErrorMessage:{pattern:"ValidationsErrorMessage.Allowonlyalphabetsspaces"}},LastName:{label:"Settings.User.LastName",name:"lastName",validatiors:[u.k0.required,u.k0.pattern(c),u.k0.maxLength(32)],type:"text",placeholder:"Settings.User.LastName",mandatory:!0,optionalErrorMessage:{pattern:"ValidationsErrorMessage.Allowonlyalphabetsspaces"}},Email:{label:"Settings.User.Email",name:"email",validatiors:[u.k0.required,u.k0.pattern(h),u.k0.maxLength(96)],type:"text",placeholder:"Settings.User.Email",mandatory:!0},Role:{label:"Settings.User.Role",name:"role",validatiors:[u.k0.required,u.k0.maxLength(64),u.k0.pattern(/[!^\w\s]$/)],type:"ngSelect",placeholder:"Settings.User.Role",mandatory:!0,customData:{data:[{}],key:"name",value:"groupId"}},Username:{label:"Settings.User.UserName",name:"username",validatiors:[u.k0.required,u.k0.pattern(h),u.k0.maxLength(32)],type:"text",placeholder:"Settings.User.UserName",mandatory:!0},Password:{label:"Settings.User.Password",name:"password",validatiors:[u.k0.required,v.N.patternValidator(/((?=.*\d)|(?=.*[#$^+=!*()@%&]))/,{hasNumber:!0}),v.N.patternValidator(/[A-Z]/,{hasCapitalCase:!0}),v.N.patternValidator(/[a-z]/,{hasSmallCase:!0}),v.N.patternValidator(/[!@#$%^&*()_+\-=~\[\]{};':"\\|,.<>\/?]/,{hasSpecialCharacter:!0}),u.k0.minLength(8),u.k0.maxLength(50)],type:"password",placeholder:"Settings.User.Password",mandatory:!0,optionalErrorMessage:{hasCapitalCase:"marketplace.Errors.Mustcontainatleast1incapitalcase",hasSmallCase:"marketplace.Errors.Mustcontainatleast1insmallcase",hasNumber:"marketplace.Errors.Musthaveatleast1number",hasSpecialCharacter:"marketplace.Errors.Musthaveatleast1specialcharecter"}}};var l=r(98852),e=r(54438),p=r(37886),I=r(18186),g=r(41780);function U(a,d){if(1&a&&(e.qex(0),e.j41(1,"div",9),e.nrm(2,"app-common-form",10),e.k0s(),e.bVm()),2&a){const s=d.$implicit,i=e.XpG();e.R7$(2),e.Y8G("type",null==i.dynamicObjControls[s]?null:i.dynamicObjControls[s].type)("control",null==i.dynamicObjControls[s]?null:i.dynamicObjControls[s].control)("label",null==i.dynamicObjControls[s]?null:i.dynamicObjControls[s].label)("inputId",null==i.dynamicObjControls[s]?null:i.dynamicObjControls[s].inputId)("aliasName",null==i.dynamicObjControls[s]?null:i.dynamicObjControls[s].aliasName)("placeholder",null==i.dynamicObjControls[s]?null:i.dynamicObjControls[s].placeholder)("submitted",i.submitted)("customData",null==i.dynamicObjControls[s]?null:i.dynamicObjControls[s].customData)("optionalErrorMessage",null==i.dynamicObjControls[s]?null:i.dynamicObjControls[s].optionalErrorMessage)("mandatory",null==i.dynamicObjControls[s]?null:i.dynamicObjControls[s].mandatory)}}let k=(()=>{class a{constructor(s,i,n,m){this.fb=s,this.sandbox=i,this.service=n,this.modalService=m,this.subscriptions=[],this._Object=Object,this.dynamicObjControls={},this.pageSize=10,this.keyword="",this.userInfo=[],this.enteredPassword="",this.groupList=[],this.submitted=!1,this.trackByIndex=f=>f}ngOnInit(){this.buildForm(),this.formObjFormGroup.get("email")?.valueChanges.subscribe(s=>{this.formObjFormGroup.controls.username.setValue(s),this.formObjFormGroup.get("username")?.disable()}),this.getUserGroupList(this.offset,this.keyword),this.subscribe(),this.routeSubscribe()}subscribe(){this.sandbox.getUserGroupList({}),this.subscriptions.push(this.sandbox.getGroupRoleList$.subscribe(s=>{s&&s.length>0&&"edit"===this.edit&&this.editUserList()}))}close(){this.modalService.close("close")}onSubmit(){if(this.submitted=!0,this.formObjFormGroup.invalid)return;const s={};s.firstName=this.formObjFormGroup.value.firstName,s.lastName=this.formObjFormGroup.value.lastName,s.email=this.formObjFormGroup.value.email,s.role=this.formObjFormGroup.value.role,s.username=this.formObjFormGroup.value.email,s.password=[null,"",void 0].includes(this.formObjFormGroup.value.password)?this.userInfo[0].password:this.formObjFormGroup.value.password,this.userInfo&&this.userInfo[0]&&this.userInfo[0].userId?(s.userID=this.userInfo[0].userId,this.sandbox.updateUser(s),this.sandbox.getUpdateUser$.subscribe(i=>{1==i?.status&&(this.modalService.close("remove"),this.service.setdata(""))})):(this.sandbox.addUser(s),this.sandbox.getAddUser$.subscribe(i=>{1==i?.status&&this.modalService.close("remove")}))}enterPassword(s){this.enteredPassword=s}UserCancle(){this.userInfo=" ",this.service.setdata(this.userInfo),this.modalService.close("close")}editUserList(){if(this.serviceData&&(this.userInfo.push(this.serviceData),this.updateUserId=!1),this.userInfo&&this.userInfo[0]&&(this.updateUserId=!1,"edit"===this.edit))for(let s=0;s<this.userInfo.length;s++)this.formObjFormGroup.patchValue({firstName:this.userInfo[0].firstName,lastName:this.userInfo[0].lastName,email:this.userInfo[0].email,username:this.userInfo[0].username,role:this.userInfo[0].usergroup.groupId??this.userInfo[0]?.username}),this.updateTitle=1}getUserGroupList(s=0,i){const n={limit:0};n.offset=s,n.keyword=this.keyword,n.count=0,n.status=1,this.service.userGrouplist(n).subscribe(m=>{null!=m&&(this.groupList=m.data,o.Role.customData.data=this.groupList)})}routeSubscribe(){this.userInfo=[],this.updateUserId=!1,this.userInfo&&this.userInfo[0]&&(this.updateUserId=!0)}buildForm(){const s=o,i=(0,l.gQ)(s);this.formObjFormGroup=this.fb.group(i),Object.keys(s).forEach(n=>{this.dynamicObjControls[n]=(0,l.yE)(s[n],this.formObjFormGroup)}),this.serviceData=this.service.getdata(),[null,"",void 0].includes(this.serviceData)||this.formObjFormGroup.get("password").clearValidators()}ngOnDestroy(){this.sandbox.clearVariable(),this.subscriptions.forEach(s=>s.unsubscribe())}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(u.ze),e.rXU(_.z),e.rXU(C.D),e.rXU(p.Lw))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-spurt-settings-user-add"]],inputs:{userlist:"userlist",edit:"edit",id:"id"},decls:14,vars:9,consts:[[1,"flex","setting2-inner-header"],[1,"modal-header__title"],[1,"close-modal",3,"click"],["src","assets/img/modal-close.svg"],[1,"modal-body"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"action-button-container","flex"],[1,"button-reg","btn-md","tertiary",3,"click"],["type","submit",1,"button-reg","btn-md","primary",3,"click"],[1,"form-group"],[3,"type","control","label","inputId","aliasName","placeholder","submitted","customData","optionalErrorMessage","mandatory"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return n.close()}),e.nrm(4,"img",3),e.k0s()(),e.j41(5,"div",4),e.DNE(6,U,3,10,"ng-container",5),e.k0s(),e.j41(7,"div",6)(8,"button",7),e.bIt("click",function(){return n.UserCancle()}),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"button",8),e.bIt("click",function(){return n.onSubmit()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()),2&i&&(e.R7$(2),e.SpI(" ",n.updateTitle?"Update User":"Add User"," "),e.R7$(4),e.Y8G("ngForOf",n._Object.keys(n.dynamicObjControls))("ngForTrackBy",n.trackByIndex),e.R7$(3),e.JRh(e.bMT(10,5,"Settings.User.Cancle")),e.R7$(3),e.SpI("",n.updateTitle?"Update User":e.bMT(13,7,"Save")," "))},dependencies:[t.Sq,I.V,g.D9],styles:[".form-group-pwd span{position:absolute;right:5px;top:8px}.cancel{background-color:transparent;border:solid 1px #078e05;color:#078e05}.error-class{font-size:.875em;color:red}.password-show-hide{top:2.1875rem!important}\n",".settings-right-wrapper{margin-top:0!important}.setting1-inner-header{margin-top:40px!important}\n"],encapsulation:2})}}return a})();var T=r(18359),M=r(55735),E=r(64363);const D={Search:{label:"marketplace.common.Search",name:"search",aliasName:"",validatiors:[],type:"text",placeholder:"marketplace.common.Search"}},x={1:{text:"common.Active",class:"active"},0:{text:"common.In-Active",class:"inactive"}};var N=r(48256),L=r(345),$=r(34501),w=r(74937),V=r(42612),A=r(87277),X=r(35697);const z=["myDropdown"],B=["myInput"],Y=(a,d,s)=>({productStatus:a,firstandlastname:d,role:s});function K(a,d){if(1&a){const s=e.RV6();e.j41(0,"div",25)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"button",26),e.bIt("click",function(){e.eBV(s);const n=e.XpG().$implicit,m=e.XpG();return e.Njj(m.removeFilter(n))}),e.nrm(4,"img",27),e.k0s()()}if(2&a){const s=e.XpG().$implicit;e.R7$(2),e.Lme("",s.key," :",s.value," ")}}function Q(a,d){if(1&a&&(e.j41(0,"div",23),e.DNE(1,K,5,2,"div",24),e.k0s()),2&a){const s=d.$implicit,i=e.XpG();e.R7$(),e.Y8G("ngIf",!i.empty.includes(s.value))}}function W(a,d){if(1&a){const s=e.RV6();e.j41(0,"app-common-table",28),e.bIt("buttonChangeEvent",function(n){e.eBV(s);const m=e.XpG();return e.Njj(m.buttonAction(n))}),e.k0s()}if(2&a){const s=e.XpG(),i=e.sdS(31),n=e.sdS(33),m=e.sdS(35);e.Y8G("HeadArray",s.dynamicColumnFields)("GridArray",s.userList)("customTemplate",e.sMw(3,Y,m,n,i))}}function Z(a,d){if(1&a&&e.EFF(0),2&a){const s=d.$implicit;e.SpI(" ",null==s||null==s.usergroup?null:s.usergroup.name," ")}}function J(a,d){if(1&a&&e.EFF(0),2&a){const s=d.$implicit;e.SpI(" ",s.firstName+" "+s.lastName," ")}}function H(a,d){if(1&a&&e.nrm(0,"app-common-badge",29),2&a){const s=d.$implicit,i=e.XpG();e.Y8G("badge",i.badgeStatusMappings.hasOwnProperty(s.isActive)?i.badgeStatusMappings[s.isActive]:"")}}function q(a,d){1&a&&(e.j41(0,"div",30)(1,"span"),e.nrm(2,"img",31),e.k0s(),e.j41(3,"h5"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Dashboard.NoDatafound")))}function ee(a,d){if(1&a){const s=e.RV6();e.j41(0,"div",32)(1,"app-reusable-pagination",33),e.bIt("pageChange",function(n){e.eBV(s);const m=e.XpG();return e.Njj(m.onPageChange(n))}),e.k0s()()}if(2&a){const s=e.XpG();e.R7$(),e.Y8G("type","numbers")("currentPage",s.currentPage)("totalItems",s.userCount)("pageSize",s.limit)}}let te=(()=>{class a{constructor(s,i,n,m,f,me,ue,de,pe,he){this.router=s,this.route=i,this.ref=n,this.sandbox=m,this.fb=f,this.service=me,this.toastr=ue,this.translate=de,this.modalService=pe,this.titleService=he,this.dynamicColumnFields=structuredClone((()=>{const a=(0,E.ZQ)();return[{displayName:"Settings.User.fullName",id:"firstandlastname",type:"template",checked:!0,filterColName:"Settings.User.fullName"},{displayName:"Settings.User.EmailId",id:"username",type:"default",checked:!0,filterColName:"Settings.User.EmailId"},{displayName:"Settings.User.Role",id:"role",type:"template",checked:!0,filterColName:"Settings.User.Role"},{displayName:"Settings.Local.Country.Action",type:"threeDotMenu",checked:!0,isDisable:!a["edit-user"]&&!a["delete-user"]&&!a["edit-user-permission"],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}},menuData:[{name:"Edit",img:"assets/img/edit.svg",displayName:"marketplace.common.Edit",isDisable:!a["edit-user"]},{name:"Delete",img:"assets/img/delete-new.svg",displayName:"marketplace.common.Delete",isDisable:!a["delete-user"]},{name:"permission",img:"assets/img/elliptical-h.svg",displayName:"Settings.nav.Permission",isDisable:!a["edit-user-permission"]}]}]})()),this.badgeStatusMappings=x,this.offset=0,this.currentPage=1,this.keyword="",this.userdetails={},this.pageSize="5",this.id="",this.type="edit",this.pagination=1,this.addnewuser=!1,this.subscriptions=new T.yU,this.userList=[],this.filterSearch={},this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this._Object=Object,this.empty=[null,"",void 0],this.limit=sessionStorage.getItem("itemsPerPage")?Number(sessionStorage.getItem("itemsPerPage")):10,this.trackByIndex=ge=>ge,this.spinner=!1,this.titleService.setTitle("Settings | Access and permission")}ngOnInit(){this.buildForm(),this.routeSubscribe(),this.regSubscribeEvents()}buttonAction(s){"threeDotMenu"===s.key&&("Delete"==s.actionType?this.deleteUser(s?.userId):"Edit"==s.actionType?this.addNewUser(s,"Edit"):"permission"==s.actionType&&this.goToPermission(s))}addNewUser(s,i){this.userdetails=null,this.service.setdata(this.userdetails);const n=this.modalService.open(k,{windowClass:"add-local",backdrop:"static",centered:!1,animation:!1});"Edit"===i&&(this.userdetails=s,this.service.setdata(this.userdetails),n.componentInstance.edit=this.type,n.componentInstance.id=s),n.result.then(m=>{"remove"===m&&this.routeSubscribe()})}focusInput(){this.myInput.nativeElement.focus()}keywordchange(s){this.filterSearch.keyword=s}removeFilter(s){this.formObjFormGroup.controls[s.key].reset(),this.filterValueUpdate(),this.resetAll()}onPageChange(s){this.limit=s.limit,this.currentPage=Math.floor(s.offset/s.limit)+1,this.getUserList()}regSubscribeEvents(){this.subscriptions.add(this.sandbox.userDelate$.subscribe(s=>{s&&1===s.status&&this.getUserList()}))}applyFilter(){this.filterValueUpdate(),this.resetAll()}searchList(){this.keyword?(this.index=1,this.filterSearch.keyword=this.keyword,this.getUserList()):this.getUserList()}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(this.backupFormValue).some(s=>!this.empty.includes(s))}buildForm(){const s=D,i=(0,l.b0)(s);this.formObjFormGroup=this.fb.group(i),Object.keys(s).forEach(n=>{this.dynamicObjControls[n]=(0,l.yE)(s[n],this.formObjFormGroup)}),this.filterValueUpdate()}dropDownClose(s){this.hasOwnProperty(s)&&this[s]?.close()}resetAll(){this.onPageChange({limit:this.limit,offset:0}),this.dropDownClose("myDropdown")}deleteUser(s){const i=this.modalService.open(M.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});i.componentInstance.key="",i.componentInstance.id="",i.componentInstance.deleteMessage="User",i.result.then(n=>{if("deleted"===n){const m={};m.id=s,this.sandbox.deleteUser(m),this.sandbox.userDelate$.subscribe(f=>{f&&1===f.status&&this.getUserList()})}})}getUserList(){this.updateSpinner("spinner",!0),this.offset=(this.currentPage-1)*this.limit;let s=function R(a){for(const d in a)a.hasOwnProperty(d)&&(null==a[d]||""===a[d])&&delete a[d];return a}(this.getQueryParam());s.count=!1,this.subscriptions.add(this.service.userlist(s).subscribe(i=>{this.updateSpinner("spinner"),this.userList=i?.data,this.ref.markForCheck()},i=>{this.updateSpinner("spinner")})),this.pagination&&(s.count=!0,this.subscriptions.add(this.service.userpagiantion(s).subscribe(i=>{this.userCount=i?.data,this.ref.markForCheck()}))),this.updateQueryParam()}updateSpinner(s,i=!1){this.hasOwnProperty(s)&&(this.spinner=i)}goToPermission(s){JSON.parse(sessionStorage.getItem("adminUserdetail")).userdetails.userId!==s.userId?this.router.navigate(["/settings/access-and-permission/permission"],{queryParams:{user:JSON.stringify({id:s?.userId,name:s?.firstName+" "+s?.lastName,type:"user",role:s?.usergroup?.name}),name:"user"}}):this.toastr.error("You cannot set permission for current logged in user")}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}getQueryParam(){return{limit:this.limit,offset:this.offset,keyword:this.backupFormValue.search??""}}routeSubscribe(){let s={};this.subscriptions.add(this.route.queryParams.subscribe(i=>{s=i,this.limit=s.limit?Number(s.limit):this.limit,this.offset=s.offset?Number(s.offset):0,this.currentPage=s.offset&&s.limit?Math.floor(s.offset/s.limit)+1:1,this.formObjFormGroup.patchValue({search:s.keyword??""}),this.filterValueUpdate()})),this.getUserList()}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(y.Ix),e.rXU(y.nX),e.rXU(e.gRc),e.rXU(_.z),e.rXU(u.ze),e.rXU(C.D),e.rXU(N.tw),e.rXU(g.c$),e.rXU(p.Bq),e.rXU(L.hE))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-settings-user-list"]],viewQuery:function(i,n){if(1&i&&(e.GBs(z,5),e.GBs(B,5)),2&i){let m;e.mGM(m=e.lsd())&&(n.myDropdown=m.first),e.mGM(m=e.lsd())&&(n.myInput=m.first)}},decls:38,vars:28,consts:[["itemTemplateRefRole",""],["itempTemplateName",""],["itemTemplateRef",""],[1,"local-content"],[1,"set-lay-notes","flex"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-rht","flex"],["class","added-filter flex",4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-search"],[3,"keyup.enter"],[1,"input-group"],[1,"ig-row"],[3,"type","control","label","inputId","aliasName","placeholder"],["appShowHide","",1,"button-reg","primary","btn-sm",3,"click","hideUnAuthorized"],[1,"flex","product-wrap","example-full-width",3,"keyup.Tab"],[1,"product-table"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,""],[3,"HeadArray","GridArray","customTemplate","buttonChangeEvent",4,"ngIf"],["class","nodata-found",4,"ngIf"],["class","pagination flex",4,"ngIf"],[1,"added-filter","flex"],["class","added-filter-col flex filter-detail",4,"ngIf"],[1,"added-filter-col","flex","filter-detail"],[3,"click"],["src","assets/img/close.svg","alt",""],[3,"buttonChangeEvent","HeadArray","GridArray","customTemplate"],[3,"badge"],[1,"nodata-found"],["src","assets/imgs/nodatafound.svg","alt",""],[1,"pagination","flex"],[3,"pageChange","type","currentPage","totalItems","pageSize"]],template:function(i,n){if(1&i){const m=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"h4"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",5)(9,"div",6)(10,"h2"),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"div",7),e.DNE(14,Q,2,1,"div",8),e.nI1(15,"keyvalue"),e.j41(16,"div",9)(17,"form",10),e.bIt("keyup.enter",function(){return e.eBV(m),e.Njj(n.applyFilter())}),e.j41(18,"div",11)(19,"div",12),e.nrm(20,"app-common-form",13),e.k0s()()()(),e.j41(21,"button",14),e.bIt("click",function(){return e.eBV(m),e.Njj(n.addNewUser("","add"))}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()(),e.j41(24,"div",15),e.bIt("keyup.Tab",function(){return e.eBV(m),e.Njj(n.focusInput())}),e.j41(25,"div",16)(26,"div",17),e.nrm(27,"app-global-loader",18),e.k0s(),e.j41(28,"div",19),e.DNE(29,W,1,7,"app-common-table",20)(30,Z,1,1,"ng-template",null,0,e.C5r)(32,J,1,1,"ng-template",null,1,e.C5r)(34,H,1,1,"ng-template",null,2,e.C5r)(36,q,6,3,"div",21)(37,ee,2,4,"div",22),e.k0s()()()()}2&i&&(e.R7$(3),e.JRh(e.bMT(4,18,"Settings.nav.Note:")),e.R7$(3),e.SpI("",e.bMT(7,20,"Settings.nav.Superadmin")," "),e.R7$(5),e.Lme(" ",e.bMT(12,22,"Settings.Common.TotalUsers")," ( ",n.userCount," )"),e.R7$(3),e.Y8G("ngForOf",e.bMT(15,24,n.backupFormValue))("ngForTrackBy",n.trackByIndex),e.R7$(6),e.Y8G("type",null==n.dynamicObjControls||null==n.dynamicObjControls.Search?null:n.dynamicObjControls.Search.type)("control",null==n.dynamicObjControls||null==n.dynamicObjControls.Search?null:n.dynamicObjControls.Search.control)("label",null==n.dynamicObjControls||null==n.dynamicObjControls.Search?null:n.dynamicObjControls.Search.label)("inputId",null==n.dynamicObjControls||null==n.dynamicObjControls.Search?null:n.dynamicObjControls.Search.inputId)("aliasName",null==n.dynamicObjControls||null==n.dynamicObjControls.Search?null:n.dynamicObjControls.Search.aliasName)("placeholder",null==n.dynamicObjControls||null==n.dynamicObjControls.Search?null:n.dynamicObjControls.Search.placeholder),e.R7$(),e.Y8G("hideUnAuthorized","create-user"),e.R7$(),e.SpI(" + ",e.bMT(23,26,"Settings.User.AddNewUser")," "),e.R7$(5),e.Y8G("isShow",n.spinner),e.R7$(2),e.Y8G("ngIf",(null==n.userList?null:n.userList.length)>0),e.R7$(7),e.Y8G("ngIf",0===(null==n.userList?null:n.userList.length)&&!n.spinner),e.R7$(),e.Y8G("ngIf",n.userCount>n.limit))},dependencies:[t.Sq,t.bT,u.qT,u.cb,u.cV,$.$,w.q,V.V,I.V,A.C,X.D,t.lG,g.D9]})}}return a})();var O=r(79176);const se=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:te,data:{permission:"list-user"},canActivate:[O.q]},{path:"add",component:k,canActivate:[O.q],data:{permission:"create-user"}},{path:"edit/:id",component:k,canActivate:[O.q],data:{permission:"edit-user"}}];let ne=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[y.iI.forChild(se),y.iI]})}}return a})();var ie=r(91785),ae=r(40568),oe=r(21626),re=r(31984),le=r(13488);let ce=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[C.D,_.z],imports:[t.MD,b.D,u.YN,u.X1,ie.G,ne,re.h,le.V,j.Vm.forFeature([P.T]),g.h.forChild({loader:{provide:g.Wr,useFactory:ae.M,deps:[oe.Qq]}})]})}}return a})()},34501:(F,S,r)=>{r.d(S,{$:()=>v});var t=r(54438),b=r(60177),u=r(41780);const j=(c,h)=>({active:c,inactive:h});function P(c,h){if(1&c){const o=t.RV6();t.qex(0,3),t.j41(1,"button",10),t.bIt("click",function(){const e=t.eBV(o).$implicit,p=t.XpG(2);return t.Njj(p.goToPage(e))}),t.EFF(2),t.k0s(),t.bVm()}if(2&c){const o=h.$implicit,l=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.l_i(2,j,l.currentPage===o,l.currentPage!==o)),t.R7$(),t.SpI(" ",o," ")}}function C(c,h){if(1&c){const o=t.RV6();t.j41(0,"div",3)(1,"button",4),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.goToPreviousPage())}),t.nrm(2,"img",5),t.k0s(),t.DNE(3,P,3,5,"ng-container",6),t.j41(4,"button",4),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.goToNextPage())}),t.nrm(5,"img",7),t.k0s(),t.j41(6,"p"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"input",8),t.bIt("input",function(e){t.eBV(o);const p=t.XpG();return t.Njj(p.Gotogivenpage(e.target.value))}),t.k0s(),t.j41(10,"div",9),t.EFF(11),t.k0s()()}if(2&c){const o=t.XpG();t.R7$(),t.Y8G("disabled",1===o.currentPage),t.R7$(2),t.Y8G("ngForOf",o.pages),t.R7$(),t.Y8G("disabled",o.currentPage===o.totalPages),t.R7$(3),t.JRh(t.bMT(8,6,"marketplace.common.Page")),t.R7$(2),t.Y8G("value",o.currentPage),t.R7$(2),t.SpI("of ",o.totalPages,"")}}function _(c,h){if(1&c){const o=t.RV6();t.qex(0),t.j41(1,"button",12),t.bIt("click",function(){const e=t.eBV(o).$implicit,p=t.XpG(2);return t.Njj(p.goToPage(e))}),t.EFF(2),t.k0s(),t.bVm()}if(2&c){const o=h.$implicit,l=t.XpG(2);t.R7$(),t.Y8G("disabled",l.currentPage===o),t.R7$(),t.SpI(" ",o," ")}}function y(c,h){if(1&c&&(t.j41(0,"div"),t.DNE(1,_,3,2,"ng-container",11),t.k0s()),2&c){const o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.totalPageItems)}}let v=(()=>{class c{constructor(){this.type="default",this.pageChange=new t.bkB,this.pageSizeOptions=[5,10,25,50]}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get totalPageItems(){const o=Math.ceil(this.totalItems/this.pageSize);return[...Array(o).keys()].map(l=>l+1)}get currentPageStart(){return(this.currentPage-1)*this.pageSize+1}get currentPageEnd(){const o=this.currentPage*this.pageSize;return o>this.totalItems?this.totalItems:o}get pages(){const o=this.totalPages,e=[];let I=Math.max(1,this.currentPage-Math.floor(2.5)),g=Math.min(o,I+5-1);g-I+1<5&&(I=Math.max(1,g-5+1));for(let U=I;U<=g;U++)e.push(U);return e}pageChanged(o){this.pageChange.emit({offset:(o.pageIndex+1-1)*this.pageSize,limit:this.pageSize})}goToPage(o){o!==this.currentPage&&this.pageChange.emit({offset:(o-1)*this.pageSize,limit:this.pageSize})}goToFirstPage(){1!==this.currentPage&&this.goToPage(1)}Gotogivenpage(o){!["null","",void 0,0,String(this.currentPage)].includes(o)&&this.totalPages>=o&&this.goToPage(o)}goToLastPage(){this.currentPage!==this.totalPages&&this.goToPage(this.totalPages)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}onPageSizeChange(o){this.pageSize=o.target.value,this.pageChange.emit({offset:0,limit:this.pageSize})}static{this.\u0275fac=function(l){return new(l||c)}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-reusable-pagination"]],inputs:{type:"type",currentPage:"currentPage",pageSize:"pageSize",totalItems:"totalItems"},outputs:{pageChange:"pageChange"},decls:3,vars:3,consts:[[1,"pagination","flex",3,"ngSwitch"],["class","page-count flex",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"page-count","flex"],[1,"icon-button",3,"click","disabled"],["src","assets/img/arrow-left.svg","alt",""],["class","page-count flex",4,"ngFor","ngForOf"],["src","assets/img/arrow-right.svg","alt",""],["readonly","true",3,"input","value"],[1,"page-info"],[3,"click","ngClass"],[4,"ngFor","ngForOf"],[1,"number-button",3,"click","disabled"]],template:function(l,e){1&l&&(t.j41(0,"div",0),t.DNE(1,C,12,8,"div",1)(2,y,2,1,"div",2),t.k0s()),2&l&&(t.Y8G("ngSwitch",e.type),t.R7$(),t.Y8G("ngSwitchCase","numbers"),t.R7$(),t.Y8G("ngSwitchCase","fullnumbers"))},dependencies:[b.YU,b.Sq,b.ux,b.e1,u.D9],styles:[".pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:16px;margin:0 5px}.page-size-selector[_ngcontent-%COMP%]{margin-left:10px}.number-button[_ngcontent-%COMP%]{padding:5px;border:1px solid grey;margin:2px}"]})}}return c})()},55735:(F,S,r)=>{r.d(S,{i:()=>v});var t=r(54438),b=r(37886),u=r(73857),j=r(52619),P=r(41780),C=r(60177);function _(c,h){if(1&c&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&c){const o=t.XpG();t.R7$(),t.SpI(" Cannot recover a deleted ",o.variantMessage,". Are you sure you want to proceed with deletion ?")}}function y(c,h){if(1&c&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&c){const o=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,"common.Are you sure want to delete this")," ",o.deleteMessage,"?")}}let v=(()=>{class c{constructor(o,l,e,p){this.activeModal=o,this.sellerSandbox=l,this.productSandbox=e,this.translate=p}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(o=>{!0===o&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(o=>{!0===o&&this.activeModal.close("deleted")})):this.activeModal.close("deleted"),this.deleteMessage=""}static{this.\u0275fac=function(l){return new(l||c)(t.rXU(b.Lw),t.rXU(u.f),t.rXU(j.F),t.rXU(P.c$))}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-delete-confirmation-dialog"]],inputs:{deleteMessage:"deleteMessage",variantMessage:"variantMessage"},decls:17,vars:11,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],[4,"ngIf"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(l,e){1&l&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return e.close()}),t.j41(2,"span",2),t.EFF(3,"\xd7"),t.k0s()(),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.DNE(7,_,2,1,"p",3)(8,y,3,4,"p",3),t.nrm(9,"h4"),t.j41(10,"div",4)(11,"button",5),t.bIt("click",function(){return e.close()}),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"button",6),t.bIt("click",function(){return e.deleteContent()}),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()),2&l&&(t.R7$(5),t.JRh(t.bMT(6,5,"common.Delete Confirmation")),t.R7$(2),t.Y8G("ngIf",e.variantMessage),t.R7$(),t.Y8G("ngIf",!e.variantMessage),t.R7$(4),t.SpI("",t.bMT(13,7,"common.Cancel")," "),t.R7$(3),t.SpI("",t.bMT(16,9,"common.Delete")," "))},dependencies:[C.bT,P.D9],styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]})}}return c})()}}]);