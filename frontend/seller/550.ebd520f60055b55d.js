"use strict";(self.webpackChunkspurt_multi_vendor=self.webpackChunkspurt_multi_vendor||[]).push([[550],{7550:(Ne,T,a)=>{a.r(T),a.d(T,{ManageCustomersModule:()=>Fe});var b=a(177),G=a(1188),A=a(1375),t=a(4438),M=a(7886),l=a(7269),p=a(4514),m=a(1511);const h=o=>o.crmGroups,w=(0,p.Mz)(h,m.yw),V=(0,p.Mz)(h,m.Wq),z=(0,p.Mz)(h,m.xw),B=(0,p.Mz)(h,m.kv),X=(0,p.Mz)(h,m.a6),Y=(0,p.Mz)(h,m.H1),H=(0,p.Mz)(h,m.r_),J=(0,p.Mz)(h,m.Bq),Q=(0,p.Mz)(h,m.yJ),W=(0,p.Mz)(h,m.NT),K=(0,p.Mz)(h,m.d0),Z=(0,p.Mz)(h,m.mv),q=(0,p.Mz)(h,m.tg),tt=(0,p.Mz)(h,m.RR),et=(0,p.Mz)(h,m.qC),ot=(0,p.Mz)(h,m.Nn),st=(0,p.Mz)(h,m.pI),nt=(0,p.Mz)(h,m.yd),rt=(0,p.Mz)(h,m.zX),it=(0,p.Mz)(h,m.XU),at=(0,p.Mz)(h,m.qq),ct=(0,p.Mz)(h,m.L9),lt=(0,p.Mz)(h,m.ht),ut=(0,p.Mz)(h,m.cN),dt=(0,p.Mz)(h,m._F),pt=(0,p.Mz)(h,m.ax),mt=(0,p.Mz)(h,m.T6),ht=(0,p.Mz)(h,m.f1),gt=(0,p.Mz)(h,m.j4),Ct=(0,p.Mz)(h,m.Og),ft=(0,p.Mz)(h,m.T5),bt=(0,p.Mz)(h,m.hl),_t=(0,p.Mz)(h,m.mq);var vt=a(4745);let k=(()=>{class o{constructor(e){this.appState=e,this.addCustomer$=this.appState.select(w),this.addCustomerLoading$=this.appState.select(V),this.addCustomerLoaded$=this.appState.select(z),this.customerGroupList$=this.appState.select(B),this.customerGroupListLoading$=this.appState.select(X),this.customerGroupListLoaded$=this.appState.select(Y),this.addCustomerGroup$=this.appState.select(H),this.addCustomerGroupLoading$=this.appState.select(J),this.addCustomerGroupLoaded$=this.appState.select(Q),this.updateCustomerGroup$=this.appState.select(W),this.updateCustomerGroupLoading$=this.appState.select(K),this.updateCustomerGroupLoaded$=this.appState.select(Z),this.deleteCustomerGroup$=this.appState.select(q),this.deleteCustomerGroupLoading$=this.appState.select(tt),this.deleteCustomerGroupLoaded$=this.appState.select(et),this.customerGroupListCount$=this.appState.select(ot),this.customerGroupListCountLoading$=this.appState.select(st),this.customerGroupListCountLoaded$=this.appState.select(nt),this.customerList$=this.appState.select(rt),this.customerListLoading$=this.appState.select(it),this.customerListLoaded$=this.appState.select(at),this.customerDetails$=this.appState.select(ct),this.customerDetailsLoading$=this.appState.select(lt),this.customerDetailsLoaded$=this.appState.select(ut),this.customerStatusUpdate$=this.appState.select(dt),this.customerStatusUpdateLoading$=this.appState.select(pt),this.customerStatusUpdateLoaded$=this.appState.select(mt),this.customerGroupDetail$=this.appState.select(ht),this.customerGroupDetailLoading$=this.appState.select(gt),this.customerGroupDetailLoaded$=this.appState.select(Ct),this.customerGroupUpdate$=this.appState.select(ft),this.customerGroupUpdateLoading$=this.appState.select(bt),this.customerGroupUpdateLoaded$=this.appState.select(_t)}addCustomer(e){this.appState.dispatch(new l.CP(e))}customerGroupList(e){this.appState.dispatch(new l.U8(e))}addCustomerGroup(e){this.appState.dispatch(new l.n3(e))}updateCustomerGroup(e){this.appState.dispatch(new l.N(e))}deleteCustomerGroup(e){this.appState.dispatch(new l.Pc(e))}customerGroupListCount(e){this.appState.dispatch(new l.Pn(e))}customerList(e){this.appState.dispatch(new l.xP(e))}customerDetails(e){this.appState.dispatch(new l.Xm(e))}customerStatusUpdate(e){this.appState.dispatch(new l.u2(e))}customerGroupDetail(e){this.appState.dispatch(new l.r0(e))}customerGroupUpdate(e){this.appState.dispatch(new l.R9(e))}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(vt.il))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var f=a(9417),yt=a(7431),S=a(1780);const x=()=>["customerName"],Mt=o=>({disableClass:o});function Gt(o,u){1&o&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CRM.Update Customer")," "))}function kt(o,u){1&o&&(t.EFF(0),t.nI1(1,"translate")),2&o&&t.SpI(" ",t.bMT(1,1,"CRM.Add Customer")," ")}function St(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const s=t.eBV(e),i=s.$implicit,d=s.index,r=t.XpG();return t.Njj(r.addDataArray(i,d))}),t.j41(1,"div",20),t.nrm(2,"img",21),t.k0s(),t.j41(3,"div",22),t.EFF(4),t.k0s(),t.j41(5,"button",23),t.nrm(6,"img",24),t.k0s()()}if(2&o){const e=u.$implicit;t.R7$(4),t.SpI(" ",e.customerName," ")}}function It(o,u){1&o&&(t.j41(0,"div",25)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&o&&(t.R7$(2),t.JRh(t.bMT(3,1,"common.NoCatogoriesAvailabe")))}function jt(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const s=t.eBV(e),i=s.$implicit,d=s.index,r=t.XpG();return t.Njj(r.cancelData(i,d))}),t.j41(1,"div",20),t.nrm(2,"img",21),t.k0s(),t.j41(3,"div",22),t.EFF(4),t.k0s(),t.j41(5,"button",23)(6,"p",26),t.EFF(7,"-"),t.k0s()()()}if(2&o){const e=u.$implicit;t.R7$(4),t.SpI(" ",e.customerName," ")}}function Tt(o,u){1&o&&(t.j41(0,"div",25)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&o&&(t.R7$(2),t.JRh(t.bMT(3,1,"common.NoCatogoriesAvailabe")))}function xt(o,u){1&o&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Update")," "))}function Ot(o,u){1&o&&(t.EFF(0),t.nI1(1,"translate")),2&o&&t.JRh(t.bMT(1,1,"common.Create"))}let O=(()=>{class o{constructor(e,n,s){this.activeModal=e,this.customerSandbox=n,this.ref=s,this.customerArray=[],this.rightDataArray=[],this.buyerIds=[],this.customerList=[],this.detailsIdArray=[],this.submitted=!1,this.requiredField=!1,this.subscription=[]}ngOnInit(){this.custometList()}custometList(){this.customerSandbox.customerList({}),this.subscription.push(this.customerSandbox.customerList$.subscribe(e=>{e.forEach(n=>{n.customerName=n.firstName+" "+n.lastName}),this.customerList=e,e&&this.detailsId&&this.coustomerDetail(this.detailsId)}))}addDataArray(e,n){this.rightDataArray.unshift({...e}),this.rightDataArray=[...this.rightDataArray],this.customerList.forEach(s=>{this.rightDataArray.forEach(i=>{s.id==i.id&&(this.customerList=this.customerList.filter(d=>d.id!=i.id),this.customerList=[...this.customerList])})})}cancelData(e,n){this.customerList.push(e),this.customerList=[...this.customerList],this.rightDataArray.splice(n,1),this.rightDataArray=[...this.rightDataArray]}saveCustomer(){this.rightDataArray.forEach(n=>{this.buyerIds.push(n.id)});let e={};e.customerIds=this.buyerIds,e.id=this.id,this.detailsId?(this.customerSandbox.updateCustomerGroup(e),this.subscription.push(this.customerSandbox.updateCustomerGroup$.subscribe(n=>{1==n?.status&&(this.rightDataArray=[],this.activeModal.close("close"))}))):(this.customerSandbox.addCustomer(e),this.subscription.push(this.customerSandbox.addCustomer$.subscribe(n=>{1==n?.status&&(this.rightDataArray=[],this.activeModal.close("close"))})))}coustomerDetail(e){this.rightDataArray=[],this.customerSandbox.customerDetails(e),this.subscription.push(this.customerSandbox.customerDetails$.subscribe(n=>{n&&n.length>0&&n.forEach(s=>{let i=this.customerList.filter(d=>d.id==s.id);i.length>0&&(this.rightDataArray.push(i[0]),this.rightDataArray=[...this.rightDataArray]),this.ref.detectChanges(),this.customerList=this.customerList.filter(d=>d.id!=s.id),this.customerList=[...this.customerList],this.ref.detectChanges()})}))}close(){this.activeModal.close("dismiss")}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(M.Lw),t.rXU(k),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-add-customer"]],inputs:{id:"id",detailsId:"detailsId"},decls:51,vars:45,consts:[["Add",""],["create",""],[1,"head-modal"],[4,"ngIf","ngIfElse"],[1,"overall-style"],[1,"prodcut-add-categories"],[1,"prodcut-add-categories-col"],[1,"categories-heading"],[1,"heading-customer"],[1,"input-group","categories-search"],[1,"ig-row"],["type","text",3,"ngModelChange","placeholder","ngModel"],[1,"input-info"],[1,"product-categories-list"],["class","product-categories-list-row",3,"click",4,"ngFor","ngForOf"],["class","nodata flexx",4,"ngIf"],[1,"product-save-btn","modal-save-btn"],[1,"prev",3,"click"],[1,"save",3,"click","ngClass","disabled"],[1,"product-categories-list-row",3,"click"],[1,"drag-icon"],["src","assets/imgs/drag.svg","alt",""],[1,"categories-list-txt"],[1,"btn-add"],["src","assets/imgs/add-plus.svg","alt",""],[1,"nodata","flexx"],[1,"mb-0"]],template:function(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",2)(1,"h3"),t.DNE(2,Gt,3,3,"ng-container",3)(3,kt,2,3,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h4",8),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"p"),t.EFF(13),t.nI1(14,"translate"),t.k0s()(),t.j41(15,"div",9)(16,"div",10)(17,"input",11),t.nI1(18,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(i),t.DH7(s.name,r)||(s.name=r),t.Njj(r)}),t.k0s(),t.j41(19,"div",12),t.EFF(20,"/"),t.k0s()()(),t.j41(21,"div",13),t.DNE(22,St,7,1,"div",14),t.nI1(23,"search"),t.DNE(24,It,4,3,"div",15),t.k0s()(),t.j41(25,"div",6)(26,"div",7)(27,"h4",8),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.j41(30,"p"),t.EFF(31),t.nI1(32,"translate"),t.k0s()(),t.j41(33,"div",9)(34,"div",10)(35,"input",11),t.nI1(36,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(i),t.DH7(s.selectedName,r)||(s.selectedName=r),t.Njj(r)}),t.k0s(),t.j41(37,"div",12),t.EFF(38,"/"),t.k0s()()(),t.j41(39,"div",13),t.DNE(40,jt,8,1,"div",14),t.nI1(41,"search"),t.DNE(42,Tt,4,3,"div",15),t.k0s()()()(),t.j41(43,"div",16)(44,"button",17),t.bIt("click",function(){return t.eBV(i),t.Njj(s.close())}),t.EFF(45),t.nI1(46,"translate"),t.k0s(),t.j41(47,"button",18),t.bIt("click",function(){return t.eBV(i),t.Njj(s.saveCustomer())}),t.DNE(48,xt,3,3,"ng-container",3)(49,Ot,2,3,"ng-template",null,1,t.C5r),t.k0s()()}if(2&n){const i=t.sdS(4),d=t.sdS(50);t.R7$(2),t.Y8G("ngIf",s.detailsId)("ngIfElse",i),t.R7$(8),t.SpI(" ",t.bMT(11,19,"CRM.Available Customers"),""),t.R7$(3),t.JRh(t.bMT(14,21,"content.AvailableCustomers")),t.R7$(4),t.FS9("placeholder",t.bMT(18,23,"CRM.Search Customer Name")),t.R50("ngModel",s.name),t.R7$(5),t.Y8G("ngForOf",t.brH(23,25,s.customerList,t.lJ4(41,x),s.name)),t.R7$(2),t.Y8G("ngIf",0==s.customerList.length),t.R7$(4),t.JRh(t.bMT(29,29,"CRM.Selected Customers")),t.R7$(3),t.JRh(t.bMT(32,31,"content.SelectedCustomers")),t.R7$(4),t.FS9("placeholder",t.bMT(36,33,"CRM.Search Customer Name")),t.R50("ngModel",s.selectedName),t.R7$(5),t.Y8G("ngForOf",t.brH(41,35,s.rightDataArray,t.lJ4(42,x),s.selectedName)),t.R7$(2),t.Y8G("ngIf",0==s.rightDataArray.length),t.R7$(3),t.JRh(t.bMT(46,39,"common.Cancel")),t.R7$(2),t.Y8G("ngClass",t.eq3(43,Mt,0==s.rightDataArray))("disabled",0==s.rightDataArray),t.R7$(),t.Y8G("ngIf",s.detailsId)("ngIfElse",d)}},dependencies:[b.YU,b.Sq,b.bT,f.me,f.BC,f.vS,yt.R,S.D9],styles:[".delete-confirm.modal{top:0!important}.overall-style[_ngcontent-%COMP%]{padding:20px 30px 30px}.head-modal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid #ececf1}.head-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#202123;margin:0}.head-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background-color:transparent}.header-data[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header-data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid #ebeff3;height:2rem;border-radius:.1875rem;padding:0 .5rem;font-weight:400;font-size:.875rem;line-height:1.125rem;color:#333;background-image:url(search-white.09742bd64e250ed2.svg);background-repeat:no-repeat!important;background-position:right .5rem center}.left-data[_ngcontent-%COMP%]{border:thin solid #ebeff3;padding:.5rem;height:calc(100vh - 32rem);overflow-y:auto;min-height:20rem}.details-div[_ngcontent-%COMP%]{padding:.25rem;display:grid;grid-template-columns:1fr 1.0625rem;grid-gap:1rem;gap:1rem}.data-array[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:.125rem}.btn-add[_ngcontent-%COMP%]{width:1.0625rem;height:1.0625rem;border-radius:.1875rem;display:flex;justify-content:center;align-items:center;background-color:#f6fafe;border:0}.combined-array[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:3rem;gap:3rem;margin-top:1.5rem}.heading-customer[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#475867;margin-bottom:1rem}.right-array[_ngcontent-%COMP%]{border:thin solid #ebeff3;padding:.5rem;height:calc(100vh - 32rem);overflow-y:auto;min-height:20rem}.footer-content[_ngcontent-%COMP%]{display:flex;background-color:#f9f9f9;height:4.1875rem;justify-content:flex-end;align-items:center;padding-inline:2rem;gap:1.5rem}.upload-btn[_ngcontent-%COMP%]{min-width:4.75rem;height:2.1875rem;padding-inline:1rem;background-color:#0e2a3e;color:#d0dfe8}.cancel-btn[_ngcontent-%COMP%]{min-width:4.75rem;height:2.1875rem;padding-inline:1rem;border:thin solid #d0dfe8;background-color:#f1f8ff;color:#0e2a3e}.delete-btn[_ngcontent-%COMP%]{position:absolute;border:none;right:14px;top:10px;width:60px;height:42px;background-color:transparent}  .modal-dialog-centered{max-width:70rem}.disableClass[_ngcontent-%COMP%]{opacity:.5;cursor:default}  .permisson-modal.modal.fade .modal-dialog{max-width:55.087rem!important}.nodata[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;padding:0rem 2rem;min-height:unset;height:100%;text-align:center}"]})}}return o})();var Rt=a(8359),R=a(345),$=a(3419),$t=a(7340);const Ft=o=>({"input-error":o}),Lt=()=>["",null,void 0];function Et(o,u){1&o&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CRM.Update Customer Group")," "))}function Dt(o,u){1&o&&(t.EFF(0),t.nI1(1,"translate")),2&o&&t.SpI(" ",t.bMT(1,1,"CRM.Add Customer Group")," ")}function Pt(o,u){1&o&&(t.j41(0,"div",14),t.nrm(1,"app-loader"),t.k0s())}function Nt(o,u){1&o&&(t.j41(0,"p",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.JRh(t.bMT(2,1,"CRM.Group Name is required")))}function Ut(o,u){1&o&&(t.j41(0,"p",16),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ValidationsErrorMessage.Allowonlyalphabetsspaces")," "))}let I=(()=>{class o{constructor(e,n,s){this.activeModal=e,this.sandbox=n,this.titleService=s,this.subscriptions=new Rt.yU,this.emptyCheckArr=["",null,void 0],this.submitted=!1,this.title="Customer Group",this.titleService.setTitle(this.title)}ngOnInit(){this.groupId&&(this.sandbox.customerGroupDetail(this.groupId),this.subscriptions.add(this.sandbox.customerGroupDetail$.subscribe(e=>{e&&this.setData(e)})))}close(){this.activeModal.close("delete")}setData(e){this.data=e.name}saveData(){if(this.submitted=!0,!["",null,void 0].includes(this.data))if(this.groupId)this.sandbox.customerGroupUpdate({id:this.groupId,name:this.data}),this.subscriptions.add(this.sandbox.customerGroupUpdate$.subscribe(n=>{1==n?.status&&this.activeModal.close("close")}));else{let e={};e.name=this.data,this.sandbox.addCustomerGroup(e),this.subscriptions.add(this.sandbox.addCustomerGroup$.subscribe(n=>{1==n?.status&&this.activeModal.close("close")}))}}ngOnDestroy(){this.groupId="",this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(M.Lw),t.rXU(k),t.rXU(R.hE))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-customer-group"]],inputs:{groupId:"groupId"},decls:28,vars:26,consts:[["add",""],["priceInput","ngModel"],[1,"modal-heading"],[4,"ngIf","ngIfElse"],[1,"modal-body"],[1,"input-group"],["class","loading",4,"ngIf"],[1,"ig-row"],["type","text","maxlength","100","required","","pattern","^[A-Za-z\\s]+$","appNoLeadingSpace","",1,"customer-list",3,"ngModelChange","ngModel","placeholder","ngClass"],["style","color: red;position: absolute;color: red;font-size: 13px;",4,"ngIf"],["class","error","style","position: absolute; bottom: -21px; color: red; font-size: 13px;",4,"ngIf"],[1,"product-save-btn","modal-save-btn"],["type","button",1,"cancel",3,"click"],["type","button","data-dismiss","modal",1,"save",3,"click"],[1,"loading"],[2,"color","red","position","absolute","color","red","font-size","13px"],[1,"error",2,"position","absolute","bottom","-21px","color","red","font-size","13px"]],template:function(n,s){if(1&n){const i=t.RV6();t.j41(0,"div",2)(1,"h3"),t.DNE(2,Et,3,3,"ng-container",3)(3,Dt,2,3,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(5,"div",4)(6,"div",5),t.DNE(7,Pt,2,0,"div",6),t.nI1(8,"async"),t.nI1(9,"async"),t.j41(10,"label"),t.EFF(11),t.nI1(12,"translate"),t.j41(13,"span"),t.EFF(14,"*"),t.k0s()(),t.j41(15,"div",7)(16,"input",8,1),t.nI1(18,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(i),t.DH7(s.data,r)||(s.data=r),t.Njj(r)}),t.k0s(),t.DNE(19,Nt,3,3,"p",9)(20,Ut,3,3,"p",10),t.k0s()()(),t.j41(21,"div",11)(22,"button",12),t.bIt("click",function(){return t.eBV(i),t.Njj(s.close())}),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"button",13),t.bIt("click",function(){return t.eBV(i),t.Njj(s.saveData())}),t.EFF(26),t.nI1(27,"translate"),t.k0s()()}if(2&n){const i=t.sdS(4),d=t.sdS(17);t.R7$(2),t.Y8G("ngIf",s.groupId)("ngIfElse",i),t.R7$(5),t.Y8G("ngIf",t.bMT(8,11,s.sandbox.customerGroupDetailLoading$)||t.bMT(9,13,s.sandbox.customerGroupUpdateLoading$)),t.R7$(4),t.SpI("",t.bMT(12,15,"CRM.Customer Group Name")," "),t.R7$(5),t.FS9("placeholder",t.bMT(18,17,"CRM.EnterCustomerGroupName")),t.R50("ngModel",s.data),t.Y8G("ngClass",t.eq3(23,Ft,s.submitted&&s.emptyCheckArr.includes(s.data))),t.R7$(3),t.Y8G("ngIf",s.submitted&&t.lJ4(25,Lt).includes(s.data)),t.R7$(),t.Y8G("ngIf",(null==d.errors?null:d.errors.pattern)&&d.dirty),t.R7$(3),t.SpI(" ",t.bMT(24,19,"common.Cancel")," "),t.R7$(3),t.SpI(" ",t.bMT(27,21,"common.Save")," ")}},dependencies:[b.YU,b.bT,f.me,f.BC,f.YS,f.tU,f.R_,f.vS,$.V,$t.L,b.Jj,S.D9],styles:[".header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.customer-list[_ngcontent-%COMP%]{border:1px solid #e1e6f3;width:100%;margin:0;border-radius:6px;height:40px}.header-style[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;margin-bottom:5px}.header-style[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.cancel-btn[_ngcontent-%COMP%]{margin-top:16px;margin-right:10px}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;background-color:#efefef;padding:2rem 1rem;margin:0}.overallClass[_ngcontent-%COMP%]{padding:2rem 2rem 1rem!important}.cancel-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;position:absolute;margin:0;inset:1rem 1rem auto auto}.delete-btn[_ngcontent-%COMP%]{border:none;background-color:#d4d5d8;border-radius:5px}.upload-btn[_ngcontent-%COMP%]{border:none;background-color:#e86d08;padding:10px;border-radius:5px}.input-error[_ngcontent-%COMP%]{border-color:red;border-radius:5px}.disableClass[_ngcontent-%COMP%]{opacity:.5;cursor:default}.errorText[_ngcontent-%COMP%]{color:red}.remove-btn[_ngcontent-%COMP%]{border:0;padding:0;background-color:transparent}  .delete-confirm.modal.fade .modal-dialog{max-width:31.087rem!important}input[_ngcontent-%COMP%]{font-size:14px;padding:5px 10px}.loading[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center}"]})}}return o})();var At=a(8866),wt=a(6118);const F=[{displayName:"",id:"id",type:"checkBox",checked:!0,optionalFilterName:"Checkbox",isEnableSelectall:!0,customStyle:{trow:{class:"tableAlign"},tbody:{class:"tableAlign"}}},{displayName:"CRM.Group Name",id:"name",type:"default",checked:!0,filterColName:"CRM.Group Name"},{displayName:"CRM.Permission",type:"template",id:"pennding",key:"checkBox",checked:!0,filterColName:"CRM.Permission"},{displayName:"CRM.Status",id:"isActive",type:"toggle",checked:!0,filterColName:"CRM.Status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"",type:"threeDotMenu",checked:!0,menuData:[{name:"Edit",img:"assets/imgs/edit.svg",displayName:"common.Edit"},{name:"Delete",img:"assets/imgs/delete.svg",displayName:"common.Delete"}],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}}],Vt={"CRM.Group Name":!0,"CRM.Permission":!0,"CRM.Status":!0},zt={GroupName:{label:"CRM.Group Name",name:"groupName",validatiors:[],type:"text",placeholder:"CRM.EnterCustomerGroupName"},Status:{name:"Status",label:"common.Status",validatiors:[],type:"ngSelect",placeholder:"Select the status",customData:{data:[{name:"Active",id:1},{name:"In-Active",id:0}],key:"name",value:"id"}},Search:{name:"Search",label:"",validatiors:[],type:"text",placeholder:"uniformList.enterthekeyword"}};function L(o){for(const u in o)o.hasOwnProperty(u)&&(null==o[u]||""===o[u])&&delete o[u];return o}const Bt=(0,wt.z)(["resetCheckbox","bulkUpload"]);var E=a(8276),Xt=a(8792),D=a(8256),Yt=a(9754);let j=(()=>{class o extends Yt.j{constructor(){super(...arguments),this.params={},this.basUrl=this.getBaseUrl()}addCustomer(e){let n=e.id;return delete e.id,this.http.put(this.basUrl+`/vendor-customer-group/${n}/customer`,e)}customerGroupList(e){return this.http.get(this.basUrl+"/vendor-customer-group",{params:e})}customerGroupListCount(e){return this.http.get(this.basUrl+"/vendor-customer-group",{params:e})}addCustomerGroup(e){return this.http.post(this.basUrl+"/vendor-customer-group",e)}updateCustomerGroup(e){return this.http.put(this.basUrl+`/vendor-customer-group/${e.id}/customer`,e)}deleteCustomerGroup(e){return this.http.delete(this.basUrl+"/vendor-customer-group/"+e)}customerList(e){return this.http.get(this.basUrl+"/vendor-customer-group/customer/list",{params:e})}customerDetails(e){return this.http.get(this.basUrl+`/vendor-customer-group/${e}/customer`)}customerStatusUpdate(e){return this.http.put(this.basUrl+"/vendor-customer-group/status/"+e.id,e)}customerGroupDetail(e){return this.http.get(this.basUrl+"/vendor-customer-group/"+e)}customerGroupUpdate(e){return this.http.put(this.basUrl+"/vendor-customer-group/"+e.id,e)}bulkStatusUpdate(e){return this.http.post(this.basUrl+"/vendor-customer-group/bulk-status",e)}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(o)))(s||o)}})()}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var Ht=a(9355),Jt=a(6723),Qt=a(7812),Wt=a(1849),Kt=a(8431),P=a(2510);const Zt=["dropdownContent"],qt=["dropdownContentFilter"],N=o=>({"disable-div":o}),te=()=>["",null,void 0],ee=(o,u)=>({pennding:o,isActive:u});function oe(o,u){if(1&o&&t.nrm(0,"app-reusable-forms",37),2&o){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("type",null==n.dynamicObjControls[e]?null:n.dynamicObjControls[e].type)("control",null==n.dynamicObjControls[e]?null:n.dynamicObjControls[e].control)("label",null==n.dynamicObjControls[e]?null:n.dynamicObjControls[e].label)("inputId",null==n.dynamicObjControls[e]?null:n.dynamicObjControls[e].inputId)("aliasName",null==n.dynamicObjControls[e]?null:n.dynamicObjControls[e].aliasName)("customData",null==n.dynamicObjControls[e]?null:n.dynamicObjControls[e].customData)("placeholder",null==n.dynamicObjControls[e]?null:n.dynamicObjControls[e].placeholder)}}function se(o,u){if(1&o&&(t.j41(0,"div"),t.DNE(1,oe,1,7,"app-reusable-forms",36),t.k0s()),2&o){const e=u.$implicit;t.R7$(),t.Y8G("ngIf","Search"!==e)}}function ne(o,u){if(1&o&&(t.qex(0),t.EFF(1),t.bVm()),2&o){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",1==e.value?"Active":"In-active"," ")}}function re(o,u){if(1&o&&(t.qex(0),t.EFF(1),t.bVm()),2&o){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.value," ")}}function ie(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",41)(1,"span"),t.EFF(2),t.k0s(),t.qex(3,42),t.DNE(4,ne,2,1,"ng-container",43)(5,re,2,1,"ng-container",44),t.bVm(),t.j41(6,"button",45),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.removeFilter(s))}),t.nrm(7,"img",46),t.k0s()()}if(2&o){const e=t.XpG().$implicit;t.R7$(2),t.SpI("",e.key," : "),t.R7$(),t.Y8G("ngSwitch",e.key),t.R7$(),t.Y8G("ngSwitchCase","Status")}}function ae(o,u){if(1&o&&(t.qex(0),t.DNE(1,ie,8,3,"div",40),t.bVm()),2&o){const e=u.$implicit;t.R7$(),t.Y8G("ngIf",!t.lJ4(1,te).includes(e.value))}}function ce(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",38)(1,"h4"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,ae,2,2,"ng-container",22),t.nI1(5,"keyvalue"),t.j41(6,"a",39),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.filterReset("clearAll"))}),t.EFF(7),t.nI1(8,"translate"),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,4,"common.Filter"),":"),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,6,e.backupFormValue))("ngForTrackBy",e.trackByIndex),t.R7$(3),t.JRh(t.bMT(8,8,"common.ClearFilters"))}}function le(o,u){1&o&&(t.j41(0,"div",47),t.nrm(1,"app-loader"),t.k0s())}function ue(o,u){if(1&o){const e=t.RV6();t.j41(0,"app-common-table",48),t.bIt("buttonChangeEvent",function(s){t.eBV(e);const i=t.XpG();return t.Njj(i.buttonAction(s))}),t.k0s()}if(2&o){const e=t.XpG(),n=t.sdS(59),s=t.sdS(61);t.Y8G("HeadArray",e.dynamicColumnFields)("GridArray",e.listData)("selectAll",e.tableCheckbox)("customTemplate",t.l_i(4,ee,n,s))}}function de(o,u){if(1&o){const e=t.RV6();t.j41(0,"a",49),t.bIt("click",function(){const s=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.addCustomer(s,s.id))}),t.EFF(1),t.k0s()}if(2&o){const e=u.$implicit;t.R7$(),t.JRh(1==e.isMapped?"Manage":"Yet to config")}}function pe(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",50)(1,"input",51),t.bIt("change",function(s){const i=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.statusUpdate(i,s.target.checked))}),t.k0s(),t.nrm(2,"label",52),t.k0s()}if(2&o){const e=u.$implicit;t.R7$(),t.Y8G("id",e.id)("checked",e.isActive),t.R7$(),t.Y8G("for",e.id)}}function me(o,u){1&o&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.NoDataAvailablefortheFilteredCriteria")," "))}function he(o,u){1&o&&(t.EFF(0),t.nI1(1,"translate")),2&o&&t.SpI(" ",t.bMT(1,1,"CRM.No groups are added")," ")}function ge(o,u){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"a",57),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.addCustomerGroup())}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}2&o&&(t.R7$(2),t.SpI(" + ",t.bMT(3,1,"CRM.Add Group")," "))}function Ce(o,u){if(1&o&&(t.j41(0,"div",53)(1,"span"),t.nrm(2,"img",54),t.k0s(),t.j41(3,"h4"),t.DNE(4,me,3,3,"ng-container",55)(5,he,2,3,"ng-template",null,5,t.C5r),t.k0s(),t.DNE(7,ge,4,3,"div",56),t.k0s()),2&o){const e=t.sdS(6),n=t.XpG();t.R7$(4),t.Y8G("ngIf",n.formValueExists)("ngIfElse",e),t.R7$(3),t.Y8G("ngIf",!n.formValueExists)}}function fe(o,u){if(1&o){const e=t.RV6();t.j41(0,"app-reusable-pagination",58),t.bIt("pageChange",function(s){t.eBV(e);const i=t.XpG();return t.Njj(i.onPageChange(s))}),t.k0s()}if(2&o){const e=t.XpG();t.Y8G("ngClass",t.eq3(5,N,(null==e.selectedcheckbox?null:e.selectedcheckbox.length)>0))("type","numbers")("currentPage",e.currentPage)("pageSize",e.limit)("totalItems",e.countArray)}}function be(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",59)(1,"div",60)(2,"a",61),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.closebutton())}),t.nrm(3,"img",62),t.k0s(),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"a",61),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.BulkUpdate())}),t.nrm(7,"img",63),t.EFF(8),t.nI1(9,"translate"),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(4),t.Lme(" (",e.selectedcheckbox.length,") ",t.bMT(5,3,"common.Selected")," "),t.R7$(4),t.SpI(" ",t.bMT(9,5,"common.Update")," ")}}function _e(o,u){if(1&o){const e=t.RV6();t.j41(0,"app-bulk-action",64),t.bIt("actionEvent",function(s){t.eBV(e);const i=t.XpG();return t.Njj(i.actionType(s))}),t.k0s()}if(2&o){const e=t.XpG();t.Y8G("bulkList",e.bulkActions)("count",null==e.selectedcheckbox?null:e.selectedcheckbox.length)}}let ve=(()=>{class o{constructor(e,n,s,i,d,r,c,Le,Ee,De){this.router=e,this.formBuilder=n,this.toaster=s,this.route=i,this.modal=d,this.crmGroupsSandbox=r,this.fb=c,this.ref=Le,this.crmGroupsService=Ee,this.titleService=De,this.backupData=structuredClone(F),this.dynamicColumnFields=structuredClone(F),this.currentPage=1,this.limit=10,this.offset=0,this.pageSizeList=Xt.h,this.backupColumns=structuredClone(Vt),this._Object=Object,this.empty=[null,"",void 0],this.subscriptions=[],this.listData=[],this.countArray=[],this.title="Customer Group",this.selectedcheckbox=[],this.tableCheckbox={isSelectAll:!1},this.bulkActions=Bt,this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this.trackByIndex=Pe=>Pe,this.titleService.setTitle(this.title)}ngOnInit(){this.buildForm(),this.routerSubscribe()}routerSubscribe(){this.offset=parseInt(this.route.snapshot.queryParamMap.get("offset"))||this.offset,this.limit=parseInt(this.route.snapshot.queryParamMap.get("limit"))||this.limit,this.currentPage=this.route.snapshot.queryParamMap.get("pageSize")||this.currentPage,this.subscriptions.push(this.route.queryParams.subscribe(e=>{this.formObjFormGroup.patchValue({groupName:e.groupName??"",Status:e.status??null,Search:e.keyword??""}),this.filterValueUpdate()})),this.customerList(),this.customerListCount()}buttonAction(e){switch(e.key){case"checkBox":this.selectedcheckbox=e.selectedDatas;break;case"toggle":this.statusUpdate(e,e.radioEvent);break;case"threeDotMenu":"Edit"==e.actionType?this.editCustomerGroup(e):this.deleteData(e?.id)}}actionType(e){switch(e){case"resetCheckbox":this.resetCheckbox();break;case"bulkUpload":this.BulkUpdate()}}removeFilter(e){this.formObjFormGroup.controls[e.key].reset(),this.filterValueUpdate(),this.resetAll()}buildForm(){const e=structuredClone(zt),n=(0,E.b0)(e);this.formObjFormGroup=this.fb.group(n),Object.keys(e).forEach(s=>{this.dynamicObjControls[s]=(0,E.yE)(e[s],this.formObjFormGroup)}),this.filterValueUpdate()}saveColumns(e){this.backupColumns=structuredClone(e),this.showHideTableColumn()}applyFilter(){this.filterValueUpdate(),this.resetAll()}filterReset(e){"clearAll"==e?this.formObjFormGroup.reset():this.formObjFormGroup.patchValue({groupName:"",Status:null,Search:""}),this.filterValueUpdate(),this.resetAll()}addCustomerGroup(){this.modal.open(I,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories"})?.result.then(n=>{"close"==n&&(this.customerList(),this.customerListCount())})}customerList(){this.offset=(this.currentPage-1)*this.limit;let e=L(this.getQueryParam());e.count=0,delete e.currentPage,this.crmGroupsSandbox.customerGroupList(e),this.subscriptions.push(this.crmGroupsSandbox.customerGroupList$.subscribe(n=>{this.listData=n,n.forEach(s=>{s.checked&&this.selectedcheckbox.push(s.id)})})),this.updateQueryParam()}customerListCount(){this.offset=(this.currentPage-1)*this.limit;let e=L(this.getQueryParam());e.count=1,delete e.currentPage,this.crmGroupsSandbox.customerGroupListCount(e),this.subscriptions.push(this.crmGroupsSandbox.customerGroupListCount$.subscribe(n=>{n&&(this.countArray=n)})),this.updateQueryParam()}onPageChange(e){this.limit=e.limit,this.currentPage=Math.floor(e.offset/e.limit)+1,this.customerList()}pageSizeChange(e){this.onPageChange({limit:e.id,offset:0})}deleteData(e){const n=this.modal.open(A.T,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories delete-modal"});n.componentInstance.deleteMessage="Customer Group",n.result.then(s=>{"deleted"==s&&(this.crmGroupsSandbox.deleteCustomerGroup(e),this.subscriptions.push(this.crmGroupsSandbox.deleteCustomerGroup$.subscribe(i=>{1==i?.status&&(1==this.listData.length&&(this.offset=0,this.currentPage=1),this.customerList(),this.customerListCount())})))})}editCustomerGroup(e){const n=this.modal.open(I,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories"});n.componentInstance.groupId=e.id,n?.result.then(s=>{"close"==s&&(this.customerList(),this.customerListCount())})}getQueryParam(){return{limit:this.limit,offset:this.offset,currentPage:this.currentPage,keyword:this.backupFormValue.Search??"",groupName:this.backupFormValue.groupName??"",status:this.backupFormValue.Status??null}}addCustomer(e,n){const s=this.modal.open(O,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"permisson-modal"});s.componentInstance.id=n,1==e.isMapped&&(s.componentInstance.detailsId=n),s.result.then(i=>{"close"==i&&(this.customerList(),this.customerListCount())})}statusUpdate(e,n){this.crmGroupsSandbox.customerStatusUpdate({status:n?1:0,id:e.id})}closebutton(){this.subscriptions.push(this.crmGroupsSandbox.customerGroupList$.subscribe(e=>{e.forEach(n=>n.checked=!1)})),this.selectedcheckbox=[]}BulkUpdate(){const e=this.modal.open(At.t,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories"});e.componentInstance.Name="BulkUpdate.CustomerGroupStatus",e.componentInstance.Content="BulkUpdate.SelectAndActivateMultiple",e.componentInstance.action="Single",e.result.then(n=>{"Save"==n?.modelStatus&&(this.selectedcheckbox=this.selectedcheckbox.map(i=>i.id),this.crmGroupsService.bulkStatusUpdate({customerGroupIds:this.selectedcheckbox,statusId:1==n?.StatusChange?1:0}).subscribe(i=>{1==i?.status&&(this.resetCheckbox(),this.customerList(),this.selectedcheckbox=[])}))})}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}dropDownClose(e){this.hasOwnProperty(e)&&this[e]?.close()}showHideTableColumn(){this.dynamicColumnFields.forEach(e=>{e.hasOwnProperty("filterColName")&&(e.checked=this.backupColumns[e.filterColName])})}resetAll(){this.customerList(),this.customerListCount(),this.dropDownClose("dropdownContentFilter"),this.dropDownClose("dropdownContent")}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(structuredClone(this.backupFormValue)).some(e=>!this.empty.includes(e)),this.ref.detectChanges()}resetCheckbox(){this.reset(),this.tableCheckbox.isSelectAll=!1,this.tableCheckbox={...this.tableCheckbox}}reset(e=!1){this.listData.forEach(n=>n.checked=e),this.selectedcheckbox=this.listData.filter(n=>n?.checked)}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(G.Ix),t.rXU(f.ze),t.rXU(D.tw),t.rXU(G.nX),t.rXU(M.Bq),t.rXU(k),t.rXU(f.ze),t.rXU(t.gRc),t.rXU(j),t.rXU(R.hE))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-customers"]],viewQuery:function(n,s){if(1&n&&(t.GBs(Zt,5),t.GBs(qt,5)),2&n){let i;t.mGM(i=t.lsd())&&(s.dropdownContent=i.first),t.mGM(i=t.lsd())&&(s.dropdownContentFilter=i.first)}},decls:68,vars:60,consts:[["dropdownContent","ngbDropdown"],["tooltip","ngbTooltip"],["dropdownContentFilter","ngbDropdown"],["itemTemplateRef",""],["itemTemplateRefStatus",""],["nodatafound",""],[1,"header-list","flexx"],[1,"header-list-rht","ms-auto","flexx",3,"ngClass"],[1,"per-page","flexx"],[1,"ig-row"],["bindLabel","id",3,"change","ngModelChange","items","searchable","clearable","ngModel"],["ngbDropdown","",1,"search-filter"],["tabindex","0","ngbDropdownToggle","","id","navbarDropdown2","role","button","placement","bottom","role","button",3,"mouseleave","ngbTooltip"],["src","assets/imgs/search.svg","alt",""],["ngbDropdownMenu","","aria-labelledby","navbarDropdown2",1,"dropdown-menu","dropdown-menu-end"],[1,"",3,"keyup.enter"],[1,"input-group"],[3,"type","control","label","inputId","aliasName","placeholder"],["src","assets/imgs/filter.svg","alt",""],[1,"txt-hed"],["action","",1,"flex"],[1,"filter-content"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-action",2,"text-align","end"],[1,"button-reg","btn-sm","primary",3,"click"],[1,"button-reg","btn-sm","trans-btn",3,"click"],[3,"selectedColumns","filterColumns"],["href","javascript:Void(0)",1,"link-reg","link-sm","primary",3,"click"],["class","filter-result-row flexx",4,"ngIf"],[1,"page-content"],["class","loading",4,"ngIf"],[3,"HeadArray","GridArray","selectAll","customTemplate","buttonChangeEvent",4,"ngIf"],["class","nodata flexx",4,"ngIf"],["class","pagination flexx",3,"ngClass","type","currentPage","pageSize","totalItems","pageChange",4,"ngIf"],["class","action-container",4,"ngIf"],[3,"bulkList","count","actionEvent",4,"ngIf"],[3,"type","control","label","inputId","aliasName","customData","placeholder",4,"ngIf"],[3,"type","control","label","inputId","aliasName","customData","placeholder"],[1,"filter-result-row","flexx"],["href","javascript:void(0)",1,"clear",3,"click"],["class","filter-result-col",4,"ngIf"],[1,"filter-result-col"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"remove-btn",3,"click"],["src","assets/imgs/close-sm.svg","alt",""],[1,"loading"],[3,"buttonChangeEvent","HeadArray","GridArray","selectAll","customTemplate"],["href","javascript:void(0)",1,"link-text","link-cat-width",3,"click"],[1,"toggle"],["type","checkbox",1,"tgl","tgl-light",3,"change","id","checked"],[1,"tgl-btn",3,"for"],[1,"nodata","flexx"],["src","assets/imgs/nodata.svg","alt",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["href","javascript:void(0)",1,"link-reg","link-sm","primary",3,"click"],[1,"pagination","flexx",3,"pageChange","ngClass","type","currentPage","pageSize","totalItems"],[1,"action-container"],[1,"action-col"],["href","javascript:void(0)",3,"click"],["src","assets/imgs/close-white.svg","alt",""],["src","assets/imgs/update-white.svg","alt",""],[3,"actionEvent","bulkList","count"]],template:function(n,s){if(1&n){const i=t.RV6();t.j41(0,"header")(1,"div",6)(2,"h1"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",7)(6,"div",8)(7,"p"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"div",9)(11,"ng-select",10),t.bIt("change",function(r){return t.eBV(i),t.Njj(s.pageSizeChange(r))}),t.mxI("ngModelChange",function(r){return t.eBV(i),t.DH7(s.limit,r)||(s.limit=r),t.Njj(r)}),t.k0s()()(),t.j41(12,"div",11,0)(14,"button",12,1),t.nI1(16,"translate"),t.bIt("mouseleave",function(){t.eBV(i);const r=t.sdS(15);return t.Njj(r.close())}),t.nrm(17,"img",13),t.k0s(),t.j41(18,"div",14)(19,"h5"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"form",15),t.bIt("keyup.enter",function(){return t.eBV(i),t.Njj(s.applyFilter())}),t.j41(23,"div",16)(24,"div",9),t.nrm(25,"app-reusable-forms",17),t.k0s()()()()(),t.j41(26,"div",11,2)(28,"button",12,1),t.nI1(30,"translate"),t.bIt("mouseleave",function(){t.eBV(i);const r=t.sdS(15);return t.Njj(r.close())}),t.nrm(31,"img",18),t.k0s(),t.j41(32,"div",14)(33,"h5",19),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"form",20)(37,"div",21),t.DNE(38,se,2,1,"div",22),t.j41(39,"div",23)(40,"button",24),t.bIt("click",function(){return t.eBV(i),t.Njj(s.applyFilter())}),t.EFF(41),t.nI1(42,"translate"),t.k0s(),t.j41(43,"button",25),t.bIt("click",function(){return t.eBV(i),t.Njj(s.filterReset(""))}),t.EFF(44),t.nI1(45,"translate"),t.k0s()()()()()(),t.j41(46,"app-dynamic-columns",26),t.bIt("selectedColumns",function(r){return t.eBV(i),t.Njj(s.saveColumns(r))}),t.k0s(),t.j41(47,"a",27),t.bIt("click",function(){return t.eBV(i),t.Njj(s.addCustomerGroup())}),t.EFF(48),t.nI1(49,"translate"),t.k0s()()()(),t.DNE(50,ce,9,10,"div",28),t.j41(51,"div",29),t.DNE(52,le,2,0,"div",30),t.nI1(53,"async"),t.j41(54,"div"),t.DNE(55,ue,1,7,"app-common-table",31),t.nI1(56,"async"),t.nI1(57,"async"),t.DNE(58,de,2,1,"ng-template",null,3,t.C5r)(60,pe,3,3,"ng-template",null,4,t.C5r),t.k0s(),t.DNE(62,Ce,8,3,"div",32),t.nI1(63,"async"),t.nI1(64,"async"),t.DNE(65,fe,1,7,"app-reusable-pagination",33),t.k0s(),t.DNE(66,be,10,7,"div",34)(67,_e,1,2,"app-bulk-action",35)}if(2&n){let i;t.R7$(3),t.JRh(t.bMT(4,30,"CRM.Customer Group")),t.R7$(2),t.Y8G("ngClass",t.eq3(58,N,0==(null==s.listData?null:s.listData.length))),t.R7$(3),t.JRh(t.bMT(9,32,"common.PerPage")),t.R7$(3),t.Y8G("items",s.pageSizeList)("searchable",!1)("clearable",!1),t.R50("ngModel",s.limit),t.R7$(3),t.FS9("ngbTooltip",t.bMT(16,34,"common.Search")),t.R7$(6),t.JRh(t.bMT(21,36,"common.Search")),t.R7$(5),t.Y8G("type",null==s.dynamicObjControls.Search?null:s.dynamicObjControls.Search.type)("control",null==s.dynamicObjControls.Search?null:s.dynamicObjControls.Search.control)("label",null==s.dynamicObjControls.Search?null:s.dynamicObjControls.Search.label)("inputId",null==s.dynamicObjControls.Search?null:s.dynamicObjControls.Search.inputId)("aliasName",null==s.dynamicObjControls.Search?null:s.dynamicObjControls.Search.aliasName)("placeholder",null==s.dynamicObjControls.Search?null:s.dynamicObjControls.Search.placeholder),t.R7$(3),t.FS9("ngbTooltip",t.bMT(30,38,"common.Filter")),t.R7$(6),t.JRh(t.bMT(35,40,"common.Filter")),t.R7$(4),t.Y8G("ngForOf",s._Object.keys(s.dynamicObjControls))("ngForTrackBy",s.trackByIndex),t.R7$(3),t.SpI(" ",t.bMT(42,42,"common.ApplyFilter"),""),t.R7$(3),t.SpI(" ",t.bMT(45,44,"common.reset"),""),t.R7$(2),t.Y8G("filterColumns",s.backupColumns),t.R7$(2),t.SpI(" + ",t.bMT(49,46,"CRM.Add Group")," "),t.R7$(2),t.Y8G("ngIf",s.formValueExists),t.R7$(2),t.Y8G("ngIf",t.bMT(53,48,s.crmGroupsSandbox.customerGroupListLoading$)),t.R7$(3),t.Y8G("ngIf",t.bMT(56,50,s.crmGroupsSandbox.customerGroupListLoaded$)&&t.bMT(57,52,s.crmGroupsSandbox.customerGroupList$).length>0),t.R7$(7),t.Y8G("ngIf",0==(null==(i=t.bMT(63,54,s.crmGroupsSandbox.customerGroupList$))?null:i.length)&&t.bMT(64,56,s.crmGroupsSandbox.customerGroupListLoaded$)),t.R7$(3),t.Y8G("ngIf",s.countArray>0),t.R7$(),t.Y8G("ngIf",s.selectedcheckbox.length>0),t.R7$(),t.Y8G("ngIf",(null==s.selectedcheckbox?null:s.selectedcheckbox.length)>0)}},dependencies:[b.YU,b.Sq,b.bT,b.ux,b.e1,b.fG,f.qT,f.BC,f.cb,f.vS,f.cV,$.V,Ht.e,Jt.$,Qt.y,Wt.V,Kt.S,M.tg,M.do,M.U0,M.md,P.vr,b.Jj,b.lG,S.D9],styles:[".loading[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:15rem!important}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#353740}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{max-height:20rem;overflow:auto}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.125rem;font-size:.75rem}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .ig-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:2.125rem;padding-inline:.5rem;font-size:.875rem;font-weight:400;color:#353740}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .ig-row[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:2.125rem!important;min-height:2.125rem}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .filter-action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:.5rem;margin-top:1.5rem}.custom-control[_ngcontent-%COMP%]{margin-bottom:10px}.clm-button[_ngcontent-%COMP%]{width:100%;height:2.0625rem;display:flex;justify-content:center;align-items:center;background-color:#fafdff;font-size:.75rem;font-weight:400;color:#188af1;border:0}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{background-color:#fff;border-color:#c6c6c7}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#222;border:#222 solid 1px}.remove-btn[_ngcontent-%COMP%]{border:0;padding:0;background-color:transparent}.dropdown-menu[_ngcontent-%COMP%]   .txt-hed[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#353740;text-transform:uppercase}.disable-div[_ngcontent-%COMP%]{pointer-events:none!important}"]})}}return o})();var ye=a(9163),Me=a(5084),Ge=a(6600),ke=a(9458),Se=a(6233),Ie=a(9213),je=a(2543),g=a(4054),_=a(7673),v=a(6354),C=a(5558),y=a(9437);let Te=(()=>{class o{constructor(e,n,s,i,d){this.action$=e,this.service=n,this.popup=s,this.router=i,this.toaster=d,this.addCustomer$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.ADD_CUSTOMER_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.addCustomer(r).pipe((0,C.n)(c=>[new l.ZI(c)]),(0,y.W)(c=>(0,_.of)(new l.c_(c))))))),this.customerGroupList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_GROUP_LIST_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.customerGroupList(r).pipe((0,C.n)(c=>[new l.x2(c)]),(0,y.W)(c=>(0,_.of)(new l.AG(c))))))),this.addCustomerGroup$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.ADD_CUSTOMER_GROUP_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.addCustomerGroup(r).pipe((0,C.n)(c=>[new l.am(c)]),(0,y.W)(c=>(0,_.of)(new l.zx(c))))))),this.updateCustomerGroup$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.UPDATE_CUSTOMER_GROUP_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.updateCustomerGroup(r).pipe((0,C.n)(c=>[new l.GC(c)]),(0,y.W)(c=>(0,_.of)(new l.hc(c))))))),this.deleteCustomerGroup$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.DELETE_CUSTOMER_GROUP_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.deleteCustomerGroup(r).pipe((0,C.n)(c=>[new l.C3(c)]),(0,y.W)(c=>(0,_.of)(new l.dh(c))))))),this.customerGroupListCount$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_GROUP_LIST_COUNT_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.customerGroupListCount(r).pipe((0,C.n)(c=>[new l.IP(c)]),(0,y.W)(c=>(0,_.of)(new l.Jy(c))))))),this.customerList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_LIST_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.customerList(r).pipe((0,C.n)(c=>[new l.eV(c)]),(0,y.W)(c=>(0,_.of)(new l.Fz(c))))))),this.customerDetails$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_DETAILS_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.customerDetails(r).pipe((0,C.n)(c=>[new l.GJ(c)]),(0,y.W)(c=>(0,_.of)(new l.Fd(c))))))),this.customerStatusUpdate$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_STATUS_UPDATE_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.customerStatusUpdate(r).pipe((0,C.n)(c=>[new l.tR(c)]),(0,y.W)(c=>(0,_.of)(new l.Yj(c))))))),this.customerGroupDetail$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_GROUP_DETAIL_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.customerGroupDetail(r).pipe((0,C.n)(c=>[new l.cO(c)]),(0,y.W)(c=>(0,_.of)(new l.jm(c))))))),this.customerGroupUpdate$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_GROUP_UPDATE_ACTION),(0,v.T)(r=>r.payload),(0,C.n)(r=>this.service.customerGroupUpdate(r).pipe((0,C.n)(c=>[new l.Ug(c)]),(0,y.W)(c=>(0,_.of)(new l.VJ(c)))))))}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(g.En),t.KVO(j),t.KVO(M.Bq),t.KVO(G.Ix),t.KVO(D.tw))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var xe=a(8516),U=a(4142),Oe=a(2102),Re=a(9631);const $e=[{path:"",component:ye.C,children:[{path:"",redirectTo:"customer-group",pathMatch:"full"},{path:"list",component:ve,data:{title:"Customer",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.CRM",url:"/crm/list"}]}},{path:"customer-group",component:I},{path:"customer",component:O},...U.Rk,...U.uw]}];let Fe=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({providers:[j,k],imports:[b.MD,f.YN,f.X1,Oe.RG,Me.X6,Ge.WX,ke.Gg,f.YN,M.UN,Re.fS,Se.aP,Ie.m_,je._,P.MQ,S.h,G.iI.forChild($e),g.Vm.forFeature([Te]),xe.CatalogModule]})}}return o})()}}]);