"use strict";(self.webpackChunkspurt_multi_vendor=self.webpackChunkspurt_multi_vendor||[]).push([[661],{6866:(pt,T,d)=>{d.d(T,{Q:()=>b});var m=d(1626),f=d(9754),R=d(4438);let b=(()=>{class _ extends f.j{constructor(){super(...arguments),this.params={},this.basUrl=this.getBaseUrl()}getOrderDetail(t){return this.http.get(this.basUrl+"/vendor-order/order-detail/"+t)}getArchiveOrderDetail(t){return this.http.get(this.basUrl+"/vendor-order/order-detail/"+t)}recentOrderList(t){let c={};return c=t,this.http.get(this.basUrl+"/vendor-order/recent-order-list",{params:c})}allOrderList(t){let c={};return c=t,this.http.get(this.basUrl+"/vendor-order/order-list",{params:c})}archiveOrderList(t){let c={};return c=t,this.http.get(this.basUrl+"/vendor-order/archive-order-list",{params:c})}orderCount(t){let c={};return c=t,this.http.get(this.basUrl+"/vendor-order/order-counts")}deliveryPersonsList(t){let c={};return c=t,this.http.get(this.basUrl+"/delivery-person/delivery-person-list-delivery-allocation",{params:c})}allocateDeliveryPersons(t){return this.http.post(this.basUrl+"/delivery-person/add-delivery-allocation",t)}allOrderListBasedOnStatus(t){let c={};return c=t,this.http.get(this.basUrl+"/vendor-order/vendor-orders-based-status-list",{params:c})}updateAllOrderListBasedOnStatus(t){const c={};return c.subOrderStatusId=t.subOrderStatusId,this.http.put(this.basUrl+"/vendor-order/update-order-status/"+t.vendorOrderId,c)}orderLogList(t){let c={};return c=t,this.http.get(this.basUrl+"/vendor-order/vendorOrderLoglist",{params:c})}orderStatusUpdate(t){const c={};return c.subOrderStatusId=Number(t.subOrderStatusId),this.http.put(this.basUrl+"/vendor-order/update-order-status/"+t.vendorOrderId,c)}makeArchive(t){return this.http.post(this.basUrl+"/vendor-order/make-vendor-order-archive",t)}shippingInformationUpdate(t){return this.http.post(this.basUrl+"/vendor-order/update-shipping-information",t)}orderStatusList(t){let c={};return c=t,this.http.get(this.basUrl+"/vendor-order/vendor-order-status-list",{params:c})}allOrdersStatusUpdate(t){return this.http.post(this.basUrl+"/vendor-order/bulk-update-order-status",t)}exportArchiveOrder(t){const c={responseType:"arraybuffer"};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return this.http.get(this.basUrl+"/vendor-order/archive-order-export",c)}exportAllArchiveOrder(t){const c={responseType:"arraybuffer"};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return this.http.get(this.basUrl+"/vendor-order/bulk-archive-order-export",c)}archiveOrderListCount(t){return this.http.get(this.basUrl+"/vendor-order/archive-order-list-count",{params:t})}cancelOrderList(t){return this.http.get(this.basUrl+"/vendor-order/cancel-order-list",{params:t})}cancelOrderListCount(t){return this.http.get(this.basUrl+"/vendor-order/cancel-order-list",{params:t})}exportCancelOrder(t){const c={responseType:"arraybuffer"};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return this.http.get(this.basUrl+"/vendor-order/vendor-order-cancel-excel-list",c)}exportAllCancelOrder(t){const c={responseType:"arraybuffer"};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return this.http.get(this.basUrl+"/vendor-order/bulk-vendor-order-cancel-excel-list",c)}changeCancelOrderStatus(t){return this.http.put(this.basUrl+"/vendor-order/update-vendor-order-cancel-request/"+t.orderProductId,t)}bulkCancelOrderStatus(t){return this.http.get(this.basUrl+"/vendor-order/update-bulk-vendor-order-cancel-request",{params:t})}quotationList(t){return this.http.get(this.basUrl+"/vendor-quotation/quotation-request-list",{params:t})}quotationListCount(t){return this.http.get(this.basUrl+"/vendor-quotation/quotation-request-list",{params:t})}orderInvoiceList(t){return this.http.get(this.basUrl+"/vendor-order/vendor-invoice-list",{params:t})}orderInvoiceListCount(t){return this.http.get(this.basUrl+"/vendor-order/vendor-invoice-list",{params:t})}downloadInvoice(t){return this.http.get(this.basUrl+"/vendor-order/order-invoice-export-pdf",{params:t,responseType:"blob"})}settlementList(t){return this.http.get(this.basUrl+"/vendor-order/sales-report-list",{params:t})}settlementListCount(t){return this.http.get(this.basUrl+"/vendor-order/sales-report-list",{params:t})}sendMail(t){return this.http.post(this.basUrl+"/vendor-order/order-invoice-export-send-email-pdf",t)}exportSalesReport(t){const c={responseType:"arraybuffer"};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return this.http.get(this.basUrl+"/vendor-order/sales-report-export-list",c)}productList(t){return this.http.get(this.basUrl+"/vendor-product",{params:t})}categoryList(t){return this.http.get(this.basUrl+"/vendor/category-list",{params:t})}backOrderList(t){return this.http.get(this.basUrl+"/vendor-order/back-order-list",{params:t})}backOrderListCount(t){return this.http.get(this.basUrl+"/vendor-order/back-order-list",{params:t})}failedOrderList(t){return this.http.get(this.basUrl+"/vendor-order/order-list",{params:t})}failedOrderCounts(t){return this.http.get(this.basUrl+"/vendor-order/order-list",{params:t})}exportBackOrder(t){const c={responseType:"arraybuffer"};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return this.http.get(this.basUrl+"/vendor-order/back-order-excel-list",c)}bulkBackOrderExport(t){const c={responseType:"arraybuffer"};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return this.http.get(this.basUrl+"/vendor-order/bulk-back-order-excel-list",c)}exportFailedOrder(t){const c={responseType:"arraybuffer"};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return this.http.get(this.basUrl+"/vendor-order/failed-order-excel-list",c)}exportOrderInvoice(t){const c={};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return c.responseType="arraybuffer",this.http.get(this.basUrl+"/vendor-order/export-order-invoice-list",c)}orderInvoiceAllExcel(t){const c={};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return c.responseType="arraybuffer",this.http.get(this.basUrl+"/vendor-order/export-order-invoice-list",c)}bulkFailedOrderExport(t){const c={responseType:"arraybuffer"};if(t){c.params=new m.Nl;for(const p in t)p&&(c.params=c.params.set(p,t[p]))}return this.http.get(this.basUrl+"/vendor-order/bulk-failed-order-excel-list",c)}vendorOrderStatusCount(t){return this.http.get(this.basUrl+"/vendor-order/vendor-orders-based-status-count",{params:t})}vendorOrderBasedOnDetail(t){return this.http.get(this.basUrl+"/vendor-order/vendor-orders-based-status-details/"+t.id,{params:t})}getAllOrderListcount(t){return this.http.get(this.basUrl+"/vendor-order/order-list",{params:t})}revokeArchieveOrder(t){return this.http.post(this.basUrl+"/vendor-order/revoke-vendor-order-archive",t)}archieveOrderDetail(t){return this.http.get(this.basUrl+"/vendor-order/archive-order-detail/"+t.vendorOrderArchiveId,{params:t})}salesReportCategory(t){return this.http.get(this.basUrl+"/vendor-product/vendor-category-list",{params:t})}updatePaymentStatus(t){return this.http.post(this.basUrl+"/vendor-order/update-payment-status",t)}OrderedExportAll(t){return this.http.post(this.basUrl+"/vendor-order/order-list-export",t,{responseType:"arraybuffer"})}backOrderDetail(t){return this.http.get(this.basUrl+"/vendor-order/order-detail/"+t)}fullFillNow(t){return this.http.put(this.basUrl+"/vendor-order/order",t)}tagPost(t){let c=t.id;return delete t.id,this.http.put(this.basUrl+`/vendor-order/${c}/order-product`,t)}fullFillmentList(t){return this.http.get(this.basUrl+"/vendor-order/vendor-order-status-list-based-on-parent",{params:t})}fullFillmentPost(t){let c=t.id;return delete t.id,this.http.put(this.basUrl+`/vendor-order/update-order-status/${c}`,t)}static{this.\u0275fac=(()=>{let t;return function(p){return(t||(t=R.xGo(_)))(p||_)}})()}static{this.\u0275prov=R.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},8492:(pt,T,d)=>{d.r(T),d.d(T,{ProductModule:()=>Ai});var m=d(177),f=d(1188),R=d(1180),b=d(9969),_=d(8359),z=d(1375),t=d(4438),c=d(7886),p=d(216),K=d(7898),y=d(1780);function mt(a,s){if(1&a&&(t.j41(0,"div",7),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.SpI(" ",e.categoryName," ")}}function gt(a,s){if(1&a&&(t.j41(0,"div",5),t.DNE(1,mt,2,1,"div",6),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.Y8G("ngForOf",e.vendorCategory)}}let ht=(()=>{class a{constructor(e,r,i,o,n){this.activeModal=e,this.router=r,this.route=i,this.productSandbox=o,this.productService=n,this.index=1,this.queryData=2}ngOnInit(){this.userModel.forEach(e=>{e.vendorCategory&&(this.vall=e.vendorCategory.length)}),this.getProductListModel()}getProductListModel(){this.productSandbox.CatalogEdit({limit:0,offset:0,keyword:0,count:0}),this.productSandbox.CatalogEdit$.subscribe(r=>{})}goToEditcatalog(){this.productService.editCategoryPop("Edit"),this.router.navigate(["/new-catalog/products/categories/",this.userId],{queryParams:{myParam:2}}),this.close(),this.getProductListModel()}close(){this.activeModal.close()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(c.Lw),t.rXU(f.Ix),t.rXU(f.nX),t.rXU(p.L),t.rXU(K.b))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-categorymodal"]],decls:9,vars:5,consts:[[1,"modal-header"],[1,"modal-body","category-list-modal"],["class","cm-list",4,"ngFor","ngForOf"],[1,"product-save-btn"],[1,"prev",3,"click"],[1,"cm-list"],["class","modalcategoriesFont",4,"ngFor","ngForOf"],[1,"modalcategoriesFont"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2),t.nI1(3,"translate"),t.k0s()(),t.j41(4,"div",1),t.DNE(5,gt,2,1,"div",2),t.k0s(),t.j41(6,"div",3)(7,"button",4),t.bIt("click",function(){return i.close()}),t.EFF(8,"Cancel"),t.k0s()()),2&r&&(t.R7$(2),t.Lme("",i.vall," ",t.bMT(3,3,"common.Selected Categories"),""),t.R7$(3),t.Y8G("ngForOf",i.userModel))},dependencies:[m.Sq,y.D9],styles:[".modalcategoriesFont[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#202123;display:block;padding-block:.3875rem;border-bottom:solid thin #ececf1}.assignattributesmodal.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{max-width:425px!important}"]})}}return a})();var ft=d(8866),w=d(4958),bt=d(6118);const _t={"common.Product Title":!0,"common.Category":!0,"common.Price":!0,"common.Updated On":!0,"common.Status":!0,"common.Approval Status":!0,"myShop.Preview":!0},Q=[{displayName:"",id:"id",type:"checkBox",checked:!0,optionalFilterName:"Checkbox",isEnableSelectall:!0,customStyle:{trow:{class:"tableAlign"},tbody:{class:"tableAlign"}}},{displayName:"common.Product Title",id:"names",type:"template",checked:!0,filterColName:"common.Product Title",customStyle:{tbody:{"max-width":"500px",class:"ellipsis-name",isShowTitle:!0}}},{displayName:"common.Category",id:"pending",type:"template",checked:!0,filterColName:"common.Category",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center text-nowrap"}}},{displayName:"common.Price",id:"price",type:"template",checked:!0,filterColName:"common.Price",customStyle:{trow:{class:"text-end"}}},{displayName:"common.Updated On",id:"createdDate",type:"date",checked:!0,filterColName:"common.Updated On",customStyle:{tbody:{class:"text-nowrap"}}},{displayName:"common.Status",id:"activeStatus",type:"template",checked:!0,filterColName:"common.Status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"common.Approval Status",id:"approvalStatus",type:"template",checked:!0,filterColName:"common.Approval Status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"myShop.Preview",id:"preview",type:"template",checked:!0,filterColName:"myShop.Preview",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center text-nowrap"}}},{displayName:"Action",type:"threeDotMenu",checked:!0,menuData:[{name:"Edit",img:"assets/imgs/edit.svg",displayName:"common.Edit"},{name:"Delete",img:"assets/imgs/delete.svg",displayName:"common.Delete"}],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}}],vt=[{label:"common.Product Title",name:"productName",type:"string"},{label:"common.Updated On",name:"modifiedDate",type:"date"},{label:"common.Category",name:"stock",type:"number"},{label:"common.SKU",name:"sku",type:"string"}],yt={ProductTitle:{name:"Product Title",label:"common.Product Title",aliasName:"",validatiors:[],type:"text",placeholder:"common.Product Title"},Price:{name:"Price",label:"Catalog.share.Price",validatiors:[],type:"text",placeholder:"Catalog.share.Price"},Search:{label:"",name:"Search",validatiors:[],type:"text",placeholder:"placeholder.productSearch"},Status:{name:"Status",label:"Select the status",validatiors:[],type:"ngSelect",placeholder:"Select the status",customData:{data:[{name:"Active",id:1},{name:"Inactive",id:0}],key:"name",value:"id"}}},Ct={1:{text:"common.Approved Product",class:"active"},2:{text:"common.Rejected Product",class:"inactive",image:"assets/imgs/info-outline.svg"},0:{text:"common.Waiting Product",class:"waiting"}},kt={1:{text:"common.Active",class:"active"},0:{text:"common.Inactive",class:"inactive"}},Pt=(0,bt.z)(["resetCheckbox","exportExcel","exportExcelAll","bulkUpload"]);var W=d(8276),Z=d(8792),E=d(1403),k=d(5312),P=d(7586);function Dt(a,s){if(1&a&&(t.j41(0,"div",10)(1,"h4"),t.EFF(2,"Reason "),t.j41(3,"span"),t.EFF(4),t.k0s()(),t.j41(5,"div",11)(6,"p"),t.EFF(7),t.k0s()()()),2&a){const e=s.$implicit;t.R7$(4),t.JRh(e.rejectDate),t.R7$(3),t.JRh(e.comment)}}let tt=(()=>{class a{constructor(e){this.activeModal=e}ngOnInit(){this.imageUrls=k.c.imageUrl,this.rejectReason.forEach(e=>{e.rejectDate=P(e.date,"YYYY-MM-DD HH:mm:ss").add(5,"hours").add(30,"minutes").format("DD-MM-YYYY hh:mm A")}),this.rejectReason.reverse()}dismiss(){this.activeModal.close()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(c.Lw))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-reject-reason"]],inputs:{rejectReason:"rejectReason",productImage:"productImage",productName:"productName"},decls:15,vars:3,consts:[[1,"modal-heading"],[1,"modal-body"],[1,"d-flex","align-items-center","product-details-row","mb-4"],[1,"avatar","avatar-xs","online","avatar-rounded"],["alt","",3,"src"],[1,"inline-flex"],[1,"rejected-reason-container"],["class","rejected-reason-row",4,"ngFor","ngForOf"],[1,"product-save-btn","modal-save-btn"],[1,"prev",3,"click"],[1,"rejected-reason-row"],[1,"rejected-reason-content"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2,"Rejected Reasons"),t.k0s()(),t.j41(3,"div",1)(4,"div",2)(5,"span",3),t.nrm(6,"img",4),t.k0s(),t.j41(7,"div",5)(8,"h3"),t.EFF(9),t.k0s()()(),t.j41(10,"div",6),t.DNE(11,Dt,8,2,"div",7),t.k0s()(),t.j41(12,"div",8)(13,"button",9),t.bIt("click",function(){return i.dismiss()}),t.EFF(14,"Cancel"),t.k0s()()),2&r&&(t.R7$(6),t.Y8G("src",i.imageUrls+"?path="+i.productImage[0].containerName+"&name="+i.productImage[0].image+"&width=100&height=100",t.B4B),t.R7$(3),t.JRh(i.productName),t.R7$(2),t.Y8G("ngForOf",i.rejectReason))},dependencies:[m.Sq]})}}return a})();var $=d(5300),u=d(9417),M=d(8256),V=d(6775),L=d(345),et=d(3419),St=d(4823),Ft=d(9355),jt=d(6723),Tt=d(7812),Rt=d(8119),Et=d(6147),$t=d(1849),Mt=d(1235),Vt=d(8431),N=d(2510);const Nt=["dropdownContent"],xt=["dropdownContentFilter"],j=a=>({"disabled-class":a}),it=a=>({"disable-div":a}),D=a=>({active:a}),Ot=()=>["",null,void 0],Gt=(a,s,e,r,i,o)=>({pending:a,names:s,price:e,activeStatus:r,approvalStatus:i,preview:o});function wt(a,s){if(1&a&&t.nrm(0,"app-reusable-forms",47),2&a){const e=t.XpG().$implicit,r=t.XpG();t.Y8G("type",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].type)("control",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].control)("label",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].label)("inputId",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].inputId)("aliasName",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].aliasName)("customData",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].customData)("placeholder",null==r.dynamicObjControls[e]?null:r.dynamicObjControls[e].placeholder)}}function Lt(a,s){if(1&a&&(t.j41(0,"div"),t.DNE(1,wt,1,7,"app-reusable-forms",46),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.Y8G("ngIf","Search"!==e)}}function Ut(a,s){if(1&a&&(t.qex(0),t.EFF(1),t.bVm()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",1==e.value?"Active":"In-active"," ")}}function At(a,s){if(1&a&&(t.qex(0),t.EFF(1),t.bVm()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.value," ")}}function Yt(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",51)(1,"span"),t.EFF(2),t.k0s(),t.qex(3,52),t.DNE(4,Ut,2,1,"ng-container",53)(5,At,2,1,"ng-container",54),t.bVm(),t.j41(6,"button",55),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.removeFilter(i))}),t.nrm(7,"img",56),t.k0s()()}if(2&a){const e=t.XpG().$implicit;t.R7$(2),t.SpI("",e.key," : "),t.R7$(),t.Y8G("ngSwitch",e.key),t.R7$(),t.Y8G("ngSwitchCase","Status")}}function Bt(a,s){if(1&a&&(t.qex(0),t.DNE(1,Yt,8,3,"div",50),t.bVm()),2&a){const e=s.$implicit;t.R7$(),t.Y8G("ngIf",!t.lJ4(1,Ot).includes(e.value))}}function Xt(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",48)(1,"h4"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,Bt,2,2,"ng-container",28),t.nI1(5,"keyvalue"),t.j41(6,"a",49),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.filterReset("clearAll"))}),t.EFF(7),t.nI1(8,"translate"),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,4,"common.Filter"),":"),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,6,e.backupFormValue))("ngForTrackBy",e.trackByIndex),t.R7$(3),t.SpI(" ",t.bMT(8,8,"common.ClearFilters")," ")}}function qt(a,s){if(1&a&&t.nrm(0,"app-alert-content",57),2&a){const e=t.XpG();t.Y8G("alert",e.alertConfig)}}function Jt(a,s){1&a&&(t.j41(0,"div",58),t.nrm(1,"app-loader"),t.k0s())}function Ht(a,s){if(1&a){const e=t.RV6();t.j41(0,"app-common-table",59),t.bIt("buttonChangeEvent",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.buttonAction(i))}),t.k0s()}if(2&a){const e=t.XpG(),r=t.sdS(97),i=t.sdS(99),o=t.sdS(101),n=t.sdS(103),l=t.sdS(105),g=t.sdS(107);t.Y8G("HeadArray",e.dynamicColumnFields)("GridArray",e.productListArray)("selectAll",e.tableCheckbox)("customTemplate",t.l4e(4,Gt,i,r,o,n,l,g))}}function zt(a,s){if(1&a&&(t.j41(0,"span",65)(1,"a",66),t.EFF(2),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s()()),2&a){const e=t.XpG().$implicit;t.FS9("matTooltip",e.name),t.R7$(2),t.SpI("",e.truncatedText,"..."),t.R7$(2),t.JRh(e.sku)}}function Kt(a,s){if(1&a&&(t.j41(0,"a",66),t.EFF(1),t.k0s(),t.j41(2,"p"),t.EFF(3),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.name," "),t.R7$(2),t.JRh(e.sku)}}function Qt(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",60)(1,"span",61),t.nrm(2,"img",62),t.k0s(),t.j41(3,"div",63),t.bIt("click",function(){const i=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.goToEdit(i.productId))}),t.DNE(4,zt,5,3,"span",64)(5,Kt,4,2,"ng-template",null,9,t.C5r),t.k0s()()}if(2&a){const e=s.$implicit,r=t.sdS(6),i=t.XpG();t.R7$(2),t.Y8G("src",i.imageUrl+"?path="+e.containerName+"&name="+e.image+"&width=300&height=300",t.B4B),t.R7$(2),t.Y8G("ngIf",(null==e.name?null:e.name.length)>100)("ngIfElse",r)}}function Wt(a,s){1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Category")," "))}function Zt(a,s){1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Categories")," "))}function te(a,s){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"a",67),t.bIt("click",function(){const i=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.opencategory(i.productId))}),t.EFF(2),t.DNE(3,Wt,3,3,"span",68)(4,Zt,3,3,"span",68),t.k0s(),t.bVm()}if(2&a){const e=s.$implicit;t.R7$(2),t.SpI(" ",null==e||null==e.vendorCategory?null:e.vendorCategory.length," "),t.R7$(),t.Y8G("ngIf",(null==e||null==e.vendorCategory?null:e.vendorCategory.length)<=1),t.R7$(),t.Y8G("ngIf",(null==e||null==e.vendorCategory?null:e.vendorCategory.length)>1)}}function ee(a,s){if(1&a&&(t.j41(0,"span",72)(1,"del"),t.EFF(2),t.nI1(3,"currencysymbol"),t.k0s()()),2&a){const e=t.XpG().$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,1,e.price),"")}}function ie(a,s){if(1&a&&(t.j41(0,"span",73),t.EFF(1),t.nI1(2,"currencysymbol"),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.pricerefer)," ")}}function ae(a,s){if(1&a&&(t.j41(0,"span",72),t.EFF(1),t.nI1(2,"currencysymbol"),t.k0s()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.pricerefer)," ")}}function re(a,s){if(1&a&&(t.j41(0,"span",72),t.EFF(1),t.nI1(2,"currencysymbol"),t.k0s()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.productprice)," ")}}function oe(a,s){if(1&a&&(t.qex(0),t.DNE(1,ae,3,3,"span",70)(2,re,3,3,"span",70),t.bVm()),2&a){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",e.pricerefer),t.R7$(),t.Y8G("ngIf",!e.pricerefer)}}function ne(a,s){if(1&a&&(t.j41(0,"div",69),t.DNE(1,ee,4,3,"span",70)(2,ie,3,3,"span",71)(3,oe,3,2,"ng-container",68),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.Y8G("ngIf",1==e.flag),t.R7$(),t.Y8G("ngIf",1==e.flag),t.R7$(),t.Y8G("ngIf",0===e.flag||""===e.flag)}}function se(a,s){if(1&a&&t.nrm(0,"app-common-badge",74),2&a){const e=s.$implicit,r=t.XpG();t.Y8G("badge",r.badgeStatusMappings.hasOwnProperty(e.isActive)?r.badgeStatusMappings[e.isActive]:"")}}function ce(a,s){if(1&a){const e=t.RV6();t.j41(0,"app-common-badge",75),t.bIt("rejectReason",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.rejectReasonData(i))}),t.k0s()}if(2&a){const e=s.$implicit,r=t.XpG();t.Y8G("rejected",e)("badge",(r.badgeConfig.hasOwnProperty(e.approvalFlag),r.badgeConfig[e.approvalFlag]))}}function le(a,s){if(1&a){const e=t.RV6();t.j41(0,"a",77),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,o=t.XpG();return t.Njj(o.productPreview(i))}),t.nrm(1,"img",78),t.EFF(2," Preview "),t.k0s()}}function de(a,s){1&a&&t.DNE(0,le,3,0,"a",76),2&a&&t.Y8G("ngIf",1==s.$implicit.isActive)}function ue(a,s){1&a&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.NoDataAvailablefortheFilteredCriteria")," "))}function pe(a,s){1&a&&t.EFF(0," No Products are added ! ")}function me(a,s){if(1&a&&(t.j41(0,"div",79)(1,"span"),t.nrm(2,"img",80),t.k0s(),t.j41(3,"h4"),t.DNE(4,ue,3,3,"ng-container",81)(5,pe,1,0,"ng-template",null,10,t.C5r),t.k0s()()),2&a){const e=t.sdS(6),r=t.XpG();t.R7$(4),t.Y8G("ngIf",r.formValueExists)("ngIfElse",e)}}function ge(a,s){if(1&a){const e=t.RV6();t.j41(0,"app-reusable-pagination",82),t.bIt("pageChange",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.onPageChange(i))}),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("ngClass",t.eq3(5,it,(null==e.selectedDatas?null:e.selectedDatas.length)>0))("type","numbers")("currentPage",e.currentPage)("pageSize",e.limit)("totalItems",e.count)}}function he(a,s){if(1&a){const e=t.RV6();t.j41(0,"app-bulk-action",83),t.bIt("actionEvent",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.actionType(i))}),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("count",null==e.selectedDatas?null:e.selectedDatas.length)("bulkList",e.bulkAction)}}let U=(()=>{class a{constructor(e,r,i,o,n,l,g,h,I,q,J,H,Yi,Bi,Xi){this.productSandbox=e,this.NewProductSandbox=r,this.router=i,this.formBuilder=o,this.toaster=n,this.route=l,this.modal=g,this.dataService=h,this.translate=I,this.toastr=q,this.productService=J,this.ref=H,this.titleService=Yi,this.fb=Bi,this.modalService=Xi,this.currency=JSON.parse(localStorage.getItem("adminCurrency")),this.backupData=structuredClone(Q),this.dynamicColumnFields=structuredClone(Q),this.productUrl=k.c.storeUrlRelatedProduct,this.currentPage=1,this.limit=Z.D,this.offset=0,this.pageSizeList=Z.h,this.queryData={},this.pagination=!0,this.productListArray=[],this.productArray=[],this.selectedDatas=[],this.tableCheckbox={isSelectAll:!1},this.imageUrl=k.c.imageUrl,this.backupColumns=structuredClone(_t),this.sortOption=vt,this.sortname="",this.sortOrder="",this._Object=Object,this.empty=[null,"",void 0],this.alertConfig={},this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this.count=0,this.AlltabStatus="2",this.falgStatus="",this.badgeConfig=Ct,this.badgeStatusMappings=kt,this.initalLoading=!1,this.trackByIndex=G=>G,this.subscriptions=new _.yU,this.bulkAction=Pt,this.titleService.setTitle("Products"),this.subscriptions.add(this.productSandbox.productList$.subscribe(G=>{G&&(this.productArray=G)}))}ngOnInit(){this.buildForm(),this.routeSubscribe()}open(){this.formObjFormGroup.patchValue(structuredClone(this.backupFormValue))}buttonAction(e){switch(e.key){case"threeDotMenu":"Edit"==e.actionType?this.goToEdit(e.productId):"Delete"==e.actionType&&this.deleteProduct(e.productId,"single");break;case"checkBox":this.selectedDatas=e.selectedDatas}}onPageChange(e){this.limit=e.limit,this.currentPage=Math.floor(e.offset/e.limit)+1,this.offset=(this.currentPage-1)*this.limit,this.geTotalProductList()}pageSizeChange(e){this.onPageChange({limit:e.id,offset:0})}applyFilter(){this.offset=0,this.currentPage=1,this.AlltabStatus=this.AlltabStatus,this.filterValueUpdate(),this.resetAll()}removeFilter(e){this.offset=0,this.currentPage=1,this.AlltabStatus=this.AlltabStatus,this.formObjFormGroup.controls[e.key].reset(),this.backupFormValue=[],this.filterValueUpdate(),this.resetAll()}filterReset(e){this.offset=0,this.currentPage=1,"clearAll"==e?this.formObjFormGroup.reset():this.formObjFormGroup.patchValue({"Product Title":"",Price:"",Status:""}),this.filterValueUpdate(),this.resetAll()}clearSearch(){this.offset=0,this.currentPage=1,this.resetAll()}searchItems(){this.offset=0,this.currentPage=1,this.resetAll()}SortValueChange(e){this.sortname=e?.name,this.sortOrder=["",null,void 0].includes(this.sortOrder)?"ASC":this.sortOrder,this.routeSubscribe()}SortValueChangeOrder(e){this.sortOrder=e,this.routeSubscribe()}actionType(e){switch(e){case"resetCheckbox":this.closebutton();break;case"exportExcel":this.EportdataAll();break;case"exportExcelAll":this.EportAll();break;case"bulkDelete":this.allProductDelete();break;case"bulkUpload":this.updateall()}}dropDownClose(e){this.hasOwnProperty(e)&&this[e]?.close()}saveColumns(e){this.backupColumns=structuredClone(e),this.showHideTableColumn()}getQueryParam(){return{limit:this.limit,offset:this.offset,currentPage:this.currentPage,keyword:this.backupFormValue.Search??"",productName:this.backupFormValue["Product Title"]??"",price:this.backupFormValue.Price?this.backupFormValue.Price:"",status:this.backupFormValue.Status?this.backupFormValue.Status:"",sortBy:this.sortname,sortOrder:this.sortOrder}}routeSubscribe(){let e={};this.subscriptions.add(this.route.queryParams.subscribe(r=>{e=r,this.limit=e.limit?Number(e.limit):this.limit,this.offset=e.offset?Number(e.offset):0,this.currentPage=e.currentPage?Number(e.currentPage):1,this.formObjFormGroup.patchValue({"Product Title":e?.productName??"",Price:e?.price??"",Search:e?.keyword??""}),this.filterValueUpdate()})),this.geTotalProductList(),this.getTotalProductCount()}showHideTableColumn(){this.dynamicColumnFields.forEach(e=>{e.hasOwnProperty("filterColName")&&(e.checked=this.backupColumns[e.filterColName])})}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}buildForm(){const e=structuredClone(yt),r=(0,W.b0)(e);this.formObjFormGroup=this.fb.group(r),Object.keys(e).forEach(i=>{this.dynamicObjControls[i]=(0,W.yE)(e[i],this.formObjFormGroup)}),this.filterValueUpdate()}resetAll(){this.geTotalProductList(),this.getTotalProductCount(),this.dropDownClose("dropdownContentFilter"),this.dropDownClose("dropdownContent")}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(structuredClone(this.backupFormValue)).some(e=>!this.empty.includes(e)),this.ref.detectChanges()}reset(e=!1){this.productListArray.forEach(r=>r.checked=e),this.selectedDatas=this.productListArray.filter(r=>r?.checked)}addProduct(){this.resetServices(),this.ref.detectChanges(),this.router.navigate(["/new-catalog/products/categories"])}resetServices(){this.dataService.setData([]),this.dataService.setDatacategoriesRightArray({}),this.dataService.setDatacategoriesLeftArray({}),this.dataService.setDataproductDetailsPagePrev(""),this.dataService.setDataProductDetails({}),this.dataService.setPricingDetails({}),this.dataService.setDataProductSeo({})}tabRoutingFlag(e){this.falgStatus=e,this.AlltabStatus="",this.geTotalProductList(),this.getTotalProductCount()}tabRouting(e){this.falgStatus="",this.AlltabStatus=e,this.geTotalProductList(),this.getTotalProductCount()}geTotalProductList(){const e={};e.limit=this.limit,e.offset=this.offset,e.keyword=this.backupFormValue?.Search??"",e.count=0,e.sortBy=this.sortname,e.sortOrder=this.sortOrder,e.productName=this.backupFormValue?.["Product Title"]?this.backupFormValue?.["Product Title"]:"",e.price=this.backupFormValue?.Price?this.backupFormValue?.Price:"",e.status=["2",null,void 0].includes(this.AlltabStatus)?["",null,void 0].includes(this.backupFormValue?.Status)?"":this.backupFormValue?.Status:this.AlltabStatus,e.approvalFlag=this.falgStatus,this.productSandbox.getProductList(e),this.subscriptions.add(this.productSandbox.productList$.subscribe(r=>{if(this.productListArray=r,r){r.forEach(o=>{o.truncatedText=o.name?.length>100?o.name.slice(0,100):o.name}),this.initalLoading=!(r.length>0);const i=r.every(o=>1===o.approvalFlag);this.alertConfig=i?(0,E.RI)():(0,E.RI)("content.productListContent",E.PO.failed,E.s7.failed),this.reset()}})),this.updateQueryParam()}getTotalProductCount(){const e={count:1};e.limit=this.limit,e.offset=this.offset,e.keyword=this.backupFormValue?.Search??"",e.count=1,e.sortBy=this.sortname,e.sortOrder=this.sortOrder,e.productName=this.backupFormValue?.["Product Title"]?this.backupFormValue?.["Product Title"]:"",e.price=this.backupFormValue?.Price?this.backupFormValue?.Price:"",e.status=["2",null,void 0].includes(this.AlltabStatus)?["",null,void 0].includes(this.backupFormValue?.Status)?"":this.backupFormValue?.Status:this.AlltabStatus,e.approvalFlag=this.falgStatus,this.productSandbox.getProductListCount(e),this.subscriptions.add(this.productSandbox.totalProductCount$.subscribe(r=>{this.count=r}))}goToEdit(e){this.productService.editCategoryPop(""),this.resetServices(),this.ref.detectChanges(),this.router.navigate(["/new-catalog/products/categories/",e],{queryParams:this.getQueryParam()})}allProductDelete(){const e=this.modal.open(z.T,{size:"sm",windowClass:"assignattributesmodal-categories delete-modal",backdrop:"static",backdropClass:"createcr",modalDialogClass:"modal-dialog-centered"});e.componentInstance.key="",e.componentInstance.deleteMessage="Product",e.componentInstance.productId=this.selectedDatas.map(r=>r.productId).toString(),e.result.then(r=>{if("deleted"==r){let i={productId:this.selectedDatas.map(o=>o.productId).toString()};this.NewProductSandbox.ProductMultiDelete(i),this.subscriptions.add(this.NewProductSandbox.ProductMultiDelete$.subscribe(o=>{1==o?.status&&(this.geTotalProductList(),this.getTotalProductCount(),this.selectedDatas=[])}))}})}deleteProduct(e,r){const i=this.modal.open(z.T,{size:"sm",windowClass:"assignattributesmodal-categories delete-modal",backdrop:"static",backdropClass:"createcr",modalDialogClass:"modal-dialog-centered"});i.componentInstance.key="",i.componentInstance.deleteMessage="Product",i.componentInstance.productId=e,i.result.then(o=>{"deleted"===o&&(this.productSandbox.doProductDelete({productId:e}),this.subscriptions.add(this.productSandbox.productDeleteLoaded$.subscribe(n=>{!0===n&&this.getTotalProductCount()})))})}deleteMultipleProduct(){if(0===this.selectedDatas.length)return void this.toaster.error("Please choose a product for delete");const e={};e.productId=this.selectedDatas.map(r=>r.productId).toString(),this.productSandbox.doProductBulkDelete(e),this.subscriptions.add(this.productSandbox.productBulkDeleteLoaded$.subscribe(r=>{!0===r&&this.geTotalProductList()}))}exportProduct(){if(0===this.selectedDatas.length)return void this.toaster.error("please choose a product for export");const e={};e.productId=this.selectedDatas.map(r=>r.productId).toString(),this.productSandbox.exportProduct(e)}exportAllProduct(){const e={};e.vendorId=JSON.parse(localStorage.getItem("vendorUser")).vendorId,this.productSandbox.allExportProduct(e)}Eportdata(e){const r={};r.productId=e,this.productSandbox.exportProduct(r)}EportdataAll(){const e={};e.productId=this.selectedDatas.map(r=>r.productId),this.productSandbox.exportProduct(e)}EportAll(){this.productSandbox.exportProduct({productId:[]})}closebutton(){this.productListArray.forEach(e=>e.selected=!1),this.reset(),this.tableCheckbox.isSelectAll=!1,this.tableCheckbox={...this.tableCheckbox}}opencategory(e){this.subscriptions.add(this.productSandbox.productList$.subscribe(i=>{i&&(this.productArrayModel=i.filter(o=>o.productId==e))}));const r=this.modal.open(ht,{size:"xs",windowClass:"assignattributesmodal-categories orderstatushistory delete-modal",backdrop:"static",backdropClass:"createcr",centered:!0});r.componentInstance.userId=e,r.componentInstance.userModel=this.productArrayModel}updateall(){const e=this.modal.open(ft.t,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories"});e.componentInstance.Name="common.Product Status",e.componentInstance.Content="BulkUpdate.ChooseMultipleProducts",e.componentInstance.action="Single",e.componentInstance.fulfillment="product",e.result.then(r=>{if("Save"==r?.modelStatus){const i={productIds:this.selectedDatas.map(n=>n.productId).toString(),statusId:["",null,void 0].includes(r?.StatusChange)?"":1==r?.StatusChange?1:0,dateAvailableFrom:r.obj.dateAvailableFrom,price:r.obj.price,inventory:r.obj.inventory},o=Object.fromEntries(Object.entries(i).filter(([n,l])=>null!=l&&""!==l));0!==r.empty&&this.productService.bulkproductStatusUpdate(o).subscribe(n=>{(1==n?.status||0==n?.status)&&(this.selectedDatas=[],this.geTotalProductList())})}})}rejectReasonData(e){if(JSON.parse(e.rejectReason)?.length>0){let r=[];r.push({containerName:e.containerName,image:e.image});const i=this.modalService.open(tt,{size:"xl",windowClass:"assignattributesmodal-categories",backdrop:"static",backdropClass:"createcr",centered:!0});i.componentInstance.rejectReason=JSON.parse(e.rejectReason),i.componentInstance.productImage=r,i.componentInstance.productName=e.name}}productPreview(e){window.open(this.productUrl+e.productSlug,"_blank")}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(p.L),t.rXU($.R),t.rXU(f.Ix),t.rXU(u.ze),t.rXU(M.tw),t.rXU(f.nX),t.rXU(c.Bq),t.rXU(V.u),t.rXU(y.c$),t.rXU(M.tw),t.rXU(K.b),t.rXU(t.gRc),t.rXU(L.hE),t.rXU(u.ze),t.rXU(c.Bq))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-list"]],viewQuery:function(r,i){if(1&r&&(t.GBs(Nt,5),t.GBs(xt,5)),2&r){let o;t.mGM(o=t.lsd())&&(i.dropdownContent=o.first),t.mGM(o=t.lsd())&&(i.dropdownContentFilter=o.first)}},features:[t.Jv_([w.G])],decls:115,vars:138,consts:[["dropdownContent","ngbDropdown"],["tooltip","ngbTooltip"],["dropdownContentFilter","ngbDropdown"],["itemTemplateRefName",""],["itemTemplateRef",""],["itemTemplatePrice",""],["itemTemplateRefStatus",""],["itemTemplateRefapprovalStatus",""],["itemTemplatePreview",""],["fullTextDisplay",""],["nodatafound",""],[1,"header-list","flexx"],[1,"header-list-rht","ms-auto","flexx"],[1,"per-page","flexx",3,"ngClass"],[1,"ig-row"],["bindLabel","id",3,"change","ngModelChange","items","searchable","clearable","ngModel"],["ngbDropdown","",1,"search-filter",3,"ngClass"],["tabindex","0","ngbDropdownToggle","","id","navbarDropdown2","role","button","placement","bottom","role","button",3,"mouseleave","ngbTooltip"],["src","assets/imgs/search.svg","alt","",3,"click"],["ngbDropdownMenu","","aria-labelledby","navbarDropdown2",1,"dropdown-menu","dropdown-menu-end"],[1,"",3,"keyup.enter"],[1,"input-group"],[3,"type","control","label","inputId","aliasName","placeholder"],[3,"valueChanged","valueChangedOrder","sortOption","ngClass"],["tabindex","0","ngbDropdownToggle","","id","navbarDropdown2","role","button","placement","bottom","role","button",3,"click","mouseleave","ngbTooltip"],["src","assets/imgs/filter.svg","alt",""],["action","",1,"flex"],[1,"filter-content"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-action"],[1,"button-reg","btn-sm","primary",3,"click"],[1,"button-reg","btn-sm","trans-btn",3,"click"],[3,"selectedColumns","filterColumns","ngClass"],["href","javascript:Void(0)",1,"link-reg","link-sm","primary",3,"click"],["class","filter-result-row flexx",4,"ngIf"],[1,"inner-filter-row",3,"ngClass"],[3,"click"],["href","javascript:void(0)",1,"active",3,"ngClass"],["href","javascript:void(0)",3,"ngClass"],[1,"page-content"],[3,"alert",4,"ngIf"],["class","loading",4,"ngIf"],[3,"HeadArray","GridArray","selectAll","customTemplate","buttonChangeEvent",4,"ngIf"],["class","nodata flexx",4,"ngIf"],["class","pagination flexx",3,"ngClass","type","currentPage","pageSize","totalItems","pageChange",4,"ngIf"],[3,"count","bulkList","actionEvent",4,"ngIf"],[3,"type","control","label","inputId","aliasName","customData","placeholder",4,"ngIf"],[3,"type","control","label","inputId","aliasName","customData","placeholder"],[1,"filter-result-row","flexx"],["href","javascript:void(0)",1,"clear",3,"click"],["class","filter-result-col",4,"ngIf"],[1,"filter-result-col"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"remove-btn",3,"click"],["src","assets/imgs/close-sm.svg","alt",""],[3,"alert"],[1,"loading"],[3,"buttonChangeEvent","HeadArray","GridArray","selectAll","customTemplate"],[1,"d-flex","align-items-center","product-details"],[1,"avatar","avatar-xs","online","avatar-rounded","cursor"],["alt","Product Image","title","Product Image","onError","this.src='assets/imgs/no-image.jpg';",3,"src"],[1,"inline-flex","cursor",3,"click"],["matTooltipPosition","above",3,"matTooltip",4,"ngIf","ngIfElse"],["matTooltipPosition","above",3,"matTooltip"],["href","javascript:void(0)"],["href","javascript:void(0)",1,"link-text","link-cat-width",3,"click"],[4,"ngIf"],[1,"text-end"],["class","d-inline-block text-nowrap",4,"ngIf"],["class","d-inline-block text-nowrap","style","color: red",4,"ngIf"],[1,"d-inline-block","text-nowrap"],[1,"d-inline-block","text-nowrap",2,"color","red"],[3,"badge"],[3,"rejectReason","rejected","badge"],["href","javascript:void(0)","class","link-text",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"link-text",3,"click"],["src","assets/imgs/globe.png","alt","preview"],[1,"nodata","flexx"],["src","assets/imgs/nodata.svg","alt",""],[4,"ngIf","ngIfElse"],[1,"pagination","flexx",3,"pageChange","ngClass","type","currentPage","pageSize","totalItems"],[3,"actionEvent","count","bulkList"]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"header")(1,"div",11)(2,"h1"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",12)(6,"div",13),t.nI1(7,"async"),t.nI1(8,"async"),t.j41(9,"p"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"div",14)(13,"ng-select",15),t.bIt("change",function(l){return t.eBV(o),t.Njj(i.pageSizeChange(l))}),t.mxI("ngModelChange",function(l){return t.eBV(o),t.DH7(i.limit,l)||(i.limit=l),t.Njj(l)}),t.k0s()()(),t.j41(14,"div",16,0),t.nI1(16,"async"),t.nI1(17,"async"),t.j41(18,"button",17,1),t.nI1(20,"translate"),t.bIt("mouseleave",function(){t.eBV(o);const l=t.sdS(19);return t.Njj(l.close())}),t.j41(21,"img",18),t.bIt("click",function(){return t.eBV(o),t.Njj(i.open())}),t.k0s()(),t.j41(22,"div",19)(23,"h5"),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"form",20),t.bIt("keyup.enter",function(){return t.eBV(o),t.Njj(i.applyFilter())}),t.j41(27,"div",21)(28,"div",14),t.nrm(29,"app-reusable-forms",22),t.k0s()()()()(),t.j41(30,"app-common-sort",23),t.nI1(31,"async"),t.nI1(32,"async"),t.bIt("valueChanged",function(l){return t.eBV(o),t.Njj(i.SortValueChange(l))})("valueChangedOrder",function(l){return t.eBV(o),t.Njj(i.SortValueChangeOrder(l))}),t.k0s(),t.j41(33,"div",16,2),t.nI1(35,"async"),t.nI1(36,"async"),t.j41(37,"button",24,1),t.nI1(39,"translate"),t.bIt("click",function(){return t.eBV(o),t.Njj(i.open())})("mouseleave",function(){t.eBV(o);const l=t.sdS(19);return t.Njj(l.close())}),t.nrm(40,"img",25),t.k0s(),t.j41(41,"div",19)(42,"h5"),t.EFF(43),t.nI1(44,"translate"),t.k0s(),t.j41(45,"form",26)(46,"div",27),t.DNE(47,Lt,2,1,"div",28),t.k0s(),t.j41(48,"div",29)(49,"button",30),t.bIt("click",function(){return t.eBV(o),t.Njj(i.applyFilter())}),t.EFF(50),t.nI1(51,"translate"),t.k0s(),t.j41(52,"button",31),t.bIt("click",function(){return t.eBV(o),t.Njj(i.filterReset(""))}),t.EFF(53),t.nI1(54,"translate"),t.k0s()()()()(),t.j41(55,"app-dynamic-columns",32),t.nI1(56,"async"),t.nI1(57,"async"),t.bIt("selectedColumns",function(l){return t.eBV(o),t.Njj(i.saveColumns(l))}),t.k0s(),t.j41(58,"a",33),t.bIt("click",function(){return t.eBV(o),t.Njj(i.addProduct())}),t.EFF(59),t.nI1(60,"translate"),t.k0s()()()(),t.DNE(61,Xt,9,10,"div",34),t.j41(62,"div",35),t.nI1(63,"async"),t.nI1(64,"async"),t.j41(65,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRouting("2"))}),t.j41(66,"a",37),t.EFF(67),t.nI1(68,"translate"),t.k0s()(),t.j41(69,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRouting("1"))}),t.j41(70,"a",38),t.EFF(71),t.nI1(72,"translate"),t.k0s()(),t.j41(73,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRouting("0"))}),t.j41(74,"a",38),t.EFF(75),t.nI1(76,"translate"),t.k0s()(),t.j41(77,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRoutingFlag("1"))}),t.j41(78,"a",38),t.EFF(79),t.nI1(80,"translate"),t.k0s()(),t.j41(81,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRoutingFlag("2"))}),t.j41(82,"a",38),t.EFF(83),t.nI1(84,"translate"),t.k0s()(),t.j41(85,"a",36),t.bIt("click",function(){return t.eBV(o),t.Njj(i.tabRoutingFlag("0"))}),t.j41(86,"a",38),t.EFF(87),t.nI1(88,"translate"),t.k0s()()(),t.j41(89,"div",39),t.DNE(90,qt,1,1,"app-alert-content",40),t.nI1(91,"async"),t.DNE(92,Jt,2,0,"div",41),t.nI1(93,"async"),t.DNE(94,Ht,1,11,"app-common-table",42),t.nI1(95,"async"),t.DNE(96,Qt,7,3,"ng-template",null,3,t.C5r)(98,te,5,3,"ng-template",null,4,t.C5r)(100,ne,4,3,"ng-template",null,5,t.C5r)(102,se,1,1,"ng-template",null,6,t.C5r)(104,ce,1,2,"ng-template",null,7,t.C5r)(106,de,1,1,"ng-template",null,8,t.C5r)(108,me,7,2,"div",43),t.nI1(109,"async"),t.nI1(110,"async"),t.qex(111),t.DNE(112,ge,1,7,"app-reusable-pagination",44),t.nI1(113,"async"),t.bVm(),t.k0s(),t.DNE(114,he,1,2,"app-bulk-action",45)}if(2&r){let o,n,l,g,h,I;t.R7$(3),t.JRh(t.bMT(4,48,"common.Productlist")),t.R7$(3),t.Y8G("ngClass",t.eq3(114,j,t.bMT(7,50,i.productSandbox.productListLoading$)||i.initalLoading||0==(null==(o=t.bMT(8,52,i.productSandbox.productList$))?null:o.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.SpI(" ",t.bMT(11,54,"common.PerPage"),""),t.R7$(3),t.Y8G("items",i.pageSizeList)("searchable",!1)("clearable",!1),t.R50("ngModel",i.limit),t.R7$(),t.Y8G("ngClass",t.eq3(116,j,t.bMT(16,56,i.productSandbox.productListLoading$)||i.initalLoading||0==(null==(n=t.bMT(17,58,i.productSandbox.productList$))?null:n.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.FS9("ngbTooltip",t.bMT(20,60,"common.Search")),t.R7$(6),t.JRh(t.bMT(25,62,"common.Search")),t.R7$(5),t.Y8G("type",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.type)("control",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.control)("label",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.label)("inputId",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.inputId)("aliasName",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.aliasName)("placeholder",null==i.dynamicObjControls.Search?null:i.dynamicObjControls.Search.placeholder),t.R7$(),t.Y8G("sortOption",i.sortOption)("ngClass",t.eq3(118,j,t.bMT(31,64,i.productSandbox.productListLoading$)||i.initalLoading||0==(null==(l=t.bMT(32,66,i.productSandbox.productList$))?null:l.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(3),t.Y8G("ngClass",t.eq3(120,j,t.bMT(35,68,i.productSandbox.productListLoading$)||i.initalLoading||0==(null==(g=t.bMT(36,70,i.productSandbox.productList$))?null:g.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.FS9("ngbTooltip",t.bMT(39,72,"common.Filter")),t.R7$(6),t.JRh(t.bMT(44,74,"common.Filter")),t.R7$(4),t.Y8G("ngForOf",i._Object.keys(i.dynamicObjControls))("ngForTrackBy",i.trackByIndex),t.R7$(3),t.SpI(" ",t.bMT(51,76,"common.apply filters"),""),t.R7$(3),t.JRh(t.bMT(54,78,"common.reset")),t.R7$(2),t.Y8G("filterColumns",i.backupColumns)("ngClass",t.eq3(122,j,t.bMT(56,80,i.productSandbox.productListLoading$)||i.initalLoading||0==(null==(h=t.bMT(57,82,i.productSandbox.productList$))?null:h.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.SpI(" + ",t.bMT(60,84,"common.Create Product")," "),t.R7$(2),t.Y8G("ngIf",i.formValueExists),t.R7$(),t.Y8G("ngClass",t.eq3(124,it,t.bMT(63,86,i.productSandbox.productListLoading$)||0==(null==(I=t.bMT(64,88,i.productSandbox.productList$))?null:I.length)&&i.formValueExists||(null==i.selectedDatas?null:i.selectedDatas.length)>0)),t.R7$(4),t.Y8G("ngClass",t.eq3(126,D,"2"==i.AlltabStatus)),t.R7$(),t.JRh(t.bMT(68,90,"common.All")),t.R7$(3),t.Y8G("ngClass",t.eq3(128,D,"1"==i.AlltabStatus)),t.R7$(),t.JRh(t.bMT(72,92,"common.Active")),t.R7$(3),t.Y8G("ngClass",t.eq3(130,D,"0"==i.AlltabStatus)),t.R7$(),t.JRh(t.bMT(76,94,"common.Inactive")),t.R7$(3),t.Y8G("ngClass",t.eq3(132,D,"1"==i.falgStatus)),t.R7$(),t.SpI("",t.bMT(80,96,"Sales.shared.Approve")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(134,D,"2"==i.falgStatus)),t.R7$(),t.SpI("",t.bMT(84,98,"Sales.shared.Reject")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(136,D,"0"==i.falgStatus)),t.R7$(),t.SpI("",t.bMT(88,100,"common.Waiting Product")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(91,102,i.productSandbox.productListLoaded$)&&(null==i.productListArray?null:i.productListArray.length)>0),t.R7$(2),t.Y8G("ngIf",t.bMT(93,104,i.productSandbox.productListLoading$)),t.R7$(2),t.Y8G("ngIf",(null==i.productListArray?null:i.productListArray.length)>0&&t.bMT(95,106,i.productSandbox.productListLoaded$)),t.R7$(14),t.Y8G("ngIf",t.bMT(109,108,i.productSandbox.productListLoaded$)&&0==t.bMT(110,110,i.productSandbox.productList$).length),t.R7$(4),t.Y8G("ngIf",t.bMT(113,112,i.productSandbox.productListLoaded$)&&i.count>0),t.R7$(2),t.Y8G("ngIf",(null==i.selectedDatas?null:i.selectedDatas.length)>0)}},dependencies:[m.YU,m.Sq,m.bT,m.ux,m.e1,m.fG,u.qT,u.BC,u.cb,et.V,St.oV,Ft.e,jt.$,Tt.y,Rt.T,Et.j,$t.V,Mt.C,Vt.S,u.vS,u.cV,c.tg,c.do,c.U0,c.md,N.vr,m.Jj,m.lG,w.G,y.D9],styles:['.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:15rem!important}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#353740}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{max-height:20rem;overflow:auto}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.125rem;font-size:.75rem}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .ig-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:2.125rem;padding-inline:.5rem;font-size:.875rem;font-weight:400;color:#353740}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .ig-row[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:2.125rem!important;min-height:2.125rem}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .filter-action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:.5rem;margin-top:1.5rem}.custom-control[_ngcontent-%COMP%]{margin-bottom:10px}.clm-button[_ngcontent-%COMP%]{width:100%;height:2.0625rem;display:flex;justify-content:center;align-items:center;background-color:#fafdff;font-size:.75rem;font-weight:400;color:#188af1;border:0}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{background-color:#fff;border-color:#c6c6c7}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#222;border:#222 solid 1px}.disabled-class[_ngcontent-%COMP%]{pointer-events:none!important;opacity:.5}.tab-row-click[_ngcontent-%COMP%]{cursor:pointer}.loading[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center}.faild[_ngcontent-%COMP%]{background-color:#faebeb;border:1px solid #F5C8C8}.remove-btn[_ngcontent-%COMP%]{border:0;padding:0;background-color:transparent}.pending[_ngcontent-%COMP%]{color:#eb7500;border-color:#ffe0c2;background-color:#fff7ef}.disable-div[_ngcontent-%COMP%]{pointer-events:none}.header-list-rht[_ngcontent-%COMP%]   .search-filter.show[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{content:"";position:fixed;left:19rem;top:6rem!important;width:calc(100vw - 17rem);height:100vh;background-color:#fff9;cursor:default}'],data:{animation:[(0,b.hZ)("slideInOut",[(0,b.kY)(":enter",[(0,b.iF)({transform:"translateX(0%)"}),(0,b.i0)("0.5s ease-in",(0,b.iF)({transform:"translateX(-100%)"}))]),(0,b.kY)(":leave",[(0,b.iF)({transform:"translateX(0%)"}),(0,b.i0)("0.5s ease-in",(0,b.iF)({transform:"translateX(-100%)"}))])])]}})}}return a})();var v=d(4142),x=d(9473),fe=d(7431);const be=["inputField"],_e=["input1"],at=()=>["levels"];function ve(a,s){if(1&a){const e=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(e);const i=t.XpG().ngIf,o=t.XpG();return t.Njj(o.openrejectedreasonmodal(null==i?null:i.data))}),t.EFF(1," Rejected Reasons "),t.k0s()}}function Ie(a,s){if(1&a&&(t.qex(0),t.DNE(1,ve,2,0,"button",22),t.bVm()),2&a){const e=s.ngIf;t.R7$(),t.Y8G("ngIf",2==(null==e||null==e.data?null:e.data.approvalflag))}}function ye(a,s){1&a&&(t.j41(0,"div",6)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,2,"common.Yet to create")),t.R7$(3),t.SpI("4. ",t.bMT(6,4,"common.Seo"),""))}function Ce(a,s){1&a&&t.nrm(0,"img",32)}function ke(a,s){if(1&a&&(t.qex(0),t.EFF(1),t.DNE(2,Ce,1,0,"img",31),t.bVm()),2&a){const e=s.$implicit,r=s.last;t.R7$(),t.SpI(" ",e," "),t.R7$(),t.Y8G("ngIf",!r)}}function Pe(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",24),t.bIt("click",function(){const i=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.addCategories(i))}),t.j41(1,"div",25),t.nrm(2,"img",26),t.k0s(),t.j41(3,"div",27),t.DNE(4,ke,3,2,"ng-container",28),t.k0s(),t.j41(5,"button",29),t.bIt("click",function(){const i=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.addCategories(i))}),t.nrm(6,"img",30),t.k0s()()}if(2&a){const e=s.$implicit;t.R7$(4),t.Y8G("ngForOf",e.newlevels)}}function De(a,s){1&a&&t.nrm(0,"img",32)}function Se(a,s){if(1&a&&(t.qex(0),t.EFF(1),t.DNE(2,De,1,0,"img",31),t.bVm()),2&a){const e=s.$implicit,r=s.last;t.R7$(),t.SpI(" ",e," "),t.R7$(),t.Y8G("ngIf",!r)}}function Fe(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",24),t.bIt("click",function(){const i=t.eBV(e),o=i.$implicit,n=i.index,l=t.XpG();return t.Njj(l.removeCategories(o,n))}),t.j41(1,"div",25),t.nrm(2,"img",26),t.k0s(),t.j41(3,"div",27),t.DNE(4,Se,3,2,"ng-container",28),t.k0s(),t.j41(5,"button"),t.nrm(6,"img",33),t.k0s()()}if(2&a){const e=s.$implicit;t.R7$(4),t.Y8G("ngForOf",null==e?null:e.newlevels)}}function je(a,s){1&a&&(t.j41(0,"div",34),t.nrm(1,"img",35),t.j41(2,"p"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"Catalog.product.SelectedCategoriesWarn")))}let rt=(()=>{class a{constructor(e,r,i,o,n,l,g,h){this.modalService=e,this.productsandbox=r,this.toster=i,this.route=o,this.router=n,this.dataService=l,this.ref=g,this.titleService=h,this.categoriesList=[],this.rightarrayList=[],this.keyword="",this.rightKeyword="",this.catergoriesId=[],this.paramsValue={},this.ProductSeo=v.rh.length>0,this.updateList=[],this.subscriptions=new _.yU,this.titleService.setTitle("Products")}getDatasss(){this.catergoriesId=this.dataService.getData(),this.rightarrayList=this.dataService.getDatacategoriesRightArray();const e=this.dataService.getDatacategoriesRightArray().filter((r,i,o)=>i===o.findIndex(n=>n.categoryId===r.categoryId));this.rightarrayList=e,this.updateList=this.dataService.getDataccategoriesLeftArray()}ngOnInit(){this.editId=this.router.snapshot.params.id,this.ref.detectChanges(),["",null,void 0].includes(this.dataService.getrproductDetailsPagePrev())&&(this.CategoriesApiList(),this.resetServices(),this.ref.detectChanges()),"productDetailsname"==this.dataService.getrproductDetailsPagePrev()?(this.getDatasss(),this.categoriesList=this.updateList,this.ref.detectChanges()):[null,"",void 0].includes(this.editId)||(this.resetServices(),this.updatedetailsApi(),this.ref.detectChanges()),this.routeSubscribe()}routeSubscribe(){this.router.queryParams.subscribe(e=>{this.paramsValue=e})}updatedetailsApi(){this.productsandbox.ProductUpdateDetails(this.editId),this.productsandbox.ProductUpdateDetails$.subscribe(e=>{1==e?.status&&(this.dataService.setProductName(e?.data.name),this.subscriptions.add(this.productsandbox.CategoriesList$.subscribe(r=>{if(1==r?.status){this.ref.detectChanges(),r?.data.forEach(o=>{o.newlevels=o?.levels.split(">")});let i=e.data.Category.filter(o=>r?.data.some(n=>n?.categoryId==o?.categoryId));this.ref.detectChanges(),i.forEach(o=>{o.newlevels=o.levels.split(">"),this.addCategories(o)}),this.ref.detectChanges()}})))})}onKeyDown(e){e.ctrlKey&&"Slash"===e.code&&this.focusOnInput(),!e.ctrlKey&&"Slash"===e.code&&this.focusOnInput2(e)}focusOnInput(){this.inputField&&this.inputField.nativeElement.focus()}focusOnInput2(e){"/"===e.key&&(e.preventDefault(),this.input1&&this.input1.nativeElement.focus())}CategoriesApiList(){this.productsandbox.CategoriesList({}),this.subscriptions.add(this.productsandbox.CategoriesList$.subscribe(e=>{1==e?.status&&(this.ref.detectChanges(),e.data.forEach(r=>{r.newlevels=r.levels.split(">")}),this.categoriesList=e?.data,this.ref.detectChanges())}))}addCategories(e){const r={};this.categoriesList=this.categoriesList.filter(function(o){return o.categoryId!=e.categoryId}),this.ref.detectChanges(),this.rightarrayList.unshift({...e});const i=this.rightarrayList.filter(o=>!r[o.categoryId]&&(r[o.categoryId]=!0,!0));this.rightarrayList=i}removeCategories(e){this.categoriesList.push(e),this.rightarrayList=this.rightarrayList.filter(function(r){return r.categoryId!==e.categoryId})}setData(e){const r=e;r.items=this.rightarrayList,this.dataService.setData(r)}Next(){let e=[];this.rightarrayList.forEach(r=>{e.push(r?.categoryId)}),this.dataService.setDatacategoriesRightArray(this.rightarrayList),this.dataService.setDatacategoriesLeftArray(this.categoriesList),this.setData(e),e.length>0?["",null,void 0].includes(this.editId)?(this.dataService.setObjPageRefresh(),this.route.navigate(["/new-catalog/products/product-details"],{queryParams:this.paramsValue})):(this.dataService.setObjPageRefresh(),this.route.navigate(["/new-catalog/products/product-details/",this.editId],{queryParams:this.paramsValue})):this.toster.error("Please choose the Categories")}resetServices(){this.dataService.setData([]),this.dataService.setDatacategoriesRightArray({}),this.dataService.setDatacategoriesLeftArray({}),this.dataService.setDataproductDetailsPagePrev({}),this.dataService.setDataProductDetails({}),this.dataService.setDataProductSeo({}),this.dataService.setPricingDetails({})}cancel(){this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue})}openrejectedreasonmodal(e){const r=this.modalService.open(tt,{size:"xl",windowClass:"assignattributesmodal-categories",backdrop:"static",backdropClass:"createcr",centered:!0});r.componentInstance.rejectReason=e.rejectReason,r.componentInstance.productImage=e.productImage,r.componentInstance.productName=e.name}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(c.Bq),t.rXU($.R),t.rXU(M.tw),t.rXU(f.Ix),t.rXU(f.nX),t.rXU(V.u),t.rXU(t.gRc),t.rXU(L.hE))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-categories"]],viewQuery:function(r,i){if(1&r&&(t.GBs(be,5),t.GBs(_e,5)),2&r){let o;t.mGM(o=t.lsd())&&(i.inputField=o.first),t.mGM(o=t.lsd())&&(i.input1=o.first)}},hostBindings:function(r,i){1&r&&t.bIt("keydown",function(n){return i.onKeyDown(n)},!1,t.tSv)},decls:85,vars:74,consts:[["input1",""],["inputField",""],[4,"ngIf"],[1,"product-add-container"],[1,"product-add-nav"],[1,"product-add-nav-col","current"],[1,"product-add-nav-col"],["class","product-add-nav-col",4,"ngIf"],[1,"product-add-section"],[1,"prodcut-add-categories"],[1,"prodcut-add-categories-col"],[1,"categories-heading"],[1,"input-group","categories-search"],[1,"ig-row"],["type","text","appNospace","",1,"search",3,"keydown","ngModelChange","placeholder","ngModel"],[1,"input-info"],[1,"product-categories-list"],["class","product-categories-list-row",3,"click",4,"ngFor","ngForOf"],["class","product-category-list-empty",4,"ngIf"],[1,"product-save-btn"],[1,"cancel",3,"click"],[1,"save",3,"click"],["class","button-reg btn-sm cancel ms-auto",3,"click",4,"ngIf"],[1,"button-reg","btn-sm","cancel","ms-auto",3,"click"],[1,"product-categories-list-row",3,"click"],[1,"drag-icon"],["src","assets/imgs/drag.svg","alt",""],[1,"categories-list-txt"],[4,"ngFor","ngForOf"],[3,"click"],["src","assets/imgs/add-plus.svg","alt",""],["src","assets/imgs/caret-right.svg","alt","",4,"ngIf"],["src","assets/imgs/caret-right.svg","alt",""],["src","assets/imgs/minus.svg","alt",""],[1,"product-category-list-empty"],["src","assets/imgs/add-category.svg","alt",""]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"header")(1,"h1"),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.k0s(),t.DNE(6,Ie,2,1,"ng-container",2),t.nI1(7,"async"),t.k0s(),t.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"p"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"h3"),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"div",6)(18,"p"),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"h3"),t.EFF(22),t.nI1(23,"translate"),t.k0s()(),t.j41(24,"div",6)(25,"p"),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.j41(28,"h3"),t.EFF(29),t.nI1(30,"translate"),t.k0s()(),t.DNE(31,ye,7,6,"div",7),t.j41(32,"div",6)(33,"p"),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"h3"),t.EFF(37),t.nI1(38,"translate"),t.k0s()()(),t.j41(39,"div",8)(40,"div",9)(41,"div",10)(42,"div",11)(43,"h4"),t.EFF(44),t.nI1(45,"translate"),t.k0s(),t.j41(46,"p"),t.EFF(47),t.nI1(48,"translate"),t.k0s()(),t.j41(49,"div",12)(50,"div",13)(51,"input",14,0),t.nI1(53,"translate"),t.bIt("keydown",function(l){return t.eBV(o),t.Njj(i.onKeyDown(l))}),t.mxI("ngModelChange",function(l){return t.eBV(o),t.DH7(i.keyword,l)||(i.keyword=l),t.Njj(l)}),t.k0s(),t.j41(54,"div",15),t.EFF(55," / "),t.k0s()()(),t.j41(56,"div",16),t.DNE(57,Pe,7,1,"div",17),t.nI1(58,"search"),t.k0s()(),t.j41(59,"div",10)(60,"div",11)(61,"h4"),t.EFF(62),t.nI1(63,"translate"),t.k0s(),t.j41(64,"p"),t.EFF(65),t.nI1(66,"translate"),t.k0s()(),t.j41(67,"div",12)(68,"div",13)(69,"input",14,1),t.nI1(71,"translate"),t.bIt("keydown",function(l){return t.eBV(o),t.Njj(i.onKeyDown(l))}),t.mxI("ngModelChange",function(l){return t.eBV(o),t.DH7(i.rightKeyword,l)||(i.rightKeyword=l),t.Njj(l)}),t.k0s(),t.j41(72,"div",15),t.EFF(73," Ctrl + / "),t.k0s()()(),t.j41(74,"div",16),t.DNE(75,Fe,7,1,"div",17),t.nI1(76,"search"),t.DNE(77,je,5,3,"div",18),t.k0s()()()()(),t.j41(78,"div",19)(79,"button",20),t.bIt("click",function(){return t.eBV(o),t.Njj(i.cancel())}),t.EFF(80),t.nI1(81,"translate"),t.k0s(),t.j41(82,"button",21),t.bIt("click",function(){return t.eBV(o),t.Njj(i.Next())}),t.EFF(83),t.nI1(84,"translate"),t.k0s()()}if(2&r){let o;t.R7$(2),t.JRh(i.editId?(null==(o=t.bMT(3,24,i.productsandbox.ProductUpdateDetails$))||null==o.data?null:o.data.name)+t.bMT(4,26,"common.edit"):t.bMT(5,28,"common.Create Product")),t.R7$(4),t.Y8G("ngIf",t.bMT(7,30,i.productsandbox.ProductUpdateDetails$)),t.R7$(6),t.JRh(t.bMT(13,32,"common.Current")),t.R7$(3),t.SpI("1. ",t.bMT(16,34,"common.Choose Categories"),""),t.R7$(4),t.JRh(t.bMT(20,36,"common.Yet to create")),t.R7$(3),t.SpI("2. ",t.bMT(23,38,"common.Product Details"),""),t.R7$(4),t.JRh(t.bMT(27,40,"common.Yet to create")),t.R7$(3),t.SpI("3. ",t.bMT(30,42,"common.Product Specification"),""),t.R7$(2),t.Y8G("ngIf",i.ProductSeo),t.R7$(3),t.JRh(t.bMT(35,44,"common.Yet to create")),t.R7$(3),t.SpI("5. ",t.bMT(38,46,"common.Pricing Setup"),""),t.R7$(7),t.JRh(t.bMT(45,48,"Catalog.product.AvailableCategories")),t.R7$(3),t.JRh(t.bMT(48,50,"Catalog.product.AvailableCategoriesDescription")),t.R7$(4),t.FS9("placeholder",t.bMT(53,52,"common.Search")),t.R50("ngModel",i.keyword),t.R7$(6),t.Y8G("ngForOf",t.brH(58,54,i.categoriesList,t.lJ4(72,at),i.keyword)),t.R7$(5),t.SpI("",t.bMT(63,58,"Catalog.product.SelectedCategories")," *"),t.R7$(3),t.JRh(t.bMT(66,60,"Catalog.product.SelectedCategoriesDescription")),t.R7$(4),t.FS9("placeholder",t.bMT(71,62,"common.Search")),t.R50("ngModel",i.rightKeyword),t.R7$(6),t.Y8G("ngForOf",t.brH(76,64,i.rightarrayList,t.lJ4(73,at),i.rightKeyword)),t.R7$(2),t.Y8G("ngIf",0==(null==i.rightarrayList?null:i.rightarrayList.length)),t.R7$(3),t.JRh(t.bMT(81,68,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(84,70,"common.Next"))}},dependencies:[m.Sq,m.bT,u.me,u.BC,x.B,u.vS,m.Jj,fe.R,y.D9]})}}return a})();var ot=d(1366),Te=d(3718),Re=d.n(Te),nt=d(2154);const Ee=["expandedVideoPlayer"],S=()=>["",null,void 0],A=a=>({active:a});function $e(a,s){if(1&a&&(t.qex(0),t.nrm(1,"img",14),t.bVm()),2&a){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrls+"?path="+(null==e.image?null:e.image.containerName)+"&name="+(null==e.image?null:e.image.image)+"&width=500&height=500",t.B4B)}}function Me(a,s){if(1&a&&t.nrm(0,"video",16,0),2&a){const e=t.XpG(2);t.Y8G("src",e.expandVideo,t.B4B)}}function Ve(a,s){if(1&a&&(t.qex(0),t.DNE(1,Me,2,1,"video",15),t.bVm()),2&a){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.expandVideo)}}function Ne(a,s){if(1&a){const e=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(e);const i=t.XpG(),o=i.$implicit,n=i.index,l=t.XpG();return t.Njj(l.imageactive(n,o))}),t.nrm(1,"img",12),t.k0s()}if(2&a){const e=t.XpG(),r=e.$implicit,i=e.index,o=t.XpG();t.Y8G("ngClass",t.eq3(3,A,t.lJ4(2,S).includes(o.primaryActice)&&i==o.index)),t.R7$(),t.Y8G("src",o.imageUrls+"?path="+(null==r?null:r.containerName)+"&name="+(null==r?null:r.image)+"&width=132&height=132",t.B4B)}}function xe(a,s){if(1&a&&(t.qex(0),t.DNE(1,Ne,2,5,"a",17),t.bVm()),2&a){const e=s.$implicit;t.R7$(),t.Y8G("ngIf",!t.lJ4(1,S).includes(null==e?null:e.image))}}function Oe(a,s){if(1&a){const e=t.RV6();t.j41(0,"video",22,1),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.expandVideosData(i.video))}),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("src",e.video,t.B4B)}}function Ge(a,s){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"div",18),t.DNE(2,Oe,2,1,"video",19),t.j41(3,"a",20),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.expandVideosData(i.video))}),t.nrm(4,"img",21),t.k0s()(),t.bVm()}if(2&a){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(3,A,e.videoPlay&&!t.lJ4(2,S).includes(e.primaryActice))),t.R7$(),t.Y8G("ngIf",e.video)}}let we=(()=>{class a{constructor(e,r){this.activeModal=e,this.changeref=r,this.primaryActice="active",this.videoPlay=!1,this.primaryImageView=!0}ngOnInit(){this.imageUrls=k.c.imageUrl,this.image=this.primaryImage[0]}imageactive(e,r){this.index=e,this.primaryActice="",this.image=r,this.videoPlay=!1,this.primaryImageView=!1,this.changeref.detectChanges(),this.imageGallery=this.imageGallery}PrimaryImageChange(){this.videoPlay=!1,this.primaryImageView=!0,this.primaryActice="active",this.image=this.primaryImage[0]}expandVideosData(e){this.videoPlay=!0,this.primaryImageView=!1,this.primaryActice="active",this.expandVideo=e,setTimeout(()=>{this.expandedVideoPlayer&&this.expandedVideoPlayer.nativeElement&&this.expandedVideoPlayer.nativeElement.play()},0)}dismiss(){this.activeModal.close()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(c.Lw),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-imagegallerymodal"]],viewQuery:function(r,i){if(1&r&&t.GBs(Ee,5),2&r){let o;t.mGM(o=t.lsd())&&(i.expandedVideoPlayer=o.first)}},decls:15,vars:12,consts:[["expandedVideoPlayer",""],["videoPlayer",""],[1,"modal-header"],[2,"text-transform","capitalize"],[1,"close-modal",3,"click"],["src","assets/imgs/close-modal.svg","alt",""],[1,"modal-body"],[1,"image-view-grid"],[1,"image-view-fullview"],[4,"ngIf"],[1,"image-view-sideview"],["href","javascript:void(0)",1,"image-view-col",3,"click","ngClass"],["alt","Product image",3,"src"],[4,"ngFor","ngForOf"],["alt","",3,"src"],["controls","","height","500",3,"src",4,"ngIf"],["controls","","height","500",3,"src"],["href","javascript:void(0)","class","image-view-col",3,"ngClass","click",4,"ngIf"],[1,"expand-video","image-view-col",3,"ngClass"],["height","150",3,"src","click",4,"ngIf"],["href","javascript:void(0)",1,"exapnd-video-image",3,"click"],["src","assets/imgs/play.svg"],["height","150",3,"click","src"]],template:function(r,i){1&r&&(t.j41(0,"div",2)(1,"h3",3),t.EFF(2),t.k0s(),t.j41(3,"button",4),t.bIt("click",function(){return i.dismiss()}),t.nrm(4,"img",5),t.k0s()(),t.j41(5,"div",6)(6,"div",7)(7,"div",8),t.DNE(8,$e,2,1,"ng-container",9)(9,Ve,2,1,"ng-container",9),t.k0s(),t.j41(10,"div",10)(11,"a",11),t.bIt("click",function(){return i.PrimaryImageChange()}),t.nrm(12,"img",12),t.k0s(),t.DNE(13,xe,2,2,"ng-container",13)(14,Ge,5,5,"ng-container",9),t.k0s()()()),2&r&&(t.R7$(2),t.JRh(i.productName),t.R7$(6),t.Y8G("ngIf",0==i.videoPlay),t.R7$(),t.Y8G("ngIf",!t.lJ4(7,S).includes(i.expandVideo)&&i.videoPlay),t.R7$(2),t.Y8G("ngClass",t.eq3(9,A,!t.lJ4(8,S).includes(i.primaryActice)&&i.primaryImageView)),t.R7$(),t.Y8G("src",i.imageUrls+"?path="+(null==i.primaryImage[0]?null:i.primaryImage[0].containerName)+"&name="+(null==i.primaryImage[0]?null:i.primaryImage[0].image)+"&width=300&height=300",t.B4B),t.R7$(),t.Y8G("ngForOf",i.imageGallery),t.R7$(),t.Y8G("ngIf",!t.lJ4(11,S).includes(i.video)))},dependencies:[m.YU,m.Sq,m.bT]})}}return a})();var st=d(7722),F=d(2102),C=d(5084),Y=d(9631),ct=d(5967),Le=d(3700);const Ue=a=>({"error-field":a}),lt=a=>({disabled:a}),Ae=a=>({error_image:a}),O=()=>["",null,void 0];function Ye(a,s){1&a&&(t.j41(0,"div",10)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,2,"common.Yet to create")),t.R7$(3),t.SpI("4. ",t.bMT(6,4,"common.Seo"),""))}function Be(a,s){1&a&&(t.j41(0,"div",46),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.ProductNameIsRequired")," "))}function Xe(a,s){1&a&&(t.j41(0,"div",46),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ValidationsErrorMessage.Mimimumlengthshouldbe10characters")," "))}function qe(a,s){1&a&&(t.j41(0,"div",46),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ValidationsErrorMessage.Onlyalphabetsnumbersspaceshyphensandunderscoresareallowed")," "))}function Je(a,s){1&a&&(t.j41(0,"div",47),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CommonContent.Productavailablefromisrequired")," "))}function He(a,s){1&a&&(t.j41(0,"div",47),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.SKUnumberisrequired")," "))}function ze(a,s){1&a&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"common.InventoryDescription")))}function Ke(a,s){1&a&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"CommonContent.inventory")))}function Qe(a,s){1&a&&(t.j41(0,"div",47),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Inventoryisrequired")," "))}function We(a,s){1&a&&(t.j41(0,"div",48),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Productdescriptionisrequired")," "))}function Ze(a,s){1&a&&(t.j41(0,"div",49),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.productHighlightserror")," "))}function ti(a,s){if(1&a&&(t.j41(0,"div",50),t.nrm(1,"img",51),t.j41(2,"p"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&a){const e=t.XpG(),r=t.sdS(134);t.R7$(),t.Y8G("src",e.assets/e.imgs/e.add-r.svg,t.B4B),t.R7$(2),t.JRh(t.bMT(4,2,"common.ImageRequired"))}}function ei(a,s){if(1&a&&(t.qex(0),t.nrm(1,"img",51),t.bVm()),2&a){const e=s.$implicit,r=t.XpG(2);t.R7$(),t.Y8G("src",r.imageUrls+"?path="+(null==e?null:e.containerName)+"&name="+(null==e?null:e.image)+"&width=400&height=400",t.B4B)}}function ii(a,s){if(1&a&&t.DNE(0,ei,2,1,"ng-container",52),2&a){const e=t.XpG();t.Y8G("ngForOf",e.primaryImgae)}}function ai(a,s){1&a&&(t.qex(0),t.nrm(1,"img",62),t.bVm())}function ri(a,s){if(1&a&&t.nrm(0,"img",51),2&a){const e=t.XpG().$implicit,r=t.XpG(2);t.Y8G("src",r.imageUrls+"?path="+e.containerName+"&name="+e.image+"&width=162&height=162",t.B4B)}}function oi(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",63)(1,"a",64),t.bIt("click",function(){t.eBV(e);const i=t.XpG(3);return t.Njj(i.openexpandimage())}),t.nrm(2,"img",65),t.k0s(),t.j41(3,"a",66),t.bIt("click",function(){t.eBV(e);const i=t.XpG(),o=i.$implicit,n=i.index,l=t.XpG(2);return t.Njj(l.imageremove(n,o))}),t.nrm(4,"img",67),t.k0s()()}}function ni(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",54)(1,"div",61),t.bIt("click",function(){const i=t.eBV(e).index,o=t.XpG(2);return t.Njj(o.uploadProductImages(i))}),t.k0s(),t.DNE(2,ai,2,0,"ng-container",28)(3,ri,1,1,"ng-template",null,4,t.C5r)(5,oi,5,0,"div",60),t.k0s()}if(2&a){const e=s.$implicit,r=t.sdS(4);t.R7$(2),t.Y8G("ngIf",t.lJ4(3,O).includes(null==e?null:e.image))("ngIfElse",r),t.R7$(3),t.Y8G("ngIf",!t.lJ4(4,O).includes(null==e?null:e.image))}}function si(a,s){1&a&&(t.j41(0,"div",68),t.nrm(1,"app-loader"),t.k0s())}function ci(a,s){1&a&&t.nrm(0,"img",69)}function li(a,s){1&a&&(t.j41(0,"div",70),t.nrm(1,"img",71),t.k0s())}function di(a,s){if(1&a&&t.nrm(0,"video",72,5),2&a){const e=t.XpG(2);t.Y8G("src",e.videourl,t.B4B)}}function ui(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",63)(1,"a",64),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.openexpandimage())}),t.nrm(2,"img",65),t.k0s(),t.j41(3,"a",66),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.videoRemove(i.i))}),t.nrm(4,"img",67),t.k0s()()}}function pi(a,s){if(1&a){const e=t.RV6();t.qex(0),t.DNE(1,ni,6,5,"div",53),t.j41(2,"div",54),t.DNE(3,si,2,0,"div",55),t.nI1(4,"async"),t.j41(5,"input",56),t.bIt("click",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.clearFileInput(i))})("change",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.uploadVideo(i))}),t.k0s(),t.DNE(6,ci,1,0,"img",57),t.nI1(7,"async"),t.DNE(8,li,2,0,"div",58)(9,di,2,1,"video",59)(10,ui,5,0,"div",60),t.k0s(),t.bVm()}if(2&a){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.uploadImage),t.R7$(2),t.Y8G("ngIf",t.bMT(4,6,e.productsandbox.ProductVideoUploadLoading$)),t.R7$(3),t.Y8G("ngIf",!e.videourl&&!t.bMT(7,8,e.productsandbox.ProductVideoUploadLoading$)),t.R7$(2),t.Y8G("ngIf",!t.lJ4(10,O).includes(e.videourl)),t.R7$(),t.Y8G("ngIf",e.videourl),t.R7$(),t.Y8G("ngIf",!t.lJ4(11,O).includes(e.videourl))}}let dt=(()=>{class a{constructor(e,r,i,o,n,l,g,h,I,q,J,H){this.formBuilder=e,this.productServices=r,this.dataService=i,this.titleService=o,this.ref=n,this.popup=l,this.modalService=g,this.route=h,this.router=I,this.productsandbox=q,this.toster=J,this.configService=H,this.subscriptions=new _.yU,this.submit=!1,this.uploadImage=[],this.dummyImage=[],this.primaryImgae=[],this.ProductSeo=v.rh.length>0,this.editor=Re(),this.paramsValue={},this.titleService.setTitle("Products"),this.config=this.configService.getEditorConfig()}ngOnInit(){this.editId=this.router.snapshot.params.id,this.refreshStatus=this.dataService.getObjPageRefresh(),0==this.refreshStatus&&(["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/categories"]):this.route.navigate(["/new-catalog/products/categories",this.editId],{})),this.formFields(),this.imageUrls=k.c.imageUrl,this.imagebinding();const e=r=>0===Object.entries(r).length;"productDetailprevbutton"==this.dataService.getrproductDetailsPagePrev()?(this.getDatasss(),["",null,void 0].includes(this.editId)||(this.productsandbox.ProductUpdateDetails(this.editId),this.subscriptions.add(this.productsandbox.ProductUpdateDetails$.subscribe(r=>{1==r?.status&&r?.data&&(this.editDetails=r?.data)})))):"productDetailsname"==this.dataService.getrproductDetailsPagePrev()?["",null,void 0].includes(this.editId)?(this.minDate=new Date,this.getDatasss()):0==e(this.dataService.getDataProductDetails())?(this.getDatasss(),this.subscriptions.add(this.productsandbox.ProductUpdateDetails$.subscribe(i=>{1==i?.status&&i?.data&&(this.editDetails=i?.data)}))):this.updateDetailsGetApi():1==e(this.dataService.getrproductDetailsPagePrev())&&(["",null,void 0].includes(this.editId)||this.updateDetailsGetApi()),this.routeSubscribe()}routeSubscribe(){this.router.queryParams.subscribe(e=>{this.paramsValue=e})}ulpoadAdapterDrop(e){e.plugins.get("FileRepository").createUploadAdapter=(r,i)=>new nt.A(r,i)}imagebinding(){let e=[];for(let r=0;r<9;r++)e.push({});this.uploadImage=e}decodeHtml(e){const r=document.createElement("textarea");return r.innerHTML=e,r.value.replace(/<\/?[^>]+(>|$)/g,"")}updateDetailsGetApi(){this.productsandbox.ProductUpdateDetails(this.editId),this.subscriptions.add(this.productsandbox.ProductUpdateDetails$.subscribe(e=>{if(1==e?.status&&e?.data){if(this.editDetails=e?.data,this.minDate=e?.data?.dateAvailable,this.ref.detectChanges(),this.myForm.controls.productName.setValue(e?.data?.name),this.myForm.controls.skuNumber.setValue(e?.data?.sku),this.myForm.controls.inventory.setValue(e?.data?.quantity),this.myForm.controls.fromDateValid.setValue(e?.data?.dateAvailable),["",null,void 0].includes(e?.data?.description)||this.myForm.controls.productDescription.setValue(this.htmlTagConversion(e?.data?.description)),!["",null,void 0].includes(e?.data?.productHighlights[0]?.data)){const n=e?.data?.productHighlights.map(l=>l.data).join("");this.myForm.controls.productHighlights.setValue(this.htmlTagConversion(n))}if(["",null,void 0].includes(e?.data?.productVideo?.path))this.videourl="";else{let n={name:e?.data?.productVideo.name,path:e?.data?.productVideo.path};this.videodetails={image:e?.data?.productVideo.name,path:e?.data?.productVideo.path},this.productServices.videoView(n),this.productServices.videoView(n).subscribe(g=>{if(g){const h=new FileReader;h.onload=I=>{this.videourl=I.target.result},h.readAsDataURL(g)}})}this.imagebinding(),this.dummyImage=e?.data?.productImage;let r=e?.data?.productImage,i=r.filter(n=>1!=n?.defaultImage);r.filter(n=>1==n?.defaultImage).forEach(n=>{"create"!=n.status&&(this.primaryImgae[0]=n)}),this.dummyImage&&i.forEach((n,l)=>{"create"!=n.status&&(this.uploadImage[l]=n)})}}))}getDatasss(){let e=this.dataService.getDataProductDetails();if(this.myForm.controls.productName.setValue(e?.productName),this.myForm.controls.skuNumber.setValue(e?.skuNumber),this.myForm.controls.inventory.setValue(e?.inventory),this.myForm.controls.fromDateValid.setValue(e?.fromDateValid),this.myForm.controls.productDescription.setValue(e?.productDescription),this.myForm.controls.productHighlights.setValue(e?.productHighlights),this.videodetails={image:e?.videoDetails?.image,path:e?.videoDetails?.path},e?.image){this.dummyImage=e?.dummyImage;let i=e?.dummyImage,o=i.filter(l=>1!=l?.defaultImage);i.filter(l=>1==l?.defaultImage).forEach(l=>{this.primaryImgae[0]=l}),this.dummyImage&&o.forEach((l,g)=>{this.uploadImage[g]=l})}e?.video&&(this.videourl=e?.video)}formFields(){this.myForm=this.formBuilder.group({productName:["",[u.k0.required]],skuNumber:["",u.k0.required],inventory:["",[u.k0.required,u.k0.maxLength(7)]],productDescription:["",[u.k0.required]],productHighlights:["",[u.k0.required]],fromDateValid:[null,[u.k0.required]]})}imageremove(e,r){this.uploadImage[e]={},this.dummyImage.forEach((i,o)=>{i.image==r.image&&this.dummyImage.splice(o,1)})}uploadimageprimary(){const e=this.popup.open(ot.q,{backdrop:"static",keyboard:!1,size:"lg",windowClass:"image-manager"});e.componentInstance.imageLimit=9,e.result.then(r=>{r&&r.length>0&&r.forEach(o=>{if(o)if(o.defaultImage=1,o.status="create",this.primaryImgae[0]=o,this.imageError="",["",null,void 0].includes(this.editId))this.dummyImage.forEach((n,l)=>{1==n.defaultImage&&(this.dummyImage[l]=o)});else if(-1==this.dummyImage.findIndex(n=>1==n.defaultImage))this.dummyImage[0]=o;else{let n=this.dummyImage.findIndex(l=>1==l.defaultImage);this.dummyImage[n]=o}})})}convertToBase64(e,r){const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{const o=i.result;this.productsandbox.ProductVideoUpload(r),this.subscriptions.add(this.productsandbox.ProductVideoUploadFailed$.subscribe(n=>{n&&(this.videourl="",this.toster.error("Not Able To Update as The File Size Is Too Large."))})),this.subscriptions.add(this.productsandbox.ProductVideoUpload$.subscribe(n=>{1==n?.status&&(this.videodetails={image:n.data.image,path:n.data.path},this.videourl=o)}))},i.onerror=o=>{}}clearFileInput(e){e.target.value=""}uploadVideo(e){let r=e.target.files[0]?.type.split("/")[1];if(Math.round(e.target.files[0].size/1024)>k.c?.videoUpload)return void this.toster.error("Please video image below 4MB");const o=e.target.files[0];if(o&&["mp4","x-msvideo","avi"].includes(r)){const n={};n.file=e.target.files[0].name,n.path="";const l=new FormData;l.append("file",e.target.files[0],e.target.files[0].name),this.convertToBase64(o,l)}else this.toster.error("Please upload valid video file")}uploadProductImages(e){const r=this.popup.open(ot.q,{backdrop:"static",keyboard:!1,size:"xl",windowClass:"image-manager"});r.componentInstance.imageLimit=this.dummyImage.length,r.result.then(i=>{i&&i.length>0&&i.forEach(n=>{n.status="create",n&&(n.defaultImage=0,this.dummyImage.push(n),this.dummyImage.filter(g=>1!=g.defaultImage).forEach((g,h)=>{this.uploadImage[h]=g}))})})}imageupload(e){let i=e.target.files[0].type.split("/")[1];["png","jpeg","jpg","svg","svg+xml"].includes(i)}videoRemove(){this.videourl=null,this.videodetails={}}setData(e){var r=e;r.image=this.uploadImage,r.dummyImage=this.dummyImage,r.video=this.videourl,r.videoDetails=this.videodetails,this.dataService.setDataProductDetails(r)}prev(){["",null,void 0].includes(this.editId)?(this.dataService.setDataproductDetailsPagePrev("productDetailsname"),this.route.navigate(["/new-catalog/products/categories"],{queryParams:this.paramsValue})):(this.dataService.setDataproductDetailsPagePrev("productDetailsname"),this.route.navigate(["/new-catalog/products/categories",this.editId],{queryParams:this.paramsValue}))}onSubmit(){this.submit=!0,0==this.primaryImgae?.length&&(this.imageError="Please upload  image"),this.myForm.valid&&(this.primaryImgae?.length>0?(this.primaryImgae?.length>0&&["",null,void 0].includes(this.editId)&&this.dummyImage.push(this.primaryImgae[0]),this.setData(this.myForm.value),["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/specification"],{queryParams:this.paramsValue}):this.route.navigate(["/new-catalog/products/specification",this.editId,this.editDetails?.name],{queryParams:this.paramsValue})):this.imageError="Please upload  image")}resetServices(){this.dataService.setData([]),this.dataService.setDatacategoriesRightArray({}),this.dataService.setDatacategoriesLeftArray({}),this.dataService.setDataproductDetailsPagePrev({}),this.dataService.setDataProductDetails({}),this.dataService.setPricingDetails({}),this.dataService.setDataProductSeo({})}cancel(){this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue})}htmlTagConversion(e){let r=e.replace(/&amp;amp;/g,"&").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&sbquo;/g,"\u201a").replace(/&#61;/g,"=").replace(/&#45;/g,"-").replace(/&hellip;/g,"\u2026").replace(/&commat;/g,"@").replace(/&copy;/g,"\xa9").replace(/&#35;/g,"#").replace(/&ldquo;/g,"\u201c").replace(/&rsquo;/g,"\u2019").replace(/&lsquo;/g,"\u2018").replace(/&trade;/g,"\u2122").replace(/&reg;/g,"\xae").replace(/&ndash;/g,"\u2013").replace(/&eacute;/g,"\xe9").replace(/&euro;/g,"\u20ac").replace(/&pound;/g,"\xa3").replace(/&nbsp;/g," ").replace(/&hyphen;/g,"\u2010");return r=r.replace(/[\u200B-\u200D\uFEFF]/g,""),r=r.replace(/[\r\n]+/g," "),r=r.trim(),r}ngOnDestroy(){this.subscriptions.unsubscribe()}openexpandimage(){const e=this.modalService.open(we,{size:"sm",windowClass:"imageviewerModal",backdrop:"static",backdropClass:"createcr",modalDialogClass:"modal-dialog-centered"});e.componentInstance.imageGallery=this.uploadImage,e.componentInstance.primaryImage=this.primaryImgae,e.componentInstance.productName=this.myForm.value.productName,e.componentInstance.video=this.videourl}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(u.ze),t.rXU(st.H),t.rXU(V.u),t.rXU(L.hE),t.rXU(t.gRc),t.rXU(c.Bq),t.rXU(c.Bq),t.rXU(f.Ix),t.rXU(f.nX),t.rXU($.R),t.rXU(M.tw),t.rXU(nt.w))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-product-details"]],decls:146,vars:123,consts:[["productInput",""],["dp1",""],["otherContent",""],["image",""],["nn",""],["videoPlayer",""],[1,"product-add-container"],[1,"product-add-nav"],[1,"product-add-nav-col","completed"],[1,"product-add-nav-col","current"],[1,"product-add-nav-col"],["class","product-add-nav-col",4,"ngIf"],[1,"product-add-section"],[1,"inner-heading"],[3,"ngSubmit","formGroup"],[1,"details-row2"],[1,"input-group","mb-35"],[1,"ig-row"],["type","text","maxlength","140","formControlName","productName","appNospace","",3,"placeholder","ngClass"],[1,"text-count"],["class","error","style","position: absolute;bottom: 0;color: red;font-size: 13px;",4,"ngIf"],[1,"ig-row",2,"bottom","20px !important"],[1,"floating-date"],["matInput","","formControlName","fromDateValid","readonly","",3,"matDatepicker"],["matSuffix","",3,"for"],["class","error","style","position: absolute;top: 100%;color: red;font-size: 13px;",4,"ngIf"],[1,"input-group","mb-35",3,"ngClass"],["type","text","formControlName","skuNumber","appNospace","","placeholder","Enter SKU Number"],[4,"ngIf","ngIfElse"],["type","text","appNumberOnlyAllowed","","formControlName","inventory","appNospace","","placeholder","Enter Inventory","maxlength","6"],[1,"input-group","mb-4"],["formControlName","productDescription","placeholder","common.Product Description",3,"ready","editor","config"],["class","error","style","position: absolute;bottom: -23px;color: red;font-size: 13px;",4,"ngIf"],["formControlName","productHighlights",3,"ready","editor","config"],["class","error","style","position: absolute;bottom: -21px;color: red;font-size: 13px;",4,"ngIf"],[1,"input-group"],[1,"photo-video-section",2,"cursor","pointer"],[1,"photo-video-col","grid-center","position-relative",3,"click","ngClass"],["type","text","accept",".png,.jpeg,jpg,svg,.mp4",1,"position-absolute","opacity-0","inset-0","h-100","w-100","cursor-pointer",2,"cursor","pointer"],[1,"set-primary"],["class","product-category-list-empty",4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"product-save-btn"],[1,"cancel",3,"click"],[1,"prev",3,"click"],[1,"save",3,"click"],[1,"error",2,"position","absolute","bottom","0","color","red","font-size","13px"],[1,"error",2,"position","absolute","top","100%","color","red","font-size","13px"],[1,"error",2,"position","absolute","bottom","-23px","color","red","font-size","13px"],[1,"error",2,"position","absolute","bottom","-21px","color","red","font-size","13px"],[1,"product-category-list-empty"],["alt","",3,"src"],[4,"ngFor","ngForOf"],["class","photo-video-col grid-center",4,"ngFor","ngForOf"],[1,"photo-video-col","grid-center"],["class","loading",4,"ngIf"],["type","file","accept",".mp4",1,"position-absolute","opacity-0","inset-0","h-100","w-100","cursor-pointer",2,"cursor","pointer",3,"click","change"],["src","assets/imgs/add-video.svg","alt","",4,"ngIf"],["class","video-ico",4,"ngIf"],["height","150",3,"src",4,"ngIf"],["class","photo-video-hover",4,"ngIf"],[2,"position","absolute","inset","0","width","100%","height","100%",3,"click"],["src","assets/imgs/add-image.svg","alt",""],[1,"photo-video-hover"],["href","javascript:void(0)",1,"image-expand",3,"click"],["src","assets/imgs/expand.svg","alt",""],["href","javascript:void(0)",3,"click"],["src","assets/imgs/trash-new.svg","alt",""],[1,"loading"],["src","assets/imgs/add-video.svg","alt",""],[1,"video-ico"],["src","assets/imgs/play.svg","alt",""],["height","150",3,"src"]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"header")(1,"h1"),t.EFF(2),t.nI1(3,"translate"),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"div",6)(6,"div",7)(7,"div",8)(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"h3"),t.EFF(12),t.nI1(13,"translate"),t.k0s()(),t.j41(14,"div",9)(15,"p"),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"h3"),t.EFF(19),t.nI1(20,"translate"),t.k0s()(),t.j41(21,"div",10)(22,"p"),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"h3"),t.EFF(26),t.nI1(27,"translate"),t.k0s()(),t.DNE(28,Ye,7,6,"div",11),t.j41(29,"div",10)(30,"p"),t.EFF(31),t.nI1(32,"translate"),t.k0s(),t.j41(33,"h3"),t.EFF(34),t.nI1(35,"translate"),t.k0s()()(),t.j41(36,"div",12)(37,"div",13)(38,"h3"),t.EFF(39),t.nI1(40,"translate"),t.k0s(),t.j41(41,"p"),t.EFF(42),t.nI1(43,"translate"),t.k0s()(),t.j41(44,"form",14),t.bIt("ngSubmit",function(){return t.eBV(o),t.Njj(i.onSubmit())}),t.j41(45,"div",15)(46,"div",16)(47,"label"),t.EFF(48),t.nI1(49,"translate"),t.j41(50,"p"),t.EFF(51),t.nI1(52,"translate"),t.k0s()(),t.j41(53,"div",17),t.nrm(54,"input",18,0),t.nI1(56,"translate"),t.j41(57,"div",19)(58,"span"),t.EFF(59),t.k0s()()(),t.DNE(60,Be,3,3,"div",20)(61,Xe,3,3,"div",20)(62,qe,3,3,"div",20),t.k0s(),t.j41(63,"div",16)(64,"label"),t.EFF(65),t.nI1(66,"translate"),t.j41(67,"p"),t.EFF(68),t.nI1(69,"translate"),t.k0s()(),t.j41(70,"div",21)(71,"mat-form-field",22),t.nrm(72,"input",23)(73,"mat-datepicker-toggle",24)(74,"mat-datepicker",null,1)(76,"mat-error"),t.k0s(),t.DNE(77,Je,3,3,"div",25),t.k0s()()(),t.j41(78,"div",15)(79,"div",26)(80,"label"),t.EFF(81),t.nI1(82,"translate"),t.j41(83,"p"),t.EFF(84),t.nI1(85,"translate"),t.k0s()(),t.j41(86,"div",17),t.nrm(87,"input",27),t.k0s(),t.DNE(88,He,3,3,"div",25),t.k0s(),t.j41(89,"div",26)(90,"label"),t.EFF(91),t.nI1(92,"translate"),t.DNE(93,ze,3,3,"p",28)(94,Ke,3,3,"ng-template",null,2,t.C5r),t.k0s(),t.j41(96,"div",17),t.nrm(97,"input",29),t.k0s(),t.DNE(98,Qe,3,3,"div",25),t.k0s()(),t.j41(99,"div",30)(100,"label"),t.EFF(101),t.nI1(102,"translate"),t.j41(103,"p"),t.EFF(104),t.nI1(105,"translate"),t.k0s()(),t.j41(106,"div",17)(107,"ckeditor",31),t.bIt("ready",function(l){return t.eBV(o),t.Njj(i.ulpoadAdapterDrop(l))}),t.k0s()(),t.DNE(108,We,3,3,"div",32),t.k0s(),t.j41(109,"div",30)(110,"label"),t.EFF(111),t.nI1(112,"translate"),t.j41(113,"p"),t.EFF(114),t.nI1(115,"translate"),t.k0s()(),t.j41(116,"div",17)(117,"ckeditor",33),t.bIt("ready",function(l){return t.eBV(o),t.Njj(i.ulpoadAdapterDrop(l))}),t.k0s()(),t.DNE(118,Ze,3,3,"div",34),t.k0s()(),t.j41(119,"div",35)(120,"label"),t.EFF(121),t.nI1(122,"translate"),t.j41(123,"p"),t.EFF(124),t.nI1(125,"translate"),t.k0s()(),t.j41(126,"div",36)(127,"div",37),t.bIt("click",function(){return t.eBV(o),t.Njj(i.uploadimageprimary())}),t.nrm(128,"input",38),t.j41(129,"span",39),t.EFF(130),t.nI1(131,"translate"),t.k0s(),t.DNE(132,ti,5,4,"div",40)(133,ii,1,1,"ng-template",null,3,t.C5r),t.k0s(),t.DNE(135,pi,11,12,"ng-container",41),t.k0s()()()(),t.j41(136,"div",42)(137,"button",43),t.bIt("click",function(){return t.eBV(o),t.Njj(i.cancel())}),t.EFF(138),t.nI1(139,"translate"),t.k0s(),t.j41(140,"button",44),t.bIt("click",function(){return t.eBV(o),t.Njj(i.prev())}),t.EFF(141),t.nI1(142,"translate"),t.k0s(),t.j41(143,"button",45),t.bIt("click",function(){return t.eBV(o),t.Njj(i.onSubmit())}),t.EFF(144),t.nI1(145,"translate"),t.k0s()()}if(2&r){const o=t.sdS(55),n=t.sdS(75),l=t.sdS(95),g=t.sdS(134);t.R7$(2),t.JRh(i.editId?(null==i.editDetails?null:i.editDetails.name)+t.bMT(3,55,"common.edit"):t.bMT(4,57,"common.Create Product")),t.R7$(7),t.JRh(t.bMT(10,59,"common.Completed")),t.R7$(3),t.SpI("1. ",t.bMT(13,61,"common.Choose Categories"),""),t.R7$(4),t.JRh(t.bMT(17,63,"common.Current")),t.R7$(3),t.SpI("2. ",t.bMT(20,65,"common.Product Details"),""),t.R7$(4),t.JRh(t.bMT(24,67,"common.Yet to create")),t.R7$(3),t.SpI("3. ",t.bMT(27,69,"common.Product Specification"),""),t.R7$(2),t.Y8G("ngIf",1==i.ProductSeo),t.R7$(3),t.JRh(t.bMT(32,71,"common.Yet to create")),t.R7$(3),t.SpI("5. ",t.bMT(35,73,"common.Pricing Setup"),""),t.R7$(5),t.JRh(t.bMT(40,75,"common.PRODUCT DETAILS")),t.R7$(3),t.JRh(t.bMT(43,77,"common.ProductDetailsContent")),t.R7$(2),t.Y8G("formGroup",i.myForm),t.R7$(4),t.SpI(" ",t.bMT(49,79,"common.Product Name")," * "),t.R7$(3),t.JRh(t.bMT(52,81,"common.ProductNameLabel")),t.R7$(3),t.FS9("placeholder",t.bMT(56,83,"common.Enter Product Name")),t.Y8G("ngClass",t.eq3(115,Ue,i.myForm.controls.productName.hasError("required")||0==i.myForm.value.productPrice&&!i.myForm.controls.productName.hasError("required"))),t.R7$(5),t.SpI("",null==o||null==o.value?null:o.value.length,"/140"),t.R7$(),t.Y8G("ngIf",i.myForm.controls.productName.hasError("required")&&1==i.submit),t.R7$(),t.Y8G("ngIf",i.myForm.get("productName").hasError("minlength")),t.R7$(),t.Y8G("ngIf",i.myForm.controls.productName.hasError("pattern")),t.R7$(3),t.SpI(" ",t.bMT(66,85,"CommonContent.Product Available From")," * "),t.R7$(3),t.SpI(" ",t.bMT(69,87,"CommonContent.dateProduct"),""),t.R7$(4),t.Y8G("matDatepicker",n),t.R7$(),t.Y8G("for",n),t.R7$(4),t.Y8G("ngIf",i.myForm.controls.fromDateValid.hasError("required")&&1==i.submit),t.R7$(2),t.Y8G("ngClass",t.eq3(117,lt,0==(null==i.editDetails?null:i.editDetails.isSimplified))),t.R7$(2),t.SpI(" ",t.bMT(82,89,"common.SKUNumber")," * "),t.R7$(3),t.JRh(t.bMT(85,91,"common.SKUDescription")),t.R7$(4),t.Y8G("ngIf",i.myForm.controls.skuNumber.hasError("required")&&1==i.submit),t.R7$(),t.Y8G("ngClass",t.eq3(119,lt,0==(null==i.editDetails?null:i.editDetails.isSimplified))),t.R7$(2),t.SpI(" ",t.bMT(92,93,"common.Inventory")," * "),t.R7$(2),t.Y8G("ngIf",0!==(null==i.editDetails?null:i.editDetails.isSimplified))("ngIfElse",l),t.R7$(5),t.Y8G("ngIf",i.myForm.controls.inventory.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(102,95,"common.Product Description")," * "),t.R7$(3),t.JRh(t.bMT(105,97,"common.ProductDescriptionLabe")),t.R7$(3),t.Y8G("editor",i.editor)("config",i.config),t.R7$(),t.Y8G("ngIf",i.myForm.controls.productDescription.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(112,99,"common.productHighlights")," * "),t.R7$(3),t.JRh(t.bMT(115,101,"common.ProductDescriptionLabe")),t.R7$(3),t.Y8G("editor",i.editor)("config",i.config),t.R7$(),t.Y8G("ngIf",i.myForm.controls.productHighlights.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(122,103,"common.Photos & Video")," * "),t.R7$(3),t.JRh(t.bMT(125,105,"common.P&V-Description")),t.R7$(3),t.Y8G("ngClass",t.eq3(121,Ae,(null==i.imageError?null:i.imageError.length)>0)),t.R7$(3),t.JRh(t.bMT(131,107,"common.Primary")),t.R7$(2),t.Y8G("ngIf",0==i.primaryImgae.length)("ngIfElse",g),t.R7$(3),t.Y8G("ngIf",i.uploadImage.length>0),t.R7$(3),t.JRh(t.bMT(139,109,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(142,111,"common.Previous")),t.R7$(3),t.JRh(t.bMT(145,113,"common.Next"))}},dependencies:[m.YU,m.Sq,m.bT,u.qT,u.me,u.BC,u.cb,u.tU,u.j4,u.JD,F.rl,F.TL,F.yw,C.Vh,C.bZ,C.bU,et.V,Y.fg,x.B,ct.h,Le.d,m.Jj,y.D9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.error_image[_ngcontent-%COMP%]{border:1px solid red}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;position:absolute;align-items:center;width:32px;height:32px;margin:auto;top:34px;left:50px;z-index:5}"]})}}return a})();function mi(a,s){1&a&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Catalog.common.Priorityisrequired")," "))}function gi(a,s){1&a&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Catalog.common.Priceisrequired")," "))}function hi(a,s){if(1&a&&(t.j41(0,"div",19),t.EFF(1),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorMessage," ")}}function fi(a,s){1&a&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Catalog.common.Date Start is required")," "))}function bi(a,s){1&a&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Catalog.common.Date End is required")," "))}let B=(()=>{class a{constructor(e,r,i){this.activeModal=e,this.modalService=r,this.formBuilder=i,this.submit=!1,this.errorMessage="",this.MinDate=new Date}formDiscountPrice(){this.formgroup=this.formBuilder.group({Priority:["",u.k0.required],Price:["",u.k0.required],DateStart:["",u.k0.required],DateEnd:["",u.k0.required]})}ngOnInit(){this.formDiscountPrice(),"SpecialPrice"==this.ActionName?(this.formgroup.controls.Priority.setValue(this.editValue?.specialPriority),this.formgroup.controls.Price.setValue(this.editValue?.specialPrice),this.formgroup.controls.DateStart.setValue(this.editValue?.specialDateStart),this.formgroup.controls.DateEnd.setValue(this.editValue?.specialDateEnd)):(this.formgroup.controls.Priority.setValue(this.editValue?.discountPriority),this.formgroup.controls.Price.setValue(this.editValue?.discountPrice),this.formgroup.controls.DateStart.setValue(this.editValue?.discountDateStart),this.formgroup.controls.DateEnd.setValue(this.editValue?.discountDateEnd)),this.MinDate=new Date,this.EndMinDate=this.editValue?.discountDateStart}dismiss(){this.activeModal.close()}save(){this.submit=!0,"VALID"==this.formgroup.status&&""==this.errorMessage&&this.activeModal.close({type:"success",formgroup:this.formgroup,ActionName:this.ActionName})}onDateChange(e){this.EndMinDate=e.value}pricechange(e){this.errorMessage=+this.getdata.price<=+e.target.value?"Price should be less than Product cost":""}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(c.Lw),t.rXU(c.Bq),t.rXU(u.ze))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-assign-discount-price"]],decls:79,vars:58,consts:[["dp1",""],["dp2",""],[1,"modal-heading"],[1,"modal-body"],[1,"sku-code"],[3,"formGroup"],[1,"details-row2"],[1,"input-group"],[1,"ig-row"],["type","number","formControlName","Priority","min","1","appNospace","",3,"placeholder"],["class","error","style","position: absolute;top: 100%;color: red;font-size: 13px;",4,"ngIf"],["type","number","formControlName","Price","appNospace","",3,"input","placeholder"],[1,"floating-date"],["matInput","","formControlName","DateStart",3,"dateChange","matDatepicker","min"],["matSuffix","",3,"for"],["matInput","","formControlName","DateEnd",3,"matDatepicker","min"],[1,"product-save-btn","modal-save-btn"],[1,"cancel",3,"click"],[1,"save",3,"click"],[1,"error",2,"position","absolute","top","100%","color","red","font-size","13px"]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"div",2)(1,"h3"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"p"),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"div",3)(8,"div",4),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"form",5)(12,"div",6)(13,"div",7)(14,"label"),t.EFF(15),t.nI1(16,"translate"),t.j41(17,"sup"),t.EFF(18,"*"),t.k0s(),t.j41(19,"p"),t.EFF(20),t.nI1(21,"translate"),t.k0s()(),t.j41(22,"div",8),t.nrm(23,"input",9),t.nI1(24,"translate"),t.k0s(),t.DNE(25,mi,3,3,"div",10),t.k0s(),t.j41(26,"div",7)(27,"label"),t.EFF(28),t.nI1(29,"translate"),t.j41(30,"sup"),t.EFF(31,"*"),t.k0s(),t.j41(32,"p"),t.EFF(33),t.nI1(34,"translate"),t.k0s()(),t.j41(35,"div",8)(36,"input",11),t.nI1(37,"translate"),t.bIt("input",function(l){return t.eBV(o),t.Njj(i.pricechange(l))}),t.k0s()(),t.DNE(38,gi,3,3,"div",10)(39,hi,2,1,"div",10),t.k0s(),t.j41(40,"div",7)(41,"label"),t.EFF(42),t.nI1(43,"translate"),t.j41(44,"sup"),t.EFF(45,"*"),t.k0s(),t.j41(46,"p"),t.EFF(47),t.nI1(48,"translate"),t.k0s()(),t.j41(49,"div",8)(50,"mat-form-field",12)(51,"input",13),t.bIt("dateChange",function(l){return t.eBV(o),t.Njj(i.onDateChange(l))}),t.k0s(),t.nrm(52,"mat-datepicker-toggle",14)(53,"mat-datepicker",null,0),t.k0s()(),t.DNE(55,fi,3,3,"div",10),t.k0s(),t.j41(56,"div",7)(57,"label"),t.EFF(58),t.nI1(59,"translate"),t.j41(60,"sup"),t.EFF(61,"*"),t.k0s(),t.j41(62,"p"),t.EFF(63),t.nI1(64,"translate"),t.k0s()(),t.j41(65,"div",8)(66,"mat-form-field",12),t.nrm(67,"input",15)(68,"mat-datepicker-toggle",14)(69,"mat-datepicker",null,1),t.k0s()(),t.DNE(71,bi,3,3,"div",10),t.k0s()()()(),t.j41(72,"div",16)(73,"button",17),t.bIt("click",function(){return t.eBV(o),t.Njj(i.dismiss())}),t.EFF(74),t.nI1(75,"translate"),t.k0s(),t.j41(76,"button",18),t.bIt("click",function(){return t.eBV(o),t.Njj(i.save())}),t.EFF(77),t.nI1(78,"translate"),t.k0s()()}if(2&r){const o=t.sdS(54),n=t.sdS(70);t.R7$(2),t.JRh(t.bMT(3,28,"Catalog.common.Assign Discount Price")),t.R7$(3),t.JRh(t.bMT(6,30,"Catalog.common.AssignDiscountDescription")),t.R7$(4),t.Lme("",t.bMT(10,32,"Catalog.common.SKU")," : ",null==i.getdata?null:i.getdata.sku,""),t.R7$(2),t.Y8G("formGroup",i.formgroup),t.R7$(4),t.SpI(" ",t.bMT(16,34,"Catalog.common.Priority")," "),t.R7$(5),t.JRh(t.bMT(21,36,"Catalog.common.PriorityDescription")),t.R7$(3),t.FS9("placeholder",t.bMT(24,38,"Catalog.common.EnterPriority")),t.R7$(2),t.Y8G("ngIf",i.formgroup.controls.Priority.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(29,40,"Catalog.common.Price")," "),t.R7$(5),t.JRh(t.bMT(34,42,"Catalog.common.PriceDescription")),t.R7$(3),t.FS9("placeholder",t.bMT(37,44,"Catalog.common.EnterPrice")),t.R7$(2),t.Y8G("ngIf",i.formgroup.controls.Price.hasError("required")&&1==i.submit),t.R7$(),t.Y8G("ngIf",i.errorMessage),t.R7$(3),t.SpI(" ",t.bMT(43,46,"Catalog.common.DateStart")," "),t.R7$(5),t.JRh(t.bMT(48,48,"Catalog.common.StartDateDescription")),t.R7$(4),t.Y8G("matDatepicker",o)("min",i.MinDate),t.R7$(),t.Y8G("for",o),t.R7$(3),t.Y8G("ngIf",i.formgroup.controls.DateStart.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(59,50,"Catalog.common.DateEnd")," "),t.R7$(5),t.JRh(t.bMT(64,52,"Catalog.common.EndDateDescription")),t.R7$(4),t.Y8G("matDatepicker",n)("min",i.EndMinDate),t.R7$(),t.Y8G("for",n),t.R7$(3),t.Y8G("ngIf",i.formgroup.controls.DateEnd.hasError("required")&&1==i.submit),t.R7$(3),t.JRh(t.bMT(75,54,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(78,56,"common.Save"))}},dependencies:[m.bT,u.qT,u.me,u.Q0,u.BC,u.cb,u.VZ,u.j4,u.JD,F.rl,F.yw,C.Vh,C.bZ,C.bU,Y.fg,x.B,y.D9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]})}}return a})();const X=a=>({removeHandSymbol:a}),_i=a=>({"error-field":a}),vi=()=>({standalone:!0});function Ii(a,s){1&a&&(t.j41(0,"div",3)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"h3"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,2,"common.Completed")),t.R7$(3),t.SpI("4. ",t.bMT(6,4,"common.Seo"),""))}function yi(a,s){1&a&&(t.j41(0,"div",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Productcostisrequired")," "))}function Ci(a,s){1&a&&(t.j41(0,"div",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Tax is required")," "))}function ki(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",38)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"input",39),t.nI1(4,"translate"),t.bIt("input",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.TaxChange(i))}),t.k0s(),t.DNE(5,Ci,3,3,"div",16),t.k0s()}if(2&a){const e=t.XpG();t.R7$(2),t.JRh(null==e.symbol?null:e.symbol.currencySymbol),t.R7$(),t.FS9("placeholder",t.bMT(4,3,"common.Tax")),t.R7$(2),t.Y8G("ngIf",e.DefaultPricemyForm.controls.Tax.hasError("required")&&1==e.submit)}}function Pi(a,s){if(1&a&&(t.j41(0,"ng-option",42),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.Y8G("value",e),t.R7$(),t.Lme(" ",e.taxName,"-",e.taxPercentage,"")}}function Di(a,s){if(1&a){const e=t.RV6();t.j41(0,"ng-select",40),t.mxI("ngModelChange",function(i){t.eBV(e);const o=t.XpG();return t.DH7(o.Percentageavlue,i)||(o.Percentageavlue=i),t.Njj(i)}),t.bIt("change",function(i){t.eBV(e);const o=t.XpG();return t.Njj(o.PercentageChange(i))}),t.DNE(1,Pi,2,3,"ng-option",41),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("searchable",!1),t.R50("ngModel",e.Percentageavlue),t.Y8G("ngModelOptions",t.lJ4(4,vi)),t.R7$(),t.Y8G("ngForOf",e.taxList)}}function Si(a,s){1&a&&(t.j41(0,"div",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Total Cost is required")," "))}function Fi(a,s){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",29),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"td"),t.EFF(11),t.nI1(12,"date"),t.k0s(),t.j41(13,"td",29)(14,"div",43)(15,"button",44),t.nrm(16,"img",45),t.k0s(),t.j41(17,"div",46)(18,"h5"),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"a",47),t.bIt("click",function(){const i=t.eBV(e),o=i.$implicit,n=i.index,l=t.XpG();return t.Njj(l.editdiscountPrice(n,o,"discount"))}),t.nrm(22,"img",48),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"a",47),t.bIt("click",function(){const i=t.eBV(e).index,o=t.XpG();return t.Njj(o.deteleDiscountandspecial(i,"discount"))}),t.nrm(26,"img",49),t.EFF(27),t.nI1(28,"translate"),t.k0s()()()()()}if(2&a){const e=s.$implicit;t.R7$(2),t.JRh(null==e?null:e.skuName),t.R7$(2),t.JRh(e.discountPriority),t.R7$(2),t.SpI("$",e.discountPrice,""),t.R7$(2),t.SpI("",t.i5U(9,8,e.discountDateStart,"dd MMM yyyy")," "),t.R7$(3),t.JRh(t.i5U(12,11,e.discountDateEnd,"dd MMM yyyy")),t.R7$(8),t.JRh(t.bMT(20,14,"common.Actions")),t.R7$(4),t.SpI(" ",t.bMT(24,16,"common.Edit")," "),t.R7$(4),t.SpI(" ",t.bMT(28,18,"common.Delete")," ")}}function ji(a,s){1&a&&(t.j41(0,"div",50)(1,"span"),t.nrm(2,"img",51),t.k0s(),t.j41(3,"h4"),t.EFF(4," No Discount Prices are added ! "),t.k0s()())}function Ti(a,s){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",29),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"currencysymbol"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.nI1(10,"date"),t.k0s(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"date"),t.k0s(),t.j41(14,"td",29)(15,"div",43)(16,"button",44),t.nrm(17,"img",45),t.k0s(),t.j41(18,"div",46)(19,"h5"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"a",47),t.bIt("click",function(){const i=t.eBV(e),o=i.$implicit,n=i.index,l=t.XpG();return t.Njj(l.editdiscountPrice(n,o,"special"))}),t.nrm(23,"img",48),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"a",47),t.bIt("click",function(){const i=t.eBV(e).index,o=t.XpG();return t.Njj(o.deteleDiscountandspecial(i,"special"))}),t.nrm(27,"img",49),t.EFF(28),t.nI1(29,"translate"),t.k0s()()()()()}if(2&a){const e=s.$implicit;t.R7$(2),t.JRh(null==e?null:e.skuName),t.R7$(2),t.JRh(e.specialPriority),t.R7$(2),t.JRh(t.bMT(7,8,e.specialPrice)),t.R7$(3),t.SpI("",t.i5U(10,10,e.specialDateStart,"dd MMM yyyy")," "),t.R7$(3),t.JRh(t.i5U(13,13,e.specialDateEnd,"dd MMM yyyy")),t.R7$(8),t.JRh(t.bMT(21,16,"common.Actions")),t.R7$(4),t.SpI(" ",t.bMT(25,18,"common.Edit")," "),t.R7$(4),t.SpI(" ",t.bMT(29,20,"common.Delete")," ")}}function Ri(a,s){1&a&&(t.j41(0,"div",50)(1,"span"),t.nrm(2,"img",51),t.k0s(),t.j41(3,"h4"),t.EFF(4," No Special Prices are added ! "),t.k0s()())}function Ei(a,s){1&a&&(t.j41(0,"span"),t.nrm(1,"img",55),t.k0s())}function $i(a,s){if(1&a&&(t.qex(0,52),t.j41(1,"button",53),t.nI1(2,"async"),t.DNE(3,Ei,2,0,"span",54),t.nI1(4,"async"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.bVm()),2&a){const e=t.XpG();t.R7$(),t.Y8G("disabled",t.bMT(2,3,!e.productsandbox.ProducteditLoading)),t.R7$(2),t.Y8G("ngIf",t.bMT(4,5,e.productsandbox.ProducteditLoading)),t.R7$(2),t.SpI(" ",t.bMT(6,7,"common.Save"),"")}}function Mi(a,s){1&a&&(t.j41(0,"span"),t.nrm(1,"img",55),t.k0s())}function Vi(a,s){if(1&a){const e=t.RV6();t.j41(0,"button",56),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onSubmit())}),t.DNE(2,Mi,2,0,"span",54),t.nI1(3,"async"),t.EFF(4),t.nI1(5,"translate"),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("disabled",t.bMT(1,3,!e.productsandbox.ProducteditLoading)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,5,e.productsandbox.ProducteditLoading)),t.R7$(2),t.SpI(" ",t.bMT(5,7,"common.Save"),"")}}let ut=(()=>{class a{constructor(e,r,i,o,n,l,g,h){this.modalService=e,this.formBuilder=r,this.productsandbox=i,this.ref=o,this.dataService=n,this.route=l,this.router=g,this.seoServices=h,this.currency=JSON.parse(localStorage.getItem("adminCurrency")),this.submit=!1,this.buttonLoader=!1,this.buttonSubmit=!1,this.valuecheckbox=!0,this.taxList=[],this.showData=!1,this.valProductDetail={},this.valProductSeo={},this.discountpricearray=[],this.specialDiscountPriceArray=[],this.specificationDetails=[],this.symbol=JSON.parse(localStorage.getItem("vendor-settings")),this.ProductSeo=v.rh.length>0,this.subscribtion=new _.yU,this.paramsValue={}}ngOnInit(){this.editId=this.router.snapshot.params.id,this.refreshStatus=this.dataService.getObjPageRefresh(),0==this.refreshStatus&&(["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/categories"],{queryParams:this.paramsValue}):this.route.navigate(["/new-catalog/products/categories/",this.editId],{queryParams:this.paramsValue})),this.formFields(),this.formDiscountPrice(),this.formspecialPrice(),this.TaxApiList(),this.getDatasss(),["",null,void 0].includes(this.editId)||this.updateDetails();let e=JSON.parse(localStorage.getItem("vendorUserDetails"));this.vendorUserDetails=e,this.routeSubscribe()}routeSubscribe(){this.router.queryParams.subscribe(e=>{this.paramsValue=e})}caterogiessetDats(){let e=[];this.getupdateDetails?.Category.forEach((r,i)=>{e[i]=r.categoryId}),this.valcategories=e,this.dataService.setData(e)}getProductSeo(){}productdetailssetDats(){this.dataService.setDataProductDetails({productName:this.getupdateDetails.name,skuNumber:this.getupdateDetails.sku,inventory:this.getupdateDetails.quantity,productDescription:this.getupdateDetails.description,productHighlights:this.getupdateDetails.productHighlights,image:this.getupdateDetails.productImage,fromDateValid:this.getupdateDetails.dateAvailable,dummyImage:this.getupdateDetails?.productImage})}getDatasss(){this.valcategories=this.dataService.getData(),this.valProductDetail=this.dataService.getDataProductDetails(),this.pricingDetails=this.dataService.getPricingDetail();let e=this.dataService.getSpecificationData();this.specificationDetails=e?.specifications,this.valProductSeo=this.dataService.getProductSeo(),this.pricingDetails&&this.defaultpricigsetvalue()}isEmptyObject(e){return 0===Object.keys(e).length}updateDetails(){this.productsandbox.ProductUpdateDetails(this.editId),this.subscribtion.add(this.productsandbox.ProductUpdateDetails$.subscribe(e=>{if(1==e?.status){let r;if(this.getupdateDetails=e?.data,1==this.isEmptyObject(this.valProductDetail)&&(this.caterogiessetDats(),this.productdetailssetDats(),this.getDatasss()),this.DefaultPricemyForm.controls.Tax.setValue(e?.data?.taxValue),this.DefaultPricemyForm.controls.TotalCost.setValue(Number(e?.data?.productCost)+Number(e?.data?.taxValue)),this.DefaultPricemyForm.controls.productCost.setValue(e?.data?.productCost),this.valuecheckbox=1==e.data.taxType,this.percentagecheckbox=2==e.data.taxType,1==this.percentagecheckbox){this.taxId=e?.data?.taxValue;let i=this.taxList.filter(o=>o.taxId==this.taxId);r=i[0],this.Percentageavlue=i[0],this.showData=!0,this.DefaultPricemyForm.controls.TotalCost.setValue(this.percentage(r?.taxPercentage,e?.data?.productCost))}else this.showData=!1;this.specialUpadteDetails(e.data),this.discountUpdteDetails(e.data),this.discountpricearray.forEach((i,o)=>{i.skuName=e?.data?.sku}),this.specialDiscountPriceArray.forEach((i,o)=>{i.skuName=e?.data?.sku})}}))}discountUpdteDetails(e){e.productDiscountData.forEach((r,i)=>{this.discountpricearray[i]={skuName:r.skuName,discountPriority:r.priority,discountPrice:r.price,discountDateStart:r.dateStart,discountDateEnd:r.dateEnd}})}specialUpadteDetails(e){e.productSpecialPrice.forEach((r,i)=>{this.specialDiscountPriceArray[i]={customerGroupId:1,skuName:r.skuName,specialPriority:r.priority,specialPrice:r.price,specialDateStart:r.dateStart,specialDateEnd:r.dateEnd}})}defaultpricigsetvalue(){this.DefaultPricemyForm.controls.Tax.setValue(this.pricingDetails.Tax),this.DefaultPricemyForm.controls.TotalCost.setValue(this.pricingDetails.TotalCost),this.DefaultPricemyForm.controls.productCost.setValue(this.pricingDetails.productCost),[null,void 0,""].includes(this.pricingDetails.types)||("value"==this.pricingDetails.types?(this.valuecheckbox=!0,this.percentagecheckbox=!1):(this.percentagecheckbox=!0,this.valuecheckbox=!1))}TaxApiList(){this.productsandbox.TaxList({}),this.subscribtion.add(this.productsandbox.TaxList$.subscribe(e=>{1==e?.status&&(this.taxList=e?.data)}))}formFields(){this.DefaultPricemyForm=this.formBuilder.group({productCost:["",u.k0.required],Tax:["",u.k0.required],TotalCost:["",[u.k0.required]]})}formDiscountPrice(){this.discountPrice=this.formBuilder.group({Priority:["",u.k0.required],Price:["",u.k0.required],DateStart:["",u.k0.required],DateEnd:["",u.k0.required]})}formspecialPrice(){this.specialDiscount=this.formBuilder.group({Priority:["",u.k0.required],Price:["",u.k0.required],DateStart:["",u.k0.required],DateEnd:["",u.k0.required]})}resetServices(){this.dataService.setData([]),this.dataService.setDatacategoriesRightArray({}),this.dataService.setDatacategoriesLeftArray({}),this.dataService.setDataproductDetailsPagePrev({}),this.dataService.setDataProductDetails({}),this.dataService.setSpecificationData([]),this.dataService.setSpecificationDetailsPagePrev({}),this.dataService.setAdvanceSpecificaionData({}),this.dataService.setPricingDetails({}),this.dataService.setDataProductSeo({})}setDatas(e){var r=e;r.type=[null,void 0,""].includes(this.taxId)?"value":"percentage",this.dataService.setPricingDetails(r)}ngAfterViewChecked(){0==this.dataService.getData()?.length&&this.getupdateDetails?.Category.forEach(e=>{this.valcategories.push(e.categoryId)})}convertToProductHighlights(e){if(e)return(e?.split(/<\/?p>/).filter(o=>""!==o.trim())).map(o=>({data:`<p>${o.trim()}</p>`}))}changeDateFormat(e){return P(e).format("YYYY-MM-DD")}onSubmit(){if(this.submit=!0,this.setDatas(this.DefaultPricemyForm.value),this.ref.detectChanges(),this.valProductDetail.dummyImage.forEach((e,r)=>{e.sortOrder=1==e.defaultImage?1:r+1}),this.discountpricearray?.length>0&&this.discountpricearray.forEach(e=>{e.discountDateEnd=P(e.discountDateEnd).format("YYYY-MM-DD"),e.discountDateStart=P(e.discountDateStart).format("YYYY-MM-DD")}),this.specialDiscountPriceArray?.length>0&&this.specialDiscountPriceArray.forEach(e=>{e.specialDateEnd=P(e.specialDateEnd).format("YYYY-MM-DD"),e.specialDateStart=P(e.specialDateStart).format("YYYY-MM-DD")}),["",null,void 0].includes(this.DefaultPricemyForm.value.Tax)&&this.DefaultPricemyForm.controls.Tax.setValue(100),!["",null,void 0].includes(this.valProductDetail.productName)){const e=this.convertToProductHighlights(this.valProductDetail.productHighlights),r=this.valProductDetail.dummyImage.filter((o,n,l)=>0===o.defaultImage||n===l.findIndex(g=>g.image===o.image&&1===g.defaultImage));let i={productName:this.valProductDetail.productName,sku:this.valProductDetail.skuNumber,metaTagTitle:"",metaTagDescription:"",productDescription:this.valProductDetail.productDescription,upc:"1",quantity:this.valProductDetail.inventory,dateAvailable:this.changeDateFormat(this.valProductDetail.fromDateValid),pincodeBasedDelivery:0,hsn:"",relatedProductId:[],image:r,categoryId:this.valcategories,condition:1,vendorId:this.vendorUserDetails.vendorId,price:this.DefaultPricemyForm.value.productCost,packingCost:0,shippingCost:0,others:0,tax:["",void 0,null].includes(this.Percentageavlue)?this.DefaultPricemyForm.value.Tax:this.Percentageavlue.taxId,taxType:["",void 0,null].includes(this.Percentageavlue)?1:2,productSpecial:this.specialDiscountPriceArray,productDiscount:this.discountpricearray,metaTagKeyword:"",sortOrder:1,productHighlights:e,productVideo:{name:this.valProductDetail?.videoDetails?.image??"",path:this.valProductDetail?.videoDetails?.path??"",type:1},editid:this.editId};this.DefaultPricemyForm.valid&&(this.buttonLoader=!0,["",null,void 0].includes(this.editId)?(this.buttonSubmit=!0,this.productsandbox.ProductCreation(i),this.subscribtion.add(this.productsandbox.ProductCreation$.subscribe(o=>{if(this.ref.detectChanges(),1===o?.status){this.buttonLoader=!1;let n={productSpecifications:this.specificationDetails,productId:o?.data?.productId};this.ref.detectChanges();let l={metaTagTitle:this.valProductSeo.metaTitle??"",metaTagDescription:this.valProductSeo.metaKeyword??"",metaTagKeyword:this.valProductSeo.metaDescription??"",productId:o?.data?.productId};this.ref.detectChanges(),o?.data?.productId&&1===o?.status&&this.subscribtion.add(this.seoServices.CreateProductSeo(l).subscribe(g=>{1===g?.status&&n?.productSpecifications?.length>0?this.subscribtion.add(this.seoServices.Specification_Create(n).subscribe(h=>{this.subscribtion.add(this.seoServices.attributeSlug(n?.productId).subscribe(I=>{1===I?.status&&(this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue}))}))})):(this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue}))}))}0===o?.status&&(this.buttonLoader=!1,setTimeout(()=>{this.buttonSubmit=!1},1e3))}))):(this.productsandbox.Productedit(i),this.buttonSubmit=!0,this.productsandbox.Productedit$.subscribe(o=>{1==o?.status&&(this.ref.detectChanges(),this.buttonLoader=!1,this.resetServices(),this.route.navigate([decodeURI("/new-catalog/products/list")],{queryParams:this.paramsValue}))}),setTimeout(()=>{this.buttonSubmit=!1},1e3)))}}convertDetailToEditApi(e){const r=e.length?e[0].productId.toString():"";return{deleteSpecificationIds:[],deleteAttributeGroupIds:[],deleteAttributeIds:[],deleteAttributeValueIds:[],productSpecifications:e.map(o=>({specificationId:o.specificationId,id:o.id,attributeGroups:o.attributeGroups.map(n=>({id:n.id,attributes:n.attributes.map(l=>({attributeId:l.attributeId,id:l.id,attributeValues:l.attributesValues.map(g=>({attributeValueId:g.attributeValueId,id:null,value:g.value}))}))}))})),productId:r}}productCostChnage(){this.DefaultPricemyForm.controls.TotalCost.setValue(""),this.DefaultPricemyForm.controls.Tax.setValue(""),this.taxId="",this.Percentageavlue="",this.showData=!1,this.percentagecheckbox=!1,this.valuecheckbox=!0}TaxChange(e){this.showData=!1,this.DefaultPricemyForm.controls.TotalCost.setValue(Number(this.DefaultPricemyForm.value.productCost)+Number(e.target.value))}percentage(e,r){return e*r/100+r}PercentageChange(e){this.DefaultPricemyForm.controls.TotalCost.setValue(this.percentage(Number(e.taxPercentage),Number(this.DefaultPricemyForm.value.productCost))),this.taxId=e.taxId}checkboxchange(e){"value"==e&&(this.showData=!1,this.DefaultPricemyForm.controls.TotalCost.setValue(""),this.DefaultPricemyForm.controls.Tax.setValue(""),this.Percentageavlue=""),"Percentage"==e&&(this.DefaultPricemyForm.controls.Tax.setValue(""),this.DefaultPricemyForm.controls.TotalCost.setValue(""),this.editId&&(this.getupdateDetails?.productCost==this.DefaultPricemyForm.value.productCost||this.DefaultPricemyForm.controls.TotalCost.setValue("")),this.showData=!0)}openassigndiscount(){const e=this.modalService.open(B,{size:"xl",windowClass:"assignattributesmodal",backdrop:"static",backdropClass:"createcr",centered:!0});e.componentInstance.formgroup=this.discountPrice,e.componentInstance.getdata=this.getupdateDetails,e.result.then(r=>{let i={skuName:this.getupdateDetails.sku,discountPriority:r.formgroup.value.Priority,discountPrice:r.formgroup.value.Price,discountDateStart:r.formgroup.value.DateStart.toISOString(),discountDateEnd:r.formgroup.value.DateEnd.toISOString(),disCustomerGroup:""};this.discountpricearray.push(i)})}deteleDiscountandspecial(e,r){"discount"==r?this.discountpricearray.splice(e,1):this.specialDiscountPriceArray.splice(e,1)}OpenSpecialdiscount(){const e=this.modalService.open(B,{size:"xl",windowClass:"assignattributesmodal",backdrop:"static",backdropClass:"createcr",centered:!0});e.componentInstance.formgroup=this.specialDiscount,e.componentInstance.getdata=this.getupdateDetails,e.componentInstance.ActionName="SpecialPrice",e.result.then(r=>{let i={customerGroupId:1,skuName:this.getupdateDetails.sku,specialPriority:r.formgroup.value.Priority,specialPrice:r.formgroup.value.Price,specialDateStart:r.formgroup.value.DateStart.toISOString(),specialDateEnd:r.formgroup.value.DateEnd.toISOString()};this.specialDiscountPriceArray.push(i),this.specialDiscount.reset()})}editdiscountPrice(e,r,i){const o=this.modalService.open(B,{size:"xl",windowClass:"assignattributesmodal",backdrop:"static",backdropClass:"createcr",centered:!0});"discount"==i?o.componentInstance.formgroup=this.discountPrice:(o.componentInstance.formgroup=this.specialDiscount,o.componentInstance.ActionName="SpecialPrice"),o.componentInstance.getdata=this.getupdateDetails,o.componentInstance.editValue=r,o.result.then(n=>{"SpecialPrice"==n.ActionName?(this.specialDiscountPriceArray[e]={customerGroupId:1,skuName:this.getupdateDetails.sku,specialPriority:n.formgroup.value.Priority,specialPrice:n.formgroup.value.Price,specialDateStart:n.formgroup.value.DateStart,specialDateEnd:n.formgroup.value.DateEnd},this.specialDiscount.reset()):(this.discountpricearray[e]={skuName:this.getupdateDetails.sku,discountPriority:n.formgroup.value.Priority,discountPrice:n.formgroup.value.Price,discountDateStart:n.formgroup.value.DateStart,discountDateEnd:n.formgroup.value.DateEnd,disCustomerGroup:""},this.discountPrice.reset())})}prev(){v.rh.length>0?(this.dataService.setpricingPrev("pricingPrev"),["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/seo"],{queryParams:this.paramsValue}):this.route.navigate(["/new-catalog/products/seo",this.editId],{queryParams:this.paramsValue})):(this.dataService.setpricingPrev("pricingPrev"),["",null,void 0].includes(this.editId)?this.route.navigate(["/new-catalog/products/specification"],{queryParams:this.paramsValue}):this.route.navigate(["/new-catalog/products/specification",this.editId,this.getupdateDetails?.name],{queryParams:this.paramsValue}))}cancel(){this.resetServices(),this.route.navigate(["/new-catalog/products/list"],{queryParams:this.paramsValue})}ngOnDestroy(){this.subscribtion.unsubscribe()}static{this.\u0275fac=function(r){return new(r||a)(t.rXU(c.Bq),t.rXU(u.ze),t.rXU($.R),t.rXU(t.gRc),t.rXU(V.u),t.rXU(f.Ix),t.rXU(f.nX),t.rXU(st.H))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-pricing-setup"]],decls:190,vars:163,consts:[["nnn",""],[1,"product-add-container"],[1,"product-add-nav"],[1,"product-add-nav-col","completed"],["class","product-add-nav-col completed",4,"ngIf"],[1,"product-add-nav-col","current"],[1,"product-add-section"],[1,"inner-heading"],[1,"product-specs-heading"],[1,"product-specs-heading-lft"],[3,"ngSubmit","formGroup"],[1,"details-row3"],[1,"input-group","mb-35"],[1,"ig-row"],[1,"ig-group-row",3,"ngClass"],["type","number","formControlName","productCost","appNospace","","onKeyPress","if(this.value.length==8) return false;",3,"input","placeholder","ngClass"],["class","error","style","position: absolute;top: 100%;color: red;font-size: 13px;",4,"ngIf"],["class","ig-group-row position-relative",4,"ngIf","ngIfElse"],[1,"radio-row"],[1,"radio","handsymbol"],["id","radio-1","name","radio","type","radio",3,"input","checked"],["for","radio-1",1,"radio-label","handsymbol"],["id","radio-2","name","radio","type","radio",3,"change","checked"],["for","radio-2",1,"radio-label","handsymbol"],[1,"ig-group-row"],["type","text","formControlName","TotalCost","appNospace","","readonly","",3,"placeholder"],[1,"button-reg","btn-lg","secondary",3,"click","disabled","ngClass"],[1,"table-responsive"],[1,"table"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","nodata flexx",4,"ngIf"],[1,"product-save-btn"],[1,"cancel",3,"click"],[1,"prev",3,"click"],["class","removeHandSymbol",4,"ngIf"],["class","save",3,"disabled","click",4,"ngIf"],[1,"error",2,"position","absolute","top","100%","color","red","font-size","13px"],[1,"ig-group-row","position-relative"],["type","number","formControlName","Tax","appNospace","","onKeyPress","if(this.value.length==8) return false;",3,"input","placeholder"],["placeholder","Tax",1,"col-12",2,"border","none","padding","0px",3,"ngModelChange","change","searchable","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,""],["src","assets/imgs/v-dots.svg","alt",""],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["href","javascript:void(0)","ngbDropdownItem","",3,"click"],["src","assets/imgs/edit.svg","alt",""],["src","assets/imgs/delete.svg","alt",""],[1,"nodata","flexx"],["src","assets/imgs/nodata.svg","alt",""],[1,"removeHandSymbol"],[1,"save",3,"disabled"],[4,"ngIf"],["src","assets/imgs/loading.gif","alt","",2,"width","20px","padding","2px"],[1,"save",3,"click","disabled"]],template:function(r,i){if(1&r){const o=t.RV6();t.j41(0,"header")(1,"h1"),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"div",1)(7,"div",2)(8,"div",3)(9,"p"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"h3"),t.EFF(13),t.nI1(14,"translate"),t.k0s()(),t.j41(15,"div",3)(16,"p"),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"h3"),t.EFF(20),t.nI1(21,"translate"),t.k0s()(),t.j41(22,"div",3)(23,"p"),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"h3"),t.EFF(27),t.nI1(28,"translate"),t.k0s()(),t.DNE(29,Ii,7,6,"div",4),t.j41(30,"div",5)(31,"p"),t.EFF(32),t.nI1(33,"translate"),t.k0s(),t.j41(34,"h3"),t.EFF(35),t.nI1(36,"translate"),t.k0s()()(),t.j41(37,"div",6)(38,"div",7)(39,"h3"),t.EFF(40),t.nI1(41,"translate"),t.k0s(),t.j41(42,"p"),t.EFF(43),t.nI1(44,"translate"),t.k0s()(),t.j41(45,"div",8)(46,"div",9)(47,"h4"),t.EFF(48),t.nI1(49,"translate"),t.k0s(),t.j41(50,"p"),t.EFF(51),t.nI1(52,"translate"),t.k0s()()(),t.j41(53,"form",10),t.bIt("ngSubmit",function(){return t.eBV(o),t.Njj(i.onSubmit())}),t.j41(54,"div",11)(55,"div",12)(56,"label"),t.EFF(57),t.nI1(58,"translate"),t.j41(59,"p"),t.EFF(60),t.nI1(61,"translate"),t.k0s()(),t.j41(62,"div",13)(63,"div",14)(64,"span"),t.EFF(65),t.k0s(),t.j41(66,"input",15),t.nI1(67,"translate"),t.bIt("input",function(){return t.eBV(o),t.Njj(i.productCostChnage())}),t.k0s()()(),t.DNE(68,yi,3,3,"div",16),t.k0s(),t.j41(69,"div",12)(70,"label"),t.EFF(71),t.nI1(72,"translate"),t.j41(73,"p"),t.EFF(74),t.nI1(75,"translate"),t.k0s()(),t.j41(76,"div",13),t.DNE(77,ki,6,5,"div",17)(78,Di,2,5,"ng-template",null,0,t.C5r),t.j41(80,"div",18)(81,"div",19)(82,"input",20),t.bIt("input",function(){return t.eBV(o),t.Njj(i.checkboxchange("value"))}),t.k0s(),t.j41(83,"label",21),t.EFF(84),t.nI1(85,"translate"),t.j41(86,"p"),t.EFF(87),t.nI1(88,"translate"),t.k0s()()(),t.j41(89,"div",19)(90,"input",22),t.bIt("change",function(){return t.eBV(o),t.Njj(i.checkboxchange("Percentage"))}),t.k0s(),t.j41(91,"label",23),t.EFF(92),t.nI1(93,"translate"),t.j41(94,"p"),t.EFF(95),t.nI1(96,"translate"),t.k0s()()()()()(),t.j41(97,"div",12)(98,"label"),t.EFF(99),t.nI1(100,"translate"),t.j41(101,"p"),t.EFF(102),t.nI1(103,"translate"),t.k0s()(),t.j41(104,"div",13)(105,"div",24)(106,"span"),t.EFF(107),t.k0s(),t.nrm(108,"input",25),t.nI1(109,"translate"),t.k0s()(),t.DNE(110,Si,3,3,"div",16),t.k0s()()(),t.j41(111,"div",8)(112,"div",9)(113,"h4"),t.EFF(114),t.nI1(115,"translate"),t.k0s(),t.j41(116,"p"),t.EFF(117),t.nI1(118,"translate"),t.k0s()(),t.j41(119,"button",26),t.bIt("click",function(){return t.eBV(o),t.Njj(i.openassigndiscount())}),t.EFF(120),t.nI1(121,"translate"),t.k0s()(),t.j41(122,"div",27)(123,"table",28)(124,"thead")(125,"tr")(126,"th"),t.EFF(127),t.nI1(128,"translate"),t.k0s(),t.j41(129,"th",29),t.EFF(130),t.nI1(131,"translate"),t.k0s(),t.j41(132,"th"),t.EFF(133),t.nI1(134,"translate"),t.k0s(),t.j41(135,"th"),t.EFF(136),t.nI1(137,"translate"),t.k0s(),t.j41(138,"th"),t.EFF(139),t.nI1(140,"translate"),t.k0s(),t.j41(141,"th",29),t.EFF(142,"Action"),t.k0s()()(),t.j41(143,"tbody"),t.DNE(144,Fi,29,20,"tr",30),t.k0s()(),t.DNE(145,ji,5,0,"div",31),t.k0s(),t.j41(146,"div",8)(147,"div",9)(148,"h4"),t.EFF(149),t.nI1(150,"translate"),t.k0s(),t.j41(151,"p"),t.EFF(152),t.nI1(153,"translate"),t.k0s()(),t.j41(154,"button",26),t.bIt("click",function(){return t.eBV(o),t.Njj(i.OpenSpecialdiscount())}),t.EFF(155),t.nI1(156,"translate"),t.k0s()(),t.j41(157,"div",27)(158,"table",28)(159,"thead")(160,"tr")(161,"th"),t.EFF(162),t.nI1(163,"translate"),t.k0s(),t.j41(164,"th",29),t.EFF(165),t.nI1(166,"translate"),t.k0s(),t.j41(167,"th"),t.EFF(168),t.nI1(169,"translate"),t.k0s(),t.j41(170,"th"),t.EFF(171),t.nI1(172,"translate"),t.k0s(),t.j41(173,"th"),t.EFF(174),t.nI1(175,"translate"),t.k0s(),t.j41(176,"th",29),t.EFF(177,"Action"),t.k0s()()(),t.j41(178,"tbody"),t.DNE(179,Ti,30,22,"tr",30),t.k0s()(),t.DNE(180,Ri,5,0,"div",31),t.k0s()()(),t.j41(181,"div",32)(182,"button",33),t.bIt("click",function(){return t.eBV(o),t.Njj(i.cancel())}),t.EFF(183),t.nI1(184,"translate"),t.k0s(),t.j41(185,"button",34),t.bIt("click",function(){return t.eBV(o),t.Njj(i.prev())}),t.EFF(186),t.nI1(187,"translate"),t.k0s(),t.DNE(188,$i,7,9,"ng-container",35)(189,Vi,6,9,"button",36),t.k0s()}if(2&r){let o;const n=t.sdS(79);t.R7$(2),t.JRh(i.editId?(null==(o=t.bMT(3,65,i.productsandbox.ProductUpdateDetails$))||null==o.data?null:o.data.name)+t.bMT(4,67,"common.edit"):t.bMT(5,69,"common.Create Product")),t.R7$(8),t.JRh(t.bMT(11,71,"common.Completed")),t.R7$(3),t.SpI("1. ",t.bMT(14,73,"common.Choose Categories"),""),t.R7$(4),t.JRh(t.bMT(18,75,"common.Completed")),t.R7$(3),t.SpI("2. ",t.bMT(21,77,"common.Product Details"),""),t.R7$(4),t.JRh(t.bMT(25,79,"common.Completed")),t.R7$(3),t.SpI("3. ",t.bMT(28,81,"common.Product Specification"),""),t.R7$(2),t.Y8G("ngIf",1==i.ProductSeo),t.R7$(3),t.JRh(t.bMT(33,83,"common.Current")),t.R7$(3),t.SpI("5. ",t.bMT(36,85,"common.Pricing Setup"),""),t.R7$(5),t.JRh(t.bMT(41,87,"common.PRICING SETUP")),t.R7$(3),t.JRh(t.bMT(44,89,"common.PriceSetupDescription")),t.R7$(5),t.JRh(t.bMT(49,91,"common.Default Price")),t.R7$(3),t.JRh(t.bMT(52,93,"common.DefaultPriceDescription")),t.R7$(2),t.Y8G("formGroup",i.DefaultPricemyForm),t.R7$(4),t.SpI(" ",t.bMT(58,95,"common.ProductCost")," * "),t.R7$(3),t.JRh(t.bMT(61,97,"common.ProductCostDescription")),t.R7$(3),t.Y8G("ngClass",t.eq3(155,X,0==(null==i.getupdateDetails?null:i.getupdateDetails.isSimplified))),t.R7$(2),t.JRh(null==i.symbol?null:i.symbol.currencySymbol),t.R7$(),t.FS9("placeholder",t.bMT(67,99,"common.ProductCost")),t.Y8G("ngClass",t.eq3(157,_i,i.DefaultPricemyForm.controls.productCost.hasError("required")||0==i.DefaultPricemyForm.value.productCost&&!i.DefaultPricemyForm.controls.productCost.hasError("required"))),t.R7$(2),t.Y8G("ngIf",i.DefaultPricemyForm.controls.productCost.hasError("required")&&1==i.submit),t.R7$(3),t.SpI(" ",t.bMT(72,101,"common.Tax")," * "),t.R7$(3),t.JRh(t.bMT(75,103,"common.TaxDescription")),t.R7$(3),t.Y8G("ngIf",0==i.showData)("ngIfElse",n),t.R7$(5),t.Y8G("checked",i.valuecheckbox),t.R7$(2),t.SpI(" ",t.bMT(85,105,"common.Value")," "),t.R7$(3),t.JRh(t.bMT(88,107,"common.ValueLabel")),t.R7$(3),t.Y8G("checked",i.percentagecheckbox),t.R7$(2),t.SpI(" ",t.bMT(93,109,"common.Percentage")," "),t.R7$(3),t.JRh(t.bMT(96,111,"common.PercentageLabel")),t.R7$(4),t.SpI(" ",t.bMT(100,113,"common.Total Cost (MRP)")," * "),t.R7$(3),t.JRh(t.bMT(103,115,"common.ToatalCostLabel")),t.R7$(5),t.JRh(null==i.symbol?null:i.symbol.currencySymbol),t.R7$(),t.FS9("placeholder",t.bMT(109,117,"common.Total Cost")),t.R7$(2),t.Y8G("ngIf",i.DefaultPricemyForm.controls.TotalCost.hasError("required")&&1==i.submit),t.R7$(4),t.JRh(t.bMT(115,119,"common.Assign Discount Price")),t.R7$(3),t.JRh(t.bMT(118,121,"CommonContent.VariantDiscount")),t.R7$(2),t.Y8G("disabled",!i.editId)("ngClass",t.eq3(159,X,!i.editId||0==(null==i.getupdateDetails?null:i.getupdateDetails.isSimplified))),t.R7$(),t.SpI(" ",t.bMT(121,123,"common.Assign Discount Price")," "),t.R7$(7),t.JRh(t.bMT(128,125,"common.SKU")),t.R7$(3),t.JRh(t.bMT(131,127,"common.Priority")),t.R7$(3),t.JRh(t.bMT(134,129,"common.Price")),t.R7$(3),t.JRh(t.bMT(137,131,"common.Start Date")),t.R7$(3),t.JRh(t.bMT(140,133,"common.End Date")),t.R7$(5),t.Y8G("ngForOf",i.discountpricearray),t.R7$(),t.Y8G("ngIf",0==(null==i.discountpricearray?null:i.discountpricearray.length)),t.R7$(4),t.JRh(t.bMT(150,135,"common.Special Price")),t.R7$(3),t.JRh(t.bMT(153,137,"CommonContent.VariantSpecial")),t.R7$(2),t.Y8G("disabled",!i.editId)("ngClass",t.eq3(161,X,!i.editId||0==(null==i.getupdateDetails?null:i.getupdateDetails.isSimplified))),t.R7$(),t.SpI(" ",t.bMT(156,139,"common.Assign Special Price")," "),t.R7$(7),t.JRh(t.bMT(163,141,"common.SKU")),t.R7$(3),t.JRh(t.bMT(166,143,"common.Priority")),t.R7$(3),t.JRh(t.bMT(169,145,"common.Price")),t.R7$(3),t.JRh(t.bMT(172,147,"common.Start Date")),t.R7$(3),t.JRh(t.bMT(175,149,"common.End Date")),t.R7$(5),t.Y8G("ngForOf",i.specialDiscountPriceArray),t.R7$(),t.Y8G("ngIf",0==(null==i.specialDiscountPriceArray?null:i.specialDiscountPriceArray.length)),t.R7$(3),t.JRh(t.bMT(184,151,"common.Cancel")),t.R7$(3),t.JRh(t.bMT(187,153,"common.Previous")),t.R7$(2),t.Y8G("ngIf",1==i.buttonSubmit),t.R7$(),t.Y8G("ngIf",0==i.buttonSubmit)}},dependencies:[m.YU,m.Sq,m.bT,u.qT,u.me,u.Q0,u.BC,u.cb,u.j4,u.JD,x.B,u.vS,c.tg,c.do,c.U0,c._H,N.vr,N.xt,m.Jj,m.vh,w.G,y.D9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.handsymbol[_ngcontent-%COMP%]{cursor:pointer}.removeHandSymbol[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%;height:-moz-fit-content!important;height:fit-content!important}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:#595959;min-height:36px!important;margin:0rem 0 0}.radio-row[_ngcontent-%COMP%]{margin-top:2rem!important}"]})}}return a})();const Ni=[{path:"",component:R.C,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:U,data:{title:"Products",ActiveStatus:"products-list",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/catalog/manage-products/"},{title:"breadcrumbs.ManageProducts",url:"/catalog/manage-products/list"},{title:"breadcrumbs.ProductList"}]}},{path:"successfull",component:U,data:{title:"Products",ActiveStatus:"successfull",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/catalog/manage-products/"},{title:"breadcrumbs.ManageProducts",url:"/catalog/manage-products/list"},{title:"breadcrumbs.ProductList"}]}},{path:"failed",component:U,data:{title:"Products",ActiveStatus:"successfull",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/catalog/manage-products/"},{title:"breadcrumbs.ManageProducts",url:"/catalog/manage-products/list"},{title:"breadcrumbs.ProductList"}]}},{path:"categories",component:rt,data:{title:"Products",ActiveStatus:"categories",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},{path:"categories/:id",component:rt,data:{title:"Products",ActiveStatus:"categoriesedit",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},{path:"product-details",component:dt,data:{title:"Products",ActiveStatus:"product-details",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},{path:"product-details/:id",component:dt,data:{title:"Products",ActiveStatus:"product-details-edit",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},...v.iu,...v.NL,{path:"pricing-setup",component:ut,data:{title:"Products",ActiveStatus:"pricing-setup",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}},{path:"pricing-setup/:id",component:ut,data:{title:"Products",ActiveStatus:"pricing-setup-edit",urls:[{title:"breadcrumbs.Home",url:"/dashboard"},{title:"breadcrumbs.Catalog",url:"/new-catalog/products/"},{title:"Products",url:"/new-catalog/products/list"},{title:"Categories"}]}}]}];let xi=(()=>{class a{static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[f.iI.forChild(Ni),f.iI]})}}return a})();var Oi=d(6600),Gi=d(9458),wi=d(6233),Li=d(9213),Ui=d(2256);d(7800);let Ai=(()=>{class a{static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({providers:[...v.HN,...v.zX],imports:[m.MD,xi,u.X1,F.RG,C.X6,Oi.WX,Gi.Gg,u.YN,c.UN,Y.fS,wi.aP,Li.m_,Ui.H,ct.w,N.MQ,y.h]})}}return a})()}}]);